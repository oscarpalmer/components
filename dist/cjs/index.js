"use strict";var J=Object.defineProperty;var Q=(l,e,t)=>e in l?J(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var w=(l,e,t)=>(Q(l,typeof e!="symbol"?e+"":e,t),t);var u={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},j=["[href]","[tabindex]","button","input","select","textarea"].map(l=>`${l}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function v(l){var e,t,i;return(i=(e=globalThis.requestAnimationFrame)==null?void 0:e.call(globalThis,l))!=null?i:(t=globalThis.setTimeout)==null?void 0:t.call(globalThis,()=>{l(Date.now())},16)}function P(l,e){let t=typeof e=="string";if(t?l.matches(e):e(l))return l;let i=l==null?void 0:l.parentElement;for(;i!=null;){if(i===document.body)return;if(t?i.matches(e):e(i))break;i=i.parentElement}return i!=null?i:void 0}function H(l,e,t){let i=l.getAttribute(e);return i==null||i.trim().length===0?t:i}function F(l){var i;let e=[],t=Array.from(l.querySelectorAll(j));for(let s of t){let n=(i=globalThis.getComputedStyle)==null?void 0:i.call(globalThis,s);(n==null||n.display!=="none"&&n.visibility!=="hidden")&&e.push(s)}return e}function G(l){return l==null?!0:l.trim().length===0}function D(l,e){return l.replace(/\{\{(\w+)\}\}/g,(t,...i)=>{var s;return i==null||i.length===0?t:String((s=e==null?void 0:e[i[0]])!=null?s:t)})}function g(l,e,t){t==null?l.removeAttribute(e):l.setAttribute(e,String(t))}function m(l,e,t){typeof t=="boolean"&&(l==null||l.setAttribute(e,String(t)))}var h=class{static destroyList(e){var n;let{children:t,observer:i,open:s}=b.list;t.delete(e),s.delete(e),(n=i.get(e))==null||n.disconnect(),i.delete(e)}static getChildren(e){return Array.from(e.querySelectorAll(":scope > delicious-details > details, :scope > details"))}static initializeList(e){var n;let{children:t,observer:i,open:s}=b.list;t.set(e,h.getChildren(e)),s.set(e,[]),i.set(e,new MutationObserver(o=>{C.callback(e,o)})),(n=i.get(e))==null||n.observe(e,C.options),h.open(e,H(e,"open",""))}static onGlobalKeydown(e){if(e.key!=="Escape")return;let{containers:t}=b.details,i=P(document.activeElement,s=>{var n,o;return t.has(s)&&((o=(n=t.get(s))==null?void 0:n.open)!=null?o:!0)});i instanceof W&&h.onToggle.call(i,!1)}static onLocalKeydown(e){var c;if(e.isComposing||e.key!=="ArrowDown"&&e.key!=="ArrowUp"||!(this instanceof z))return;let{target:t}=e;if(!(t instanceof HTMLElement))return;let i=(c=b.list.children.get(this))!=null?c:[],s=t.parentElement,n=i.indexOf(s);if(n===-1)return;let o=n+(e.key==="ArrowDown"?1:-1);o<0?o=i.length-1:o>=i.length&&(o=0);let r=i[o],a=r==null?void 0:r.querySelector(":scope > summary");a==null||a.focus()}static onToggle(e){var n;if(!(this instanceof W))return;let{buttons:t,containers:i}=b.details,s=i.get(this);s!=null&&(s.open=e!=null?e:!s.open,s.open||(n=t.get(this))==null||n.focus())}static open(e,t){if(t==null){h.update(e,[]);return}if(t.length>0&&!/^[\s\d,]+$/.test(t))throw new Error("The 'selected'-attribute of a 'delicious-details-list'-element must be a comma-separated string of numbers, e.g. '', '0' or '0,1,2'");let i=t.length>0?t.split(",").filter(s=>s.trim().length>0).map(s=>Number.parseInt(s,10)):[];h.update(e,i)}static update(e,t){var c,p;if(typeof t=="undefined")return;let{children:i,observer:s,open:n}=b.list,o=t.filter((d,y,q)=>q.indexOf(d)===y).sort((d,y)=>d-y);e.multiple||(o=o.length>0&&o[0]!=null?o.length>1?[o[0]]:o:[]);let r=e.open;if(o.length===r.length&&o.every((d,y)=>r[y]===d))return;(c=s.get(e))==null||c.disconnect();let a=(p=i.get(e))!=null?p:[];for(let d of a)o.includes(a.indexOf(d))!==d.open&&(d.open=!d.open);v(()=>{n.set(e,o),g(e,"open",o.length===0?null:o),e.dispatchEvent(new Event("toggle")),v(()=>{var d;return(d=s.get(e))==null?void 0:d.observe(e,C.options)})})}},C=class{static callback(e,t){var d,y,q;if(t.length===0)return;let{children:i}=b.list,s=t[0],n=Array.from((d=s==null?void 0:s.addedNodes)!=null?d:[]),o=Array.from((y=s==null?void 0:s.removedNodes)!=null?y:[]);if(n.concat(o).some(N=>N.parentElement===e)){i.set(e,h.getChildren(e));return}if((s==null?void 0:s.type)!=="attributes"||!((s==null?void 0:s.target)instanceof HTMLDetailsElement))return;let r=s.target,c=((q=i.get(e))!=null?q:[]).indexOf(r);if(c===-1)return;let p=[];e.multiple?p=r.open?e.open.concat([c]):e.open.filter(N=>N!==c):p=r.open?[c]:[],h.update(e,p)}};w(C,"options",{attributeFilter:["open"],attributes:!0,childList:!0,subtree:!0});var b=class{};w(b,"details",{buttons:new WeakMap,containers:new WeakMap}),w(b,"list",{children:new WeakMap,observer:new WeakMap,open:new WeakMap});var W=class extends HTMLElement{get open(){var e,t;return(t=(e=b.details.containers.get(this))==null?void 0:e.open)!=null?t:!1}set open(e){h.onToggle.call(this,e)}connectedCallback(){let e=this.querySelector(":scope > details"),t=e==null?void 0:e.querySelector(":scope > summary");b.details.buttons.set(this,t),b.details.containers.set(this,e)}disconnectedCallback(){b.details.buttons.delete(this),b.details.containers.delete(this)}toggle(){h.onToggle.call(this)}},z=class extends HTMLElement{static get observedAttributes(){return["multiple","open"]}get multiple(){return this.getAttribute("multiple")!=null}set multiple(e){g(this,"multiple",e?"":null)}get open(){var e;return(e=b.list.open.get(this))!=null?e:[]}set open(e){h.update(this,e)}constructor(){super(),this.addEventListener("keydown",h.onLocalKeydown.bind(this),u.passive)}attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"multiple":h.open(this,H(this,"open",""));break;case"open":h.open(this,i);break;default:break}}connectedCallback(){h.initializeList(this)}disconnectedCallback(){h.destroyList(this)}};globalThis.addEventListener("keydown",h.onGlobalKeydown,u.passive);globalThis.customElements.define("delicious-details",W);globalThis.customElements.define("delicious-details-list",z);var M="formal-focus-trap",I=new WeakMap,O=class{static observer(e){for(let t of e){if(t.type!=="attributes")continue;let i=t.target;i.getAttribute(M)==null?S.destroy(i):S.create(i)}}static onKeydown(e){if(e.key!=="Tab")return;let t=e.target,i=P(t,`[${M}]`);i!=null&&(e.preventDefault(),e.stopImmediatePropagation(),O.handle(e,i,t))}static handle(e,t,i){var r;let s=F(t);if(i===t){v(()=>{var a;((a=s[e.shiftKey?s.length-1:0])!=null?a:t).focus()});return}let n=s.indexOf(i),o=t;if(n>-1){let a=n+(e.shiftKey?-1:1);a<0?a=s.length-1:a>=s.length&&(a=0),o=(r=s[a])!=null?r:t}v(()=>{o.focus()})}},S=class{constructor(e){w(this,"tabIndex");this.tabIndex=e.tabIndex,g(e,"tabindex","-1")}static create(e){I.has(e)||I.set(e,new S(e))}static destroy(e){let t=I.get(e);t!=null&&(g(e,"tabindex",t.tabIndex),I.delete(e))}};(()=>{if(typeof globalThis._formalFocusTrap!="undefined")return;globalThis._formalFocusTrap=null,new MutationObserver(O.observer).observe(document,{attributeFilter:[M],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0}),v(()=>{let e=Array.from(document.querySelectorAll(`[${M}]`));for(let t of e)t.setAttribute(M,"")}),document.addEventListener("keydown",O.onKeydown,u.active)})();var T=class{static update(e,t,i){let{anchor:s,floater:n,parent:o}=e,{after:r,getPosition:a,validate:c}=i;function p(){if(!c())return;let d=T.getType(o!=null?o:s,t),y=a(d,{anchor:s.getBoundingClientRect(),floater:n.getBoundingClientRect(),parent:o==null?void 0:o.getBoundingClientRect()});T.setPosition(n,y),r==null||r(),v(p)}v(p)}static getType(e,t){let i=H(e,"position",t.default);return t.all.includes(i)?i:t.default}static setPosition(e,t){let{left:i,top:s}=t.coordinate;e.getAttribute("position")!==t.type&&e.setAttribute("position",t.type);let n=`matrix(1, 0, 0, 1, ${i}, ${s})`;e.style.transform!==n&&(e.style.inset="0 auto auto 0",e.style.position="fixed",e.style.transform=n,e.hidden&&v(()=>{e.hidden=!1}))}};var X=0,Y=["any"].concat(...["above","below"].map(l=>[l,`${l}-left`,`${l}-right`])),f=class{static getPosition(e,t){let i=f.getValue(e,["left","right"],t,!0),s=f.getValue(e,["below","above"],t,!1),n=t.anchor.left===i?"left":"right";if(e!=="any")return{coordinate:{left:i,top:s},type:["above","below"].includes(e)?`${e}-${n}`:e};let o=t.anchor.bottom===s?"below":"above";return{coordinate:{left:i,top:s},type:`${o}-${n}`}}static getValue(e,t,i,s){var d;let{anchor:n,floater:o}=i,r=s?o.width:o.height,a=s?n.left:n.bottom,c=(s?n.right:n.top)-r;return t.some(y=>e.includes(y))?e.includes((d=t[0])!=null?d:"_")?a:c:a+r<=(s?globalThis.innerWidth:globalThis.innerHeight)||c<0?a:c}static initialize(e,t,i){i.hidden=!0,G(i.id)&&g(i,"id",G(e.id)?`polite_popover_${X++}`:`${e.id}_content`),g(t,"aria-controls",i.id),m(t,"aria-expanded",!1),g(i,"role","dialog"),g(i,M,""),m(i,"aria-modal",!0),t.addEventListener("click",f.toggle.bind(e),u.passive)}static onClick(e){var s;if(!(this instanceof K)||!this.open)return;let t=E.values.anchors.get(this),i=E.values.floaters.get(this);e.target!==t&&e.target!==i&&!((s=i==null?void 0:i.contains(e.target))!=null&&s)&&f.toggle.call(this,!1)}static onKeydown(e){this instanceof K&&this.open&&e instanceof KeyboardEvent&&e.key==="Escape"&&f.toggle.call(this,!1)}static toggle(e){if(!(this instanceof K))return;let t=E.values.anchors.get(this),i=E.values.floaters.get(this);t!=null&&i!=null&&f.handleToggle(this,t,i,e)}static handleCallbacks(e,t){let i=E.values.click.get(e),s=E.values.keydown.get(e),n=t?"addEventListener":"removeEventListener";i!=null&&document[n]("click",i,u.passive),s!=null&&document[n]("keydown",s,u.active)}static handleToggle(e,t,i,s){let n=typeof s=="boolean"?!s:e.open;if(f.handleCallbacks(e,!n),i.hidden=n,m(t,"aria-expanded",!n),e.dispatchEvent(new Event("toggle")),n){t.focus();return}let o=!1;T.update({anchor:t,floater:i,parent:e},{all:Y,default:"below"},{after(){o||(o=!0,v(()=>{var r;((r=F(i)[0])!=null?r:i).focus()}))},getPosition:f.getPosition,validate:()=>e.open})}},k=class{static add(e){var s,n,o,r;let t=e.querySelector(":scope > [polite-popover-button]"),i=e.querySelector(":scope > [polite-popover-content]");t==null||i==null||((s=k.values.anchors)==null||s.set(e,t),(n=k.values.floaters)==null||n.set(e,i),(o=k.values.click)==null||o.set(e,f.onClick.bind(e)),(r=k.values.keydown)==null||r.set(e,f.onKeydown.bind(e)))}static remove(e){let t=k.values.floaters.get(e);t!=null&&(t.hidden=!0,e.appendChild(t)),k.values.anchors.delete(e),k.values.floaters.delete(e),k.values.click.delete(e),k.values.keydown.delete(e)}},E=k;w(E,"values",{anchors:new WeakMap,click:new WeakMap,floaters:new WeakMap,keydown:new WeakMap});var K=class extends HTMLElement{get button(){return E.values.anchors.get(this)}get content(){return E.values.floaters.get(this)}get open(){var e;return((e=this.button)==null?void 0:e.getAttribute("aria-expanded"))==="true"}set open(e){f.toggle.call(this,e)}constructor(){super();let e=this.querySelector(":scope > [polite-popover-button]"),t=this.querySelector(":scope > [polite-popover-content]");if(e==null||!(e instanceof HTMLButtonElement||e instanceof HTMLElement&&e.getAttribute("role")==="button"))throw new Error("<polite-popover> must have a <button>-element (or button-like element) with the attribute 'polite-popover-button'");if(t==null||!(t instanceof HTMLElement))throw new Error("<polite-popover> must have an element with the attribute 'polite-popover-content'");f.initialize(this,e,t)}connectedCallback(){E.add(this)}disconnectedCallback(){E.remove(this)}toggle(){f.toggle.call(this)}};globalThis.customElements.define("polite-popover",K);var $={full:"{{label}}{{indicator}}{{status}}",indicator:'<div class="swanky-switch__indicator" aria-hidden="true"><span class="swanky-switch__indicator__value"></span></div>',label:'<div id="{{id}}" class="swanky-switch__label">{{html}}</div>',status:{item:'<span class="swanky-switch__status__{{type}}">{{html}}</span>',wrapper:'<div class="swanky-switch__status" aria-hidden="true">{{off}}{{on}}</div>'}},L=class{static addListeners(e){e.addEventListener("click",L.onToggle.bind(e),u.passive),e.addEventListener("keydown",L.onKey.bind(e),u.passive)}static initialize(e,t,i){var o,r,a;(o=t.parentElement)==null||o.removeChild(t),(r=i.parentElement)==null||r.removeChild(i),m(e,"aria-checked",i.checked||e.checked),m(e,"aria-disabled",i.disabled||e.disabled),m(e,"aria-readonly",i.readOnly||e.readOnly),e.setAttribute("aria-labelledby",`${i.id}_label`),e.setAttribute("id",i.id),e.setAttribute("name",(a=i.name)!=null?a:i.id),e.setAttribute("role","switch"),e.setAttribute("tabindex","0"),e.setAttribute("value",i.value);let s=H(e,"swanky-switch-off","Off"),n=H(e,"swanky-switch-on","On");e.insertAdjacentHTML("afterbegin",L.render(i.id,t,s,n)),L.addListeners(e)}static onKey(e){(e.key===" "||e.key==="Enter")&&this instanceof V&&L.toggle(this)}static onToggle(){this instanceof V&&L.toggle(this)}static render(e,t,i,s){return D($.full,{indicator:$.indicator,label:D($.label,{html:t.innerHTML,id:`${e}_label`}),status:D($.status.wrapper,{off:D($.status.item,{html:i,type:"off"}),on:D($.status.item,{html:s,type:"on"})})})}static toggle(e){e.disabled||e.readOnly||(e.checked=!e.checked,e.dispatchEvent(new Event("change")))}},V=class extends HTMLElement{get checked(){return this.getAttribute("aria-checked")==="true"}set checked(e){m(this,"aria-checked",e)}get disabled(){return this.getAttribute("aria-disabled")==="true"}set disabled(e){m(this,"aria-disabled",e)}get readOnly(){return this.getAttribute("aria-readonly")==="true"}set readOnly(e){m(this,"aria-readonly",e)}get value(){return this.checked?"on":"off"}constructor(){if(super(),this.querySelector(".swanky-switch__label")!=null){L.addListeners(this);return}let e=this.querySelector("[swanky-switch-input]"),t=this.querySelector("[swanky-switch-label]");if(typeof e=="undefined"||!(e instanceof HTMLInputElement)||e.type!=="checkbox")throw new Error("<swanky-switch> must have an <input>-element with type 'checkbox' and the attribute 'swanky-switch-input'");if(typeof t=="undefined"||!(t instanceof HTMLElement))throw new Error("<swanky-switch> must have a <label>-element with the attribute 'swanky-switch-label'");L.initialize(this,t,e)}};globalThis.customElements.define("swanky-switch",V);var R="toasty-tooltip",U=`${R}-content`,B=new WeakMap,Z=["above","below","horizontal","left","right","vertical"],x=class{static getPosition(e,t){let i=x.getValue(e,["horizontal","left","right"],t,!0),s=x.getValue(e,["vertical","above","below"],t,!1);return["horizontal","vertical"].includes(e)?{coordinate:{left:i,top:s},type:e==="horizontal"?i===t.anchor.right?"right":"left":s===t.anchor.bottom?"below":"above"}:{coordinate:{left:i,top:s},type:e}}static getValue(e,t,i,s){let{anchor:n,floater:o}=i,r=s?n.right:n.bottom,a=s?n.left:n.top,c=s?o.width:o.height,p=t.indexOf(e);if(p===-1)return a+(s?n.width:n.height)/2-c/2;let d=a-c;return p>0?p===1?d:r:r+c<=(s?globalThis.innerWidth:globalThis.innerHeight)||d<0?r:d}static observer(e){for(let t of e){if(t.type!=="attributes")continue;let i=t.target;i.getAttribute(R)==null?A.destroy(i):A.create(i)}}},A=class{constructor(e){this.anchor=e;w(this,"floater");w(this,"callbacks");w(this,"focusable");this.floater=A.getFloater(e),this.focusable=e.matches(j),this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),key:this.onKey.bind(this),show:this.onShow.bind(this)},this.handleCallbacks(!0)}static create(e){B.has(e)||B.set(e,new A(e))}static destroy(e){let t=B.get(e);typeof t!="undefined"&&(t.handleCallbacks(!1),B.delete(e))}static getFloater(e){var s;let t=(s=e.getAttribute("aria-describedby"))!=null?s:e.getAttribute("aria-labelledby"),i=t==null?null:document.getElementById(t);if(i==null)throw new Error(`A '${R}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby' attribute.`);return i.hidden=!0,g(i,U,""),g(i,"role","tooltip"),m(i,"aria-hidden",!0),i}onClick(e){P(e.target,`[${U}]`)!==this.floater&&this.handleFloater(!1)}onHide(){this.handleFloater(!1)}onKey(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.handleFloater(!1)}onShow(){let{anchor:e,floater:t}=this;this.handleFloater(!0),T.update({anchor:e,floater:t},{all:Z,default:"above"},{getPosition:x.getPosition,validate:()=>!t.hidden})}handleCallbacks(e){let{anchor:t,callbacks:i,floater:s,focusable:n}=this,o=e?"addEventListener":"removeEventListener";for(let r of[t,s])r[o]("mouseenter",i.show,u.passive),r[o]("mouseleave",i.hide,u.passive),r[o]("touchstart",i.show,u.passive);n&&(t[o]("blur",i.hide,u.passive),t[o]("focus",i.show,u.passive))}handleFloater(e){let{callbacks:t,floater:i}=this,s=e?"addEventListener":"removeEventListener";document[s]("keydown",t.key,u.passive),document[s]("pointerdown",t.click,u.passive),i.hidden=!e}},_=new MutationObserver(x.observer);_.observe(document,{attributeFilter:[R],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});v(()=>{let l=Array.from(document.querySelectorAll(`[${R}]`));for(let e of l)e.setAttribute(R,"")});
