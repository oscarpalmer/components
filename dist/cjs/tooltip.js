"use strict";var T=Object.defineProperty;var w=(r,t,e)=>t in r?T(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var g=(r,t,e)=>(w(r,typeof t!="symbol"?t+"":t,e),e);var l={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},L=["[href]","[tabindex]","button","input","select","textarea"].map(r=>`${r}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function h(r){var t;return(t=requestAnimationFrame==null?void 0:requestAnimationFrame(r))!=null?t:setTimeout==null?void 0:setTimeout(()=>{r(Date.now())},16)}function M(r,t,e){let n=r.getAttribute(t);return n==null||n.trim().length===0?e:n}var c=class{static update(t,e,n){let{anchor:o,floater:i,parent:s}=t,{after:a,getPosition:m,validate:f}=n;function u(){if(f())return;let b=c.getType(s!=null?s:o,e),E=m(b,{anchor:o.getBoundingClientRect(),floater:i.getBoundingClientRect(),parent:s==null?void 0:s.getBoundingClientRect()});c.setPosition(i,E),h(u),a==null||a()}h(u)}static getType(t,e){let n=M(t,"position",e.default);return e.all.includes(n)?n:e.default}static setPosition(t,e){let{left:n,top:o}=e.coordinate;t.setAttribute("position",e.type),t.style.inset="0 auto auto 0",t.style.position="fixed",t.style.transform=`translate3d(${n}px, ${o}px, 0)`,t.hidden&&h(()=>{t.hidden=!1})}};var v="toasty-tooltip",y=new WeakMap,H=["above","below","horizontal","left","right","vertical"],d=class{static getPosition(t,e){let n=d.getValue(t,["horizontal","left","right"],e,!0),o=d.getValue(t,["vertical","above","below"],e,!1);return["horizontal","vertical"].includes(t)?{coordinate:{left:n,top:o},type:t==="horizontal"?n===e.anchor.right?"right":"left":o===e.anchor.bottom?"below":"above"}:{coordinate:{left:n,top:o},type:t}}static getValue(t,e,n,o){let{anchor:i,floater:s}=n,a=o?i.right:i.bottom,m=o?i.left:i.top,f=o?s.width:s.height,u=e.indexOf(t);if(u===-1)return m+(o?i.width:i.height)/2-f/2;let b=m-f;return u>0?u===1?b:a:a+f<=(o?window.innerWidth:window.innerHeight)||b<0?a:b}static observer(t){for(let e of t){if(e.type!=="attributes")continue;let n=e.target;n.getAttribute(v)==null?p.destroy(n):p.create(n)}}},p=class{constructor(t){this.anchor=t;g(this,"floater");g(this,"callbacks");g(this,"focusable");this.focusable=t.matches(L),this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),key:this.onKey.bind(this),show:this.onShow.bind(this)},this.floater=this.createFloater(),this.handleCallbacks(!0)}static create(t){y.has(t)||y.set(t,new p(t))}static destroy(t){let e=y.get(t);e!=null&&(e.handleCallbacks(!1),y.delete(t))}onClick(){this.handleFloater(!1)}onHide(){this.handleFloater(!1)}onKey(t){t instanceof KeyboardEvent&&t.key==="Escape"&&this.handleFloater(!1)}onShow(){let{anchor:t,floater:e}=this;if(e.parentElement!=null)return;let n=this.getContent();n!=null&&(e.innerHTML=n.innerHTML,this.handleFloater(!0),c.update({anchor:t,floater:e},{all:H,default:"above"},{getPosition:d.getPosition,validate:()=>e.parentElement==null}))}createFloater(){let t=document.createElement("div");return t.setAttribute("aria-hidden","true"),t.setAttribute(`${v}-content`,""),t.hidden=!0,t}getContent(){var e,n;let t=(e=this.anchor.getAttribute("aria-describedby"))!=null?e:this.anchor.getAttribute("aria-labelledby");if(t!=null)return(n=document.getElementById(t))!=null?n:void 0}handleCallbacks(t){let{anchor:e,callbacks:n,focusable:o}=this,i=t?"addEventListener":"removeEventListener";e[i]("mouseenter",n.show,l.passive),e[i]("mouseleave",n.hide,l.passive),e[i]("touchstart",n.show,l.passive),o&&(e[i]("blur",n.hide,l.passive),e[i]("focus",n.show,l.passive))}handleFloater(t){var i;let{callbacks:e,floater:n}=this,o=t?"addEventListener":"removeEventListener";document[o]("keydown",e.key,l.passive),document[o]("pointerdown",e.click,l.passive),t?document.body.appendChild(n):(i=this.floater.parentElement)==null||i.removeChild(this.floater)}},x=new MutationObserver(d.observer);x.observe(document,{attributeFilter:[v],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});h(()=>{let r=Array.from(document.querySelectorAll(`[${v}]`));for(let t of r)t.setAttribute(v,"")});
