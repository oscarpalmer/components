"use strict";var x=Object.defineProperty;var k=(o,t,e)=>t in o?x(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var g=(o,t,e)=>(k(o,typeof t!="symbol"?t+"":t,e),e);var a={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},T=["[href]","[tabindex]","button","input","select","textarea"].map(o=>`${o}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function h(o){var t,e,n;return(n=(t=globalThis.requestAnimationFrame)==null?void 0:t.call(globalThis,o))!=null?n:(e=globalThis.setTimeout)==null?void 0:e.call(globalThis,()=>{o(Date.now())},16)}function M(o,t,e){let n=o.getAttribute(t);return n==null||n.trim().length===0?e:n}function L(o,t,e){e==null?o.removeAttribute(t):o.setAttribute(t,String(e))}function H(o,t,e){typeof e=="boolean"&&(o==null||o.setAttribute(t,String(e)))}var c=class{static update(t,e,n){let{anchor:i,floater:r,parent:s}=t,{after:l,getPosition:v,validate:p}=n;function d(){if(!p())return;let b=c.getType(s!=null?s:i,e),E=v(b,{anchor:i.getBoundingClientRect(),floater:r.getBoundingClientRect(),parent:s==null?void 0:s.getBoundingClientRect()});c.setPosition(r,E),l==null||l(),h(d)}h(d)}static getType(t,e){let n=M(t,"position",e.default);return e.all.includes(n)?n:e.default}static setPosition(t,e){let{left:n,top:i}=e.coordinate;t.setAttribute("position",e.type),t.style.inset="0 auto auto 0",t.style.position="fixed",t.style.transform=`translate3d(${n}px, ${i}px, 0)`,t.hidden&&h(()=>{t.hidden=!1})}};var m="toasty-tooltip",y=new WeakMap,w=["above","below","horizontal","left","right","vertical"],u=class{static getPosition(t,e){let n=u.getValue(t,["horizontal","left","right"],e,!0),i=u.getValue(t,["vertical","above","below"],e,!1);return["horizontal","vertical"].includes(t)?{coordinate:{left:n,top:i},type:t==="horizontal"?n===e.anchor.right?"right":"left":i===e.anchor.bottom?"below":"above"}:{coordinate:{left:n,top:i},type:t}}static getValue(t,e,n,i){let{anchor:r,floater:s}=n,l=i?r.right:r.bottom,v=i?r.left:r.top,p=i?s.width:s.height,d=e.indexOf(t);if(d===-1)return v+(i?r.width:r.height)/2-p/2;let b=v-p;return d>0?d===1?b:l:l+p<=(i?globalThis.innerWidth:globalThis.innerHeight)||b<0?l:b}static observer(t){for(let e of t){if(e.type!=="attributes")continue;let n=e.target;n.getAttribute(m)==null?f.destroy(n):f.create(n)}}},f=class{constructor(t){this.anchor=t;g(this,"floater");g(this,"callbacks");g(this,"focusable");this.focusable=t.matches(T),this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),key:this.onKey.bind(this),show:this.onShow.bind(this)},this.floater=this.createFloater(),this.handleCallbacks(!0)}static create(t){y.has(t)||y.set(t,new f(t))}static destroy(t){let e=y.get(t);typeof e!="undefined"&&(e.handleCallbacks(!1),y.delete(t))}onClick(){this.handleFloater(!1)}onHide(){this.handleFloater(!1)}onKey(t){t instanceof KeyboardEvent&&t.key==="Escape"&&this.handleFloater(!1)}onShow(){let{anchor:t,floater:e}=this;if(e.parentElement!=null)return;let n=this.getContent();typeof n!="undefined"&&(e.innerHTML=n.innerHTML,this.handleFloater(!0),c.update({anchor:t,floater:e},{all:w,default:"above"},{getPosition:u.getPosition,validate:()=>e.parentElement!=null}))}createFloater(){let t=document.createElement("div");return L(t,`${m}-content`,""),H(t,"aria-hidden",!0),t.hidden=!0,t}getContent(){var e,n;let t=(e=this.anchor.getAttribute("aria-describedby"))!=null?e:this.anchor.getAttribute("aria-labelledby");if(t!=null)return(n=document.getElementById(t))!=null?n:void 0}handleCallbacks(t){let{anchor:e,callbacks:n,focusable:i}=this,r=t?"addEventListener":"removeEventListener";e[r]("mouseenter",n.show,a.passive),e[r]("mouseleave",n.hide,a.passive),e[r]("touchstart",n.show,a.passive),i&&(e[r]("blur",n.hide,a.passive),e[r]("focus",n.show,a.passive))}handleFloater(t){var r;let{callbacks:e,floater:n}=this,i=t?"addEventListener":"removeEventListener";document[i]("keydown",e.key,a.passive),document[i]("pointerdown",e.click,a.passive),t?document.body.appendChild(n):(r=this.floater.parentElement)==null||r.removeChild(this.floater)}},C=new MutationObserver(u.observer);C.observe(document,{attributeFilter:[m],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});h(()=>{let o=Array.from(document.querySelectorAll(`[${m}]`));for(let t of o)t.setAttribute(m,"")});
