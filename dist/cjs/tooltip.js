"use strict";var w=Object.defineProperty;var A=(o,t,e)=>t in o?w(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var m=(o,t,e)=>(A(o,typeof t!="symbol"?t+"":t,e),e);var l={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},M=["[href]","[tabindex]","button","input","select","textarea"].map(o=>`${o}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function f(o){var t,e,n;return(n=(t=globalThis.requestAnimationFrame)==null?void 0:t.call(globalThis,o))!=null?n:(e=globalThis.setTimeout)==null?void 0:e.call(globalThis,()=>{o(Date.now())},16)}function L(o,t){if(t(o))return o;let e=o==null?void 0:o.parentElement;for(;e!=null;){if(e===document.body)return;if(t(e))break;e=e.parentElement}return e!=null?e:void 0}function H(o,t,e){let n=o.getAttribute(t);return n==null||n.trim().length===0?e:n}function E(o,t,e){e==null?o.removeAttribute(t):o.setAttribute(t,String(e))}function x(o,t,e){typeof e=="boolean"&&(o==null||o.setAttribute(t,String(e)))}var c=class{static update(t,e,n){let{anchor:i,floater:s,parent:r}=t,{after:a,getPosition:v,validate:p}=n;function h(){if(!p())return;let g=c.getType(r!=null?r:i,e),T=v(g,{anchor:i.getBoundingClientRect(),floater:s.getBoundingClientRect(),parent:r==null?void 0:r.getBoundingClientRect()});c.setPosition(s,T),a==null||a(),f(h)}f(h)}static getType(t,e){let n=H(t,"position",e.default);return e.all.includes(n)?n:e.default}static setPosition(t,e){let{left:n,top:i}=e.coordinate;t.getAttribute("position")!==e.type&&t.setAttribute("position",e.type);let s=`matrix(1, 0, 0, 1, ${n}, ${i})`;t.style.transform!==s&&(t.style.inset="0 auto auto 0",t.style.position="fixed",t.style.transform=s,t.hidden&&f(()=>{t.hidden=!1}))}};var b="toasty-tooltip",k=`${b}-content`,y=new WeakMap,P=["above","below","horizontal","left","right","vertical"],u=class{static getPosition(t,e){let n=u.getValue(t,["horizontal","left","right"],e,!0),i=u.getValue(t,["vertical","above","below"],e,!1);return["horizontal","vertical"].includes(t)?{coordinate:{left:n,top:i},type:t==="horizontal"?n===e.anchor.right?"right":"left":i===e.anchor.bottom?"below":"above"}:{coordinate:{left:n,top:i},type:t}}static getValue(t,e,n,i){let{anchor:s,floater:r}=n,a=i?s.right:s.bottom,v=i?s.left:s.top,p=i?r.width:r.height,h=e.indexOf(t);if(h===-1)return v+(i?s.width:s.height)/2-p/2;let g=v-p;return h>0?h===1?g:a:a+p<=(i?globalThis.innerWidth:globalThis.innerHeight)||g<0?a:g}static observer(t){for(let e of t){if(e.type!=="attributes")continue;let n=e.target;n.getAttribute(b)==null?d.destroy(n):d.create(n)}}},d=class{constructor(t){this.anchor=t;m(this,"floater");m(this,"callbacks");m(this,"focusable");this.floater=d.getFloater(t),this.focusable=t.matches(M),this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),key:this.onKey.bind(this),show:this.onShow.bind(this)},this.handleCallbacks(!0)}static create(t){y.has(t)||y.set(t,new d(t))}static destroy(t){let e=y.get(t);typeof e!="undefined"&&(e.handleCallbacks(!1),y.delete(t))}static getFloater(t){var i;let e=(i=t.getAttribute("aria-describedby"))!=null?i:t.getAttribute("aria-labelledby"),n=e==null?null:document.getElementById(e);if(n==null)throw new Error(`A '${b}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby' attribute.`);return n.hidden=!0,E(n,k,""),E(n,"role","tooltip"),x(n,"aria-hidden",!0),n}onClick(t){L(t.target,n=>n.hasAttribute(k))!==this.floater&&this.handleFloater(!1)}onHide(){this.handleFloater(!1)}onKey(t){t instanceof KeyboardEvent&&t.key==="Escape"&&this.handleFloater(!1)}onShow(){let{anchor:t,floater:e}=this;this.handleFloater(!0),c.update({anchor:t,floater:e},{all:P,default:"above"},{getPosition:u.getPosition,validate:()=>!e.hidden})}handleCallbacks(t){let{anchor:e,callbacks:n,floater:i,focusable:s}=this,r=t?"addEventListener":"removeEventListener";for(let a of[e,i])a[r]("mouseenter",n.show,l.passive),a[r]("mouseleave",n.hide,l.passive),a[r]("touchstart",n.show,l.passive);s&&(e[r]("blur",n.hide,l.passive),e[r]("focus",n.show,l.passive))}handleFloater(t){let{callbacks:e,floater:n}=this,i=t?"addEventListener":"removeEventListener";document[i]("keydown",e.key,l.passive),document[i]("pointerdown",e.click,l.passive),n.hidden=!t}},C=new MutationObserver(u.observer);C.observe(document,{attributeFilter:[b],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});f(()=>{let o=Array.from(document.querySelectorAll(`[${b}]`));for(let t of o)t.setAttribute(b,"")});
