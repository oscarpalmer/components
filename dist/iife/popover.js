(()=>{var A=Math.round(16.666666666666668),F=requestAnimationFrame??function(e){return setTimeout?.(()=>{e(Date.now())},A)};function L(e){e.state.active=!0,e.state.finished=!1;let t=e instanceof y,r=0,i;function n(a){if(!e.state.active)return;i??(i=a);let o=a-i,s=o-A,l=o+A;if(s<e.configuration.time&&e.configuration.time<l)if(e.state.active&&e.callbacks.default(t?r:void 0),r+=1,t&&r<e.configuration.count)i=void 0;else{e.state.finished=!0,e.stop();return}e.state.frame=F(n)}e.state.frame=F(n)}var W=class{get active(){return this.state.active}get finished(){return!this.active&&this.state.finished}constructor(e,t,r,i){let n=this instanceof y,a=n?"repeated":"waited";if(typeof e!="function")throw new TypeError(`A ${a} timer must have a callback function`);if(typeof t!="number"||t<0)throw new TypeError(`A ${a} timer must have a non-negative number as its time`);if(n&&(typeof r!="number"||r<2))throw new TypeError("A repeated timer must have a number above 1 as its repeat count");if(n&&i!==void 0&&typeof i!="function")throw new TypeError("A repeated timer's after-callback must be a function");this.configuration={count:r,time:t},this.callbacks={after:i,default:e},this.state={active:!1,finished:!1,frame:null}}restart(){return this.stop(),L(this),this}start(){return this.state.active||L(this),this}stop(){return this.state.active=!1,this.state.frame===void 0?this:((cancelAnimationFrame??clearTimeout)?.(this.state.frame),this.callbacks.after?.(this.finished),this.state.frame=void 0,this)}},y=class extends W{},G=class extends W{constructor(e,t){super(e,t,1,null)}};function b(e,t){return new G(e,t).start()}var Z=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],R=Z.join(","),P=typeof Element>"u",p=P?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,w=!P&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},S=function e(t,r){var i;r===void 0&&(r=!0);var n=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),a=n===""||n==="true",o=a||r&&t&&e(t.parentNode);return o},J=function(t){var r,i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"contenteditable");return i===""||i==="true"},Q=function(t,r,i){if(S(t))return[];var n=Array.prototype.slice.apply(t.querySelectorAll(R));return r&&p.call(t,R)&&n.unshift(t),n=n.filter(i),n},_=function e(t,r,i){for(var n=[],a=Array.from(t);a.length;){var o=a.shift();if(!S(o,!1))if(o.tagName==="SLOT"){var s=o.assignedElements(),l=s.length?s:o.children,u=e(l,!0,i);i.flatten?n.push.apply(n,u):n.push({scopeParent:o,candidates:u})}else{var c=p.call(o,R);c&&i.filter(o)&&(r||!t.includes(o))&&n.push(o);var f=o.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(o),m=!S(f,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(o));if(f&&m){var g=e(f===!0?o.children:f.children,!0,i);i.flatten?n.push.apply(n,g):n.push({scopeParent:o,candidates:g})}else a.unshift.apply(a,o.children)}}return n},B=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},q=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||J(t))&&!B(t)?0:t.tabIndex},tt=function(t,r){var i=q(t);return i<0&&r&&!B(t)?0:i},et=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},V=function(t){return t.tagName==="INPUT"},rt=function(t){return V(t)&&t.type==="hidden"},it=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return r},nt=function(t,r){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===r)return t[i]},at=function(t){if(!t.name)return!0;var r=t.form||w(t),i=function(s){return r.querySelectorAll('input[type="radio"][name="'+s+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=i(window.CSS.escape(t.name));else try{n=i(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var a=nt(n,t.form);return!a||a===t},ot=function(t){return V(t)&&t.type==="radio"},st=function(t){return ot(t)&&!at(t)},lt=function(t){var r,i=t&&w(t),n=(r=i)===null||r===void 0?void 0:r.host,a=!1;if(i&&i!==t){var o,s,l;for(a=!!((o=n)!==null&&o!==void 0&&(s=o.ownerDocument)!==null&&s!==void 0&&s.contains(n)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!a&&n;){var u,c,f;i=w(n),n=(u=i)===null||u===void 0?void 0:u.host,a=!!((c=n)!==null&&c!==void 0&&(f=c.ownerDocument)!==null&&f!==void 0&&f.contains(n))}}return a},$=function(t){var r=t.getBoundingClientRect(),i=r.width,n=r.height;return i===0&&n===0},ut=function(t,r){var i=r.displayCheck,n=r.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var a=p.call(t,"details>summary:first-of-type"),o=a?t.parentElement:t;if(p.call(o,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof n=="function"){for(var s=t;t;){var l=t.parentElement,u=w(t);if(l&&!l.shadowRoot&&n(l)===!0)return $(t);t.assignedSlot?t=t.assignedSlot:!l&&u!==t.ownerDocument?t=u.host:t=l}t=s}if(lt(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return $(t);return!1},ft=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var i=0;i<r.children.length;i++){var n=r.children.item(i);if(n.tagName==="LEGEND")return p.call(r,"fieldset[disabled] *")?!0:!n.contains(t)}return!0}r=r.parentElement}return!1},ct=function(t,r){return!(r.disabled||S(r)||rt(r)||ut(r,t)||it(r)||ft(r))},D=function(t,r){return!(st(r)||q(r)<0||!ct(t,r))},dt=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},ht=function e(t){var r=[],i=[];return t.forEach(function(n,a){var o=!!n.scopeParent,s=o?n.scopeParent:n,l=tt(s,o),u=o?e(n.candidates):s;l===0?o?r.push.apply(r,u):r.push(s):i.push({documentOrder:a,tabIndex:l,item:n,isScope:o,content:u})}),i.sort(et).reduce(function(n,a){return a.isScope?n.push.apply(n,a.content):n.push(a.content),n},[]).concat(r)},T=function(t,r){r=r||{};var i;return r.getShadowRoot?i=_([t],r.includeContainer,{filter:D.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:dt}):i=Q(t,r.includeContainer,D.bind(null,r)),ht(i)};var v={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}};function E(e,t){let r=typeof t=="string";if(r?e.matches(t):t(e))return e;let i=e?.parentElement;for(;i!==null;){if(i===document.body)return;if(r?i.matches(t):t(i))break;i=i.parentElement}return i??void 0}function z(e){return getComputedStyle?.(e)?.direction==="rtl"?"rtl":"ltr"}function x(e){return(e??"").trim().length===0}var K=["above","above-left","above-right","below","below-left","below-right","horizontal","horizontal-bottom","horizontal-top","left","left-bottom","left-top","right","right-bottom","right-top","vertical","vertical-left","vertical-right"],bt=["bottom","height","left","right","top","width"];function vt(e,t,r,i){let n=H(!0,e,t,r);return{top:H(!1,e,t,i),left:n}}function gt(e){let t=e.end+e.offset,r=e.start-e.offset;return e.preferMin?r<0?t>e.max?r:e.end:r:t>e.max?r<0?e.end:r:e.end}function pt(e,t){if(e===null)return t;let r=e.trim().toLowerCase(),i=K.indexOf(r);return i>-1?K[i]??t:t}function H(e,t,r,i){let{anchor:n,floater:a}=r;return(e?t.startsWith("right"):t.endsWith("top"))?e?n.right:n.top:(e?t.startsWith("left"):t.endsWith("bottom"))?(e?n.left:n.bottom)-(e?a.width:a.height):(e?t.endsWith("right"):t.startsWith("above"))?(e?n.right:n.top)-(e?a.width:a.height):(e?["above","below","vertical"]:["horizontal","left","right"]).includes(t)?(e?n.left:n.top)+(e?n.width:n.height)/2-(e?a.width:a.height)/2:(e?t.startsWith("horizontal"):t.startsWith("vertical"))?gt({preferMin:i,end:e?n.right:n.bottom,max:e?globalThis.innerWidth:globalThis.innerHeight,offset:e?a.width:a.height,start:e?n.left:n.top}):e?n.left:n.bottom}function U(e){let{anchor:t,floater:r,parent:i}=e.elements,n=z(r)==="rtl",a,o;function s(){t.after(r)}function l(){let u=pt((i??t).getAttribute(e.position.attribute)??"",e.position.defaultValue),c=t.getBoundingClientRect();if(a===u&&bt.every(M=>o?.[M]===c[M]))return;a=u,o=c;let f={anchor:c,floater:r.getBoundingClientRect()},m=vt(u,f,n,e.position.preferAbove),g=`matrix(1, 0, 0, 1, ${m.left}, ${m.top})`;r.style.transform!==g&&(r.style.position="fixed",r.style.inset="0 auto auto 0",r.style.transform=g)}return document.body.append(r),r.hidden=!1,new y(l,0,Number.POSITIVE_INFINITY,s).start()}var h="palmer-focus-trap",I=new WeakMap;function mt(e){I.has(e)||I.set(e,new N(e))}function yt(e){let t=I.get(e);t!==void 0&&(e.tabIndex=t.tabIndex,I.delete(e))}function wt(e,t,r){let i=T(t);if(r===t){b(()=>{(i[e.shiftKey?i.length-1:0]??t).focus()},0);return}let n=i.indexOf(r),a=t;if(n>-1){let o=n+(e.shiftKey?-1:1);o<0?o=i.length-1:o>=i.length&&(o=0),a=i[o]??t}b(()=>{a.focus()},0)}function St(e){for(let t of e)t.type==="attributes"&&(t.target.getAttribute(h)===void 0?yt(t.target):mt(t.target))}function Tt(e){if(e.key!=="Tab")return;let t=E(e.target,`[${h}]`);t!==void 0&&(e.preventDefault(),e.stopImmediatePropagation(),wt(e,t,e.target))}var N=class{constructor(t){this.tabIndex=t.tabIndex,t.tabIndex=-1}};(()=>{if(globalThis.oscarpalmerComponentsFocusTrap!==null)return;globalThis.oscarpalmerComponentsFocusTrap=1,new MutationObserver(St).observe(document,{attributeFilter:[h],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0}),b(()=>{let t=Array.from(document.querySelectorAll(`[${h}]`));for(let r of t)r.setAttribute(h,"")},0),document.addEventListener("keydown",Tt,v.active)})();var d="palmer-popover",X=new WeakMap,Et=0;function Y(e,t){xt(e,t),t&&e.content?(T(e.content)?.[0]??e.content).focus():e.button?.focus()}function xt(e,t){let r=X.get(e);if(r===void 0)return;let i=t?"addEventListener":"removeEventListener";document[i]("click",r.click,v.passive),document[i]("keydown",r.keydown,v.passive)}function j(e,t,r){let{button:i,content:n}=t;if(i===void 0||n===void 0)return;let a=E(r,`[${d}-content]`);if(a===void 0){C(t,!1);return}e.stopPropagation();let o=Array.from(document.body.children);o.indexOf(a)-o.indexOf(n)<(e instanceof KeyboardEvent?1:0)&&C(t,!1)}function C(e,t){let r=typeof t=="boolean"?!t:e.open;e.button.setAttribute("aria-expanded",!r),r?(e.content.hidden=!0,e.timer?.stop(),Y(e,!1)):(e.timer?.stop(),e.timer=U({elements:{anchor:e.button,floater:e.content,parent:e},position:{attribute:"position",defaultValue:"vertical",preferAbove:!1}}),b(()=>{Y(e,!0)},50)),e.dispatchEvent(new Event("toggle"))}function It(e,t,r){r.hidden=!0,x(e.id)&&(e.id=`palmer_popover_${++Et}`),x(t.id)&&(t.id=`${e.id}_button`),x(r.id)&&(r.id=`${e.id}_content`),t.setAttribute("aria-controls",r.id),t.ariaExpanded="false",t.ariaHasPopup="dialog",t instanceof HTMLButtonElement||(t.tabIndex=0),r.setAttribute(h,""),r.role="dialog",r.ariaModal="false",X.set(e,{click:Rt.bind(e),keydown:Nt.bind(e)}),t.addEventListener("click",k.bind(e),v.passive)}function At(e){return e===null?!1:e instanceof HTMLButtonElement?!0:e instanceof HTMLElement&&e.getAttribute("role")==="button"}function Rt(e){this.open&&j(e,this,e.target)}function Nt(e){this.open&&e instanceof KeyboardEvent&&e.key==="Escape"&&j(e,this,document.activeElement)}function k(e){C(this,e)}var O=class extends HTMLElement{get open(){return this.button?.getAttribute("aria-expanded")==="true"}set open(t){k.call(this,t)}constructor(){super();let t=this.querySelector(`:scope > [${d}-button]`),r=this.querySelector(`:scope > [${d}-content]`);if(!At(t))throw new Error(`<${d}> must have a <button>-element (or button-like element) with the attribute '${d}-button`);if(r===null||!(r instanceof HTMLElement))throw new Error(`<${d}> must have an element with the attribute '${d}-content'`);this.button=t,this.content=r,this.timer=void 0,It(this,t,r)}toggle(){this.button&&this.content&&k.call(this)}};customElements.define(d,O);})();
