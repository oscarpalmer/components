(()=>{var x=Math.round(16.666666666666668),k=requestAnimationFrame??function(t){return setTimeout?.(()=>{t(Date.now())},x)};function M(t){t.state.active=!0,t.state.finished=!1;let e=t instanceof b,n=0,i;function r(o){if(!t.state.active)return;i??(i=o);let s=o-i,d=s-x,y=s+x;if(d<t.configuration.time&&t.configuration.time<y)if(t.state.active&&t.callbacks.default(e?n:void 0),n+=1,e&&n<t.configuration.count)i=void 0;else{t.state.finished=!0,t.stop();return}t.state.frame=k(r)}t.state.frame=k(r)}var W=class{get active(){return this.state.active}get finished(){return!this.active&&this.state.finished}constructor(t,e,n,i){let r=this instanceof b,o=r?"repeated":"waited";if(typeof t!="function")throw new TypeError(`A ${o} timer must have a callback function`);if(typeof e!="number"||e<0)throw new TypeError(`A ${o} timer must have a non-negative number as its time`);if(r&&(typeof n!="number"||n<2))throw new TypeError("A repeated timer must have a number above 1 as its repeat count");if(r&&i!==void 0&&typeof i!="function")throw new TypeError("A repeated timer's after-callback must be a function");this.configuration={count:n,time:e},this.callbacks={after:i,default:t},this.state={active:!1,finished:!1,frame:null}}restart(){return this.stop(),M(this),this}start(){return this.state.active||M(this),this}stop(){return this.state.active=!1,this.state.frame===void 0?this:((cancelAnimationFrame??clearTimeout)?.(this.state.frame),this.callbacks.after?.(this.finished),this.state.frame=void 0,this)}},b=class extends W{},q=class extends W{constructor(t,e){super(t,e,1,null)}};function l(t,e){return new q(t,e).start()}function h(t,e,n){let i=typeof e=="string";if((n??!0)&&(i?t.matches(e):e(t)))return t;let r=t?.parentElement;for(;r!==null;){if(r===document.body)return;if(i?r.matches(e):e(r))break;r=r.parentElement}return r??void 0}function F(t){return getComputedStyle?.(t)?.direction==="rtl"?"rtl":"ltr"}function m(t){return(t??"").trim().length===0}function u(t,e){return{capture:e??!1,passive:t??!0}}var L=["above","above-left","above-right","below","below-left","below-right","horizontal","horizontal-bottom","horizontal-top","left","left-bottom","left-top","right","right-bottom","right-top","vertical","vertical-left","vertical-right"],z=["bottom","height","left","right","top","width"];function K(t,e,n,i){let r=R(!0,t,e,n);return{top:R(!1,t,e,i),left:r}}function H(t){let e=t.end+t.offset,n=t.start-t.offset;return t.preferMin?n>=0||e>t.max?n:t.end:t.max<=e||n<0?t.end:n}function B(t,e,n,i){let{anchor:r,floater:o}=n;if((t?["above","below","vertical"]:["horizontal","left","right"]).includes(e)){let s=(t?r.width:r.height)/2,d=(t?o.width:o.height)/2;return(t?r.left:r.top)+s-d}if(t?e.startsWith("horizontal"):e.startsWith("vertical"))return H({preferMin:i,end:t?r.right:r.bottom,max:t?innerWidth:innerHeight,offset:t?o.width:o.height,start:t?r.left:r.top})}function V(t,e){if(t===null)return e;let n=t.trim().toLowerCase(),i=L.indexOf(n);return i>-1?L[i]??e:e}function R(t,e,n,i){let{anchor:r,floater:o}=n;return(t?e.startsWith("right"):e.endsWith("top"))?t?r.right:r.top:(t?e.startsWith("left"):e.endsWith("bottom"))?(t?r.left:r.bottom)-(t?o.width:o.height):(t?e.endsWith("right"):e.startsWith("above"))?(t?r.right:r.top)-(t?o.width:o.height):B(t,e,n,i)??t?r.left:r.bottom}function S(t){let{anchor:e,floater:n,parent:i}=t.elements,r=F(n)==="rtl",o,s;function d(){e.after(n)}function y(){let w=V((i??e).getAttribute(t.position.attribute)??"",t.position.defaultValue),v=e.getBoundingClientRect();if(o===w&&z.every(N=>s?.[N]===v[N]))return;o=w,s=v;let D={anchor:v,floater:n.getBoundingClientRect()},I=K(w,D,r,t.position.preferAbove),$=`matrix(1, 0, 0, 1, ${I.left}, ${I.top})`;n.style.transform!==$&&(n.style.position="fixed",n.style.inset="0 auto auto 0",n.style.transform=$)}return document.body.append(n),n.hidden=!1,new b(y,0,Number.POSITIVE_INFINITY,d).start()}var _=[G,tt,C,Z,et],Y=['[contenteditable]:not([contenteditable="false"])',"[tabindex]:not(slot)","a[href]","audio[controls]","button","details","details > summary:first-of-type","iframe","input","select","textarea","video[controls]"].map(t=>`${t}:not([inert])`).join(",");function p(t){let e=Array.from(t.querySelectorAll(Y)).map(i=>({element:i,tabIndex:X(i)})).filter(i=>U(i)),n=[];for(let i of e)n[i.tabIndex]===void 0?n[i.tabIndex]=[i.element]:n[i.tabIndex].push(i.element);return n.flat()}function X(t){return t.tabIndex>-1?t.tabIndex:/^(audio|details|video)$/i.test(t.tagName)||Q(t)?j(t)?-1:0:-1}function j(t){return!Number.isNaN(Number.parseInt(t.getAttribute("tabindex"),10))}function G(t){return/^(button|input|select|textarea)$/i.test(t.element.tagName)&&J(t.element)?!0:(t.element.disabled??!1)||t.element.getAttribute("aria-disabled")==="true"}function J(t){let e=t.parentElement;for(;e!==null;){if(/^fieldset$/i.test(e.tagName)&&e.disabled){let n=Array.from(e.children);for(let i of n)if(/^legend$/i.test(i.tagName))return e.matches("fieldset[disabled] *")?!0:!i.contains(t);return!0}e=e.parentElement}return!1}function Q(t){return/^(|true)$/i.test(t.getAttribute("contenteditable"))}function U(t){return!_.some(e=>e(t))}function Z(t){if(t.element.hidden||t.element instanceof HTMLInputElement&&t.element.type==="hidden")return!0;let e=getComputedStyle(t.element);if(e.display==="none"||e.visibility==="hidden")return!0;let{height:n,width:i}=t.element.getBoundingClientRect();return n===0&&i===0}function C(t){return(t.element.inert??!1)||/^(|true)$/i.test(t.element.getAttribute("inert"))||t.element.parentElement!==null&&C({element:t.element.parentElement})}function tt(t){return t.tabIndex<0}function et(t){return/^details$/i.test(t.element.tagName)&&Array.from(t.element.children).some(e=>/^summary$/i.test(e.tagName))}var E=(()=>{let t=!1;try{if("matchMedia"in window){let e=matchMedia("(pointer: coarse)");typeof e?.matches=="boolean"&&(t=e.matches)}t||(t="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints??0)>0)}catch{t=!1}return t})(),O={begin:E?"touchstart":"mousedown",end:E?"touchend":"mouseup",move:E?"touchmove":"mousemove"};var f="palmer-focus-trap",g=new WeakMap;function nt(t){g.has(t)||g.set(t,new A(t))}function it(t){let e=g.get(t);e!==void 0&&(t.tabIndex=e.tabIndex,g.delete(t))}function rt(t,e,n){let i=p(e);if(n===e){l(()=>{(i[t.shiftKey?i.length-1:0]??e).focus()},0);return}let r=i.indexOf(n),o=e;if(r>-1){let s=r+(t.shiftKey?-1:1);s<0?s=i.length-1:s>=i.length&&(s=0),o=i[s]??e}l(()=>{o.focus()},0)}function ot(t){for(let e of t)e.type==="attributes"&&(e.target.getAttribute(f)===void 0?it(e.target):nt(e.target))}function st(t){if(t.key!=="Tab")return;let e=h(t.target,`[${f}]`);e!==void 0&&(t.preventDefault(),t.stopImmediatePropagation(),rt(t,e,t.target))}var A=class{constructor(e){this.tabIndex=e.tabIndex,e.tabIndex=-1}},at=new MutationObserver(ot);at.observe(document,{attributeFilter:[f],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});l(()=>{let t=Array.from(document.querySelectorAll(`[${f}]`));for(let e of t)e.setAttribute(f,"")},0);document.addEventListener("keydown",st,u(!1));var a="palmer-popover",P=new WeakMap,ut=0;function ft(t,e){lt(t,e),l(()=>{(e?p(t.content)?.[0]??t.content:t.button)?.focus()},0),t.dispatchEvent(new CustomEvent("toggle",{detail:e?"open":"show"}))}function lt(t,e){let n=P.get(t);if(n===void 0)return;let i=e?"addEventListener":"removeEventListener";document[i](O.begin,n.pointer,u()),document[i]("keydown",n.keydown,u())}function c(t,e){let n=typeof e=="boolean"?!e:t.open;t.dispatchEvent(new CustomEvent(n?"hide":"show",{cancelable:!0}))&&(t.button.setAttribute("aria-expanded",!n),t.timer?.stop(),n?t.content.hidden=!0:t.timer=S({elements:{anchor:t.button,floater:t.content,parent:t},position:{attribute:"position",defaultValue:"vertical",preferAbove:!1}}),ft(t,!n))}function ct(t){(!(t instanceof KeyboardEvent)||[" ","Enter"].includes(t.key))&&c(this,!1)}function dt(t){this.open&&t instanceof KeyboardEvent&&t.key==="Escape"&&c(this,!1)}function ht(t){this.open&&h(t.target,e=>[this.button,this.content].includes(e))===void 0&&c(this,!1)}function bt(){c(this)}function mt(t){t.button.addEventListener("click",bt.bind(t),u());let e=Array.from(t.querySelectorAll(`[${a}-close]`));for(let n of e)n.addEventListener("click",ct.bind(t),u())}var T=class extends HTMLElement{get open(){return this.button.getAttribute("aria-expanded")==="true"}set open(e){typeof e=="boolean"&&e!==this.open&&c(this,open)}constructor(){if(super(),h(this,a,!1))throw new TypeError(`<${a}>-elements must not be nested within each other`);let e=this.querySelector(`[${a}-button]`),n=this.querySelector(`[${a}-content]`);if(!(e instanceof HTMLButtonElement))throw new TypeError(`<${a}> must have a <button>-element with the attribute '${a}-button`);if(!(n instanceof HTMLElement))throw new TypeError(`<${a}> must have an element with the attribute '${a}-content'`);this.button=e,this.content=n,this.timer=void 0,n.hidden=!0,m(this.id)&&(this.id=`palmer_popover_${++ut}`),m(e.id)&&(e.id=`${this.id}_button`),m(n.id)&&(n.id=`${this.id}_content`),e.setAttribute("aria-controls",n.id),e.setAttribute("aria-expanded",!1),e.setAttribute("aria-haspopup","dialog"),n.setAttribute("role","dialog"),n.setAttribute("aria-modal",!1),n.setAttribute(f,""),P.set(this,{keydown:dt.bind(this),pointer:ht.bind(this)}),mt(this)}hide(){this.open=!1}show(){this.open=!0}toggle(){c(this)}};customElements.define(a,T);})();
