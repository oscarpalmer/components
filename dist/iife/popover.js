(()=>{var E=Math.round(16.666666666666668),M=requestAnimationFrame??function(t){return setTimeout?.(()=>{t(Date.now())},E)};function F(t){t.state.active=!0,t.state.finished=!1;let e=t instanceof p,n=0,r;function i(o){if(!t.state.active)return;r??(r=o);let s=o-r,a=s-E,w=s+E;if(a<t.configuration.time&&t.configuration.time<w)if(t.state.active&&t.callbacks.default(e?n:void 0),n+=1,e&&n<t.configuration.count)r=void 0;else{t.state.finished=!0,t.stop();return}t.state.frame=M(i)}t.state.frame=M(i)}var L=class{get active(){return this.state.active}get finished(){return!this.active&&this.state.finished}constructor(t,e,n,r){let i=this instanceof p,o=i?"repeated":"waited";if(typeof t!="function")throw new TypeError(`A ${o} timer must have a callback function`);if(typeof e!="number"||e<0)throw new TypeError(`A ${o} timer must have a non-negative number as its time`);if(i&&(typeof n!="number"||n<2))throw new TypeError("A repeated timer must have a number above 1 as its repeat count");if(i&&r!==void 0&&typeof r!="function")throw new TypeError("A repeated timer's after-callback must be a function");this.configuration={count:n,time:e},this.callbacks={after:r,default:t},this.state={active:!1,finished:!1,frame:null}}restart(){return this.stop(),F(this),this}start(){return this.state.active||F(this),this}stop(){return this.state.active=!1,this.state.frame===void 0?this:((cancelAnimationFrame??clearTimeout)?.(this.state.frame),this.callbacks.after?.(this.finished),this.state.frame=void 0,this)}},p=class extends L{},j=class extends L{constructor(t,e){super(t,e,1,null)}};function c(t,e){return new j(t,e).start()}function h(t,e,n){let r=typeof e=="string";if((n??!0)&&(r?t.matches(e):e(t)))return t;let i=t?.parentElement;for(;i!==null;){if(i===document.body)return;if(r?i.matches(e):e(i))break;i=i.parentElement}return i??void 0}function C(t){return getComputedStyle?.(t)?.direction==="rtl"?"rtl":"ltr"}function m(t){return(t??"").trim().length===0}var O="closed",R="open";function l(t,e){return{capture:e??!1,passive:t??!0}}function $(t){return{newState:t?R:O,oldState:t?O:R}}var z=["above","above-left","above-right","below","below-left","below-right","horizontal","horizontal-bottom","horizontal-top","left","left-bottom","left-top","right","right-bottom","right-top","vertical","vertical-left","vertical-right"],G=/^(above|below|vertical)$/i,J=/^(horizontal|left|right)$/i,Q=["bottom","height","left","right","top","width"],K=/^horizontal/i,q=/^vertical/i;function U(t){let{end:e,max:n,offset:r,preferMin:i,start:o}=t,s=e+r,a=o-r;return i?a>=0?a:s<=n?e:a:s<=n?e:a>=0?a:e}function Z(t,e,n){let{left:r,top:i}=n;return K.test(t)?t.replace("horizontal",e.right-1<r&&r<e.right+1?"right":"left"):q.test(t)?t.replace("vertical",e.bottom-1<i&&i<e.bottom+1?"below":"above"):t}function tt(t,e,n,r){let{anchor:i,floater:o}=n;if((t?G:J).test(e)){let s=(t?i.width:i.height)/2,a=(t?o.width:o.height)/2;return(t?i.left:i.top)+s-a}if((t?K:q).test(e))return U({preferMin:r,end:t?i.right:i.bottom,max:t?innerWidth:innerHeight,offset:t?o.width:o.height,start:t?i.left:i.top})}function et(t,e){if(t===null)return e;let n=t.trim().toLowerCase(),r=z.indexOf(n);return r>-1?z[r]??e:e}function D(t,e,n,r){let{anchor:i,floater:o}=n;if((t?/^right/i:/top$/i).test(e))return t?i.right:i.top;if((t?/^left/i:/bottom$/i).test(e))return(t?i.left:i.bottom)-(t?o.width:o.height);if((t?/right$/i:/^above/i).test(e))return(t?i.right:i.top)-(t?o.width:o.height);let s=tt(t,e,n,r);return s!==void 0?s:t?i.left:i.bottom}function H(t){let{anchor:e,floater:n,parent:r}=t.elements,{attribute:i,defaultValue:o,preferAbove:s}=t.position,a=et((r??e).getAttribute(i)??"",o),w=C(n)==="rtl",I;function _(){e.after(n)}function Y(X){let b=e.getBoundingClientRect();if(X>10&&Q.every(k=>I?.[k]===b[k]))return;I=b;let N={anchor:b,floater:n.getBoundingClientRect()},v={left:D(!0,a,N,w),top:D(!1,a,N,s)},S=`matrix(1, 0, 0, 1, ${v.left}, ${v.top})`;n.style.transform!==S&&(n.setAttribute("position",Z(a,b,v)),n.style.position="fixed",n.style.inset="0 auto auto 0",n.style.transform=S)}return document.body.append(n),n.hidden=!1,new p(Y,0,Number.POSITIVE_INFINITY,_).start()}var P=/^(|true)$/i,nt=[st,ct,V,ft,dt],rt=['[contenteditable]:not([contenteditable="false"])',"[tabindex]:not(slot)","a[href]","audio[controls]","button","details","details > summary:first-of-type","iframe","input","select","textarea","video[controls]"].map(t=>`${t}:not([inert])`).join(",");function g(t){let e=Array.from(t.querySelectorAll(rt)).map(r=>({element:r,tabIndex:it(r)})).filter(r=>lt(r)),n=[];for(let r of e)n[r.tabIndex]=[...n[r.tabIndex]??[],r.element];return n.flat()}function it(t){return t.tabIndex>-1?t.tabIndex:/^(audio|details|video)$/i.test(t.tagName)||ut(t)?ot(t)?-1:0:-1}function ot(t){return!Number.isNaN(Number.parseInt(t.getAttribute("tabindex"),10))}function st(t){return/^(button|input|select|textarea)$/i.test(t.element.tagName)&&at(t.element)?!0:(t.element.disabled??!1)||t.element.getAttribute("aria-disabled")==="true"}function at(t){let e=t.parentElement;for(;e!==null;){if(/^fieldset$/i.test(e.tagName)&&e.disabled){let n=Array.from(e.children);for(let r of n)if(/^legend$/i.test(r.tagName))return e.matches("fieldset[disabled] *")?!0:!r.contains(t);return!0}e=e.parentElement}return!1}function ut(t){return P.test(t.getAttribute("contenteditable"))}function lt(t){return!nt.some(e=>e(t))}function ft(t){if(t.element.hidden||t.element instanceof HTMLInputElement&&t.element.type==="hidden")return!0;let e=getComputedStyle(t.element);if(e.display==="none"||e.visibility==="hidden")return!0;let{height:n,width:r}=t.element.getBoundingClientRect();return n===0&&r===0}function V(t){return(t.element.inert??!1)||P.test(t.element.getAttribute("inert"))||t.element.parentElement!==null&&V({element:t.element.parentElement})}function ct(t){return t.tabIndex<0}function dt(t){return/^details$/i.test(t.element.tagName)&&Array.from(t.element.children).some(e=>/^summary$/i.test(e.tagName))}var T=(()=>{let t=!1;try{if("matchMedia"in window){let e=matchMedia("(pointer: coarse)");typeof e?.matches=="boolean"&&(t=e.matches)}t||(t="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints??0)>0)}catch{t=!1}return t})(),W={begin:T?"touchstart":"mousedown",end:T?"touchend":"mouseup",move:T?"touchmove":"mousemove"};var f="palmer-focus-trap",y=new WeakMap;function ht(t){y.has(t)||y.set(t,new x(t))}function bt(t){y.get(t)!==void 0&&y.delete(t)}function pt(t,e,n){let r=g(e);if(n===e){c(()=>{(r[t.shiftKey?r.length-1:0]??e).focus()},0);return}let i=r.indexOf(n),o=e;if(i>-1){let s=i+(t.shiftKey?-1:1);s<0?s=r.length-1:s>=r.length&&(s=0),o=r[s]??e}c(()=>{o.focus()},0)}function mt(t){for(let e of t)e.type==="attributes"&&(e.target.getAttribute(f)===void 0?bt(e.target):ht(e.target))}function gt(t){if(t.key!=="Tab")return;let e=h(t.target,`[${f}]`);e!==void 0&&(t.preventDefault(),t.stopImmediatePropagation(),pt(t,e,t.target))}var x=class{},yt=new MutationObserver(mt);yt.observe(document,{attributeFilter:[f],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});c(()=>{let t=Array.from(document.querySelectorAll(`[${f}]`));for(let e of t)e.setAttribute(f,"")},0);document.addEventListener("keydown",gt,l(!1));var wt=/^\s|enter$/i,u="palmer-popover",B=new WeakMap,vt=0;function Et(t,e){$t(t,e),c(()=>{(e?g(t.content)?.[0]??t.content:t.button)?.focus()},0),t.dispatchEvent(new CustomEvent("toggle",{detail:$(e)}))}function $t(t,e){let n=B.get(t);if(n===void 0)return;let r=e?"addEventListener":"removeEventListener";document[r](W.begin,n.pointer,l()),document[r]("keydown",n.keydown,l())}function d(t,e){let n=typeof e=="boolean"?!e:t.open;t.dispatchEvent(new CustomEvent("beforetoggle",{cancelable:!0,detail:$(n)}))&&(t.button.setAttribute("aria-expanded",!n),t.timer?.stop(),n?t.content.hidden=!0:t.timer=H({elements:{anchor:t.button,floater:t.content,parent:t},position:{attribute:"position",defaultValue:"vertical",preferAbove:!1}}),Et(t,!n))}function Tt(t){(!(t instanceof KeyboardEvent)||wt.test(t.key))&&d(this,!1)}function xt(t){this.open&&t instanceof KeyboardEvent&&t.key==="Escape"&&d(this,!1)}function At(t){this.open&&h(t.target,e=>[this.button,this.content].includes(e))===void 0&&d(this,!1)}function It(){d(this)}function Nt(t){t.button.addEventListener("click",It.bind(t),l());let e=Array.from(t.querySelectorAll(`[${u}-close]`));for(let n of e)n.addEventListener("click",Tt.bind(t),l())}var A=class extends HTMLElement{get open(){return this.button.getAttribute("aria-expanded")==="true"}set open(e){typeof e=="boolean"&&e!==this.open&&d(this,open)}constructor(){if(super(),h(this,u,!1))throw new TypeError(`<${u}>-elements must not be nested within each other`);let e=this.querySelector(`[${u}-button]`),n=this.querySelector(`[${u}-content]`);if(!(e instanceof HTMLButtonElement))throw new TypeError(`<${u}> must have a <button>-element with the attribute '${u}-button`);if(!(n instanceof HTMLElement))throw new TypeError(`<${u}> must have an element with the attribute '${u}-content'`);this.button=e,this.content=n,this.timer=void 0,n.hidden=!0,m(this.id)&&(this.id=`palmer_popover_${++vt}`),m(e.id)&&(e.id=`${this.id}_button`),m(n.id)&&(n.id=`${this.id}_content`),e.setAttribute("aria-controls",n.id),e.setAttribute("aria-expanded",!1),e.setAttribute("aria-haspopup","dialog"),n.setAttribute("role","dialog"),n.setAttribute("aria-modal",!1),n.setAttribute(f,""),B.set(this,{keydown:xt.bind(this),pointer:At.bind(this)}),Nt(this)}hide(){this.open=!1}show(){this.open=!0}toggle(){d(this)}};customElements.define(u,A);})();
