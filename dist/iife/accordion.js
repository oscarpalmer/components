(()=>{function c(t,e){return{capture:e??!1,passive:t??!0}}var f=new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"]),o=new WeakSet,i=new WeakMap;function g(t,e){if(document.activeElement?.getAttribute("palmer-disclosure-button")===void 0||!f.has(e.key))return;let s=i.get(t);if((s?.elements?.length??0)===0)return;let n=s.elements.indexOf(document.activeElement.parentElement);if(n===-1)return;e.preventDefault();let r=-1;switch(e.key){case"ArrowDown":case"ArrowRight":{r=n+1;break}case"ArrowLeft":case"ArrowUp":{r=n-1;break}case"End":{r=s.elements.length-1;break}case"Home":{r=0;break}default:return}r<0?r=s.elements.length-1:r>=s.elements.length&&(r=0),r!==n&&s.elements[r]?.button.focus()}function a(t,e){if(t.multiple===e||o.has(t)){o.delete(t);return}if(o.add(t),e){t.setAttribute("multiple","");return}t.removeAttribute("multiple"),u(t,i.get(t)?.elements.find(s=>s.open))}function d(t){let e=i.get(t);if(e!==void 0){e.elements=[...t.querySelectorAll(":scope > palmer-disclosure")];for(let s of e.elements)s.addEventListener("toggle",n=>{n.detail.newState==="open"&&u(t,s)})}}function u(t,e){if(t.multiple)return;let s=i.get(t);if(s!==void 0)for(let n of s.elements)n!==e&&n.open&&n.hide()}var l=class extends HTMLElement{get multiple(){let e=this.getAttribute("multiple");return!(e===null||e==="false")}set multiple(e){a(this,e)}constructor(){super();let e={elements:[],observer:new MutationObserver(s=>d(this))};i.set(this,e),d(this),this.addEventListener("keydown",s=>g(this,s),c(!1)),a(this,this.multiple)}attributeChangedCallback(e){e==="multiple"&&u(this,i.get(this)?.elements.find(s=>s.open))}connectedCallback(){i.get(this)?.observer.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){i.get(this)?.observer.disconnect()}};l.observedAttributes=["multiple"];customElements.define("palmer-accordion",l);})();
