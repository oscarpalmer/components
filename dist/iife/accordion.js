"use strict";(()=>{var m=Object.defineProperty;var f=(n,e,t)=>e in n?m(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var c=(n,e,t)=>(f(n,typeof e!="symbol"?e+"":e,t),t);var u={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},y=(()=>{try{if("matchMedia"in window){let n=matchMedia("(pointer: coarse)");if(n!=null&&typeof n.matches=="boolean")return n.matches}return"ontouchstart"in window||navigator.maxTouchPoints>0||(navigator?.msMaxTouchPoints??0)>0}catch{return!1}})();var p=["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"],s=new WeakMap;function b(n,e){if(document.activeElement?.tagName!=="SUMMARY"||!p.includes(e.key))return;let t=s.get(n);if(t==null||t.elements.length===0)return;let r=t.elements.indexOf(document.activeElement.parentElement);if(r===-1)return;e.preventDefault();let o=-1;switch(e.key){case"ArrowDown":case"ArrowRight":o=r+1;break;case"ArrowLeft":case"ArrowUp":o=r-1;break;case"End":o=t.elements.length-1;break;case"Home":o=0;break}if(o<0?o=t.elements.length-1:o>=t.elements.length&&(o=0),o===r)return;let a=t.elements[o]?.querySelector(":scope > summary");a?.focus?.()}function h(n,e){e.open&&!n.multiple&&l(n,e)}function d(n){let e=s.get(n);if(e!=null){e.elements=[...n.querySelectorAll(":scope > details")];for(let t of e.elements)t.addEventListener("toggle",()=>h(n,t))}}function l(n,e){let t=s.get(n);if(t!=null)for(let r of t.elements)r!==e&&r.open&&(r.open=!1)}var i=class extends HTMLElement{get multiple(){return this.getAttribute("multiple")!=="false"}set multiple(e){typeof e=="boolean"&&this.setAttribute("multiple",e)}constructor(){super();let e={elements:[],observer:new MutationObserver(t=>d(this))};s.set(this,e),d(this),this.addEventListener("keydown",t=>b(this,t),u.active),this.multiple||l(this,e.elements.find(t=>t.open))}attributeChangedCallback(e){e==="multiple"&&!this.multiple&&l(this,s.get(this)?.elements.find(t=>t.open))}connectedCallback(){s.get(this)?.observer.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){s.get(this)?.observer.disconnect()}};c(i,"observedAttributes",["max","min","value"]);customElements.define("palmer-accordion",i);})();
