(()=>{function u(n,e){return{capture:e??!1,passive:n??!0}}var a=new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"]),i=new WeakMap;function f(n,e){if(document.activeElement?.tagName!=="SUMMARY"||!a.has(e.key))return;let t=i.get(n);if((t?.elements?.length??0)===0)return;let r=t.elements.indexOf(document.activeElement.parentElement);if(r===-1)return;e.preventDefault();let s=-1;switch(e.key){case"ArrowDown":case"ArrowRight":{s=r+1;break}case"ArrowLeft":case"ArrowUp":{s=r-1;break}case"End":{s=t.elements.length-1;break}case"Home":{s=0;break}default:return}if(s<0?s=t.elements.length-1:s>=t.elements.length&&(s=0),s===r)return;t.elements[s]?.querySelector(":scope > summary")?.focus?.()}function d(n,e){e.open&&!n.multiple&&l(n,e)}function c(n){let e=i.get(n);if(e!==void 0){e.elements=[...n.querySelectorAll(":scope > details")];for(let t of e.elements)t.addEventListener("toggle",()=>d(n,t))}}function l(n,e){let t=i.get(n);if(t!==void 0)for(let r of t.elements)r!==e&&r.open&&(r.open=!1)}var o=class extends HTMLElement{get multiple(){return this.getAttribute("multiple")!=="false"}set multiple(e){typeof e=="boolean"&&this.setAttribute("multiple",e)}constructor(){super();let e={elements:[],observer:new MutationObserver(t=>c(this))};i.set(this,e),c(this),this.addEventListener("keydown",t=>f(this,t),u(!1)),this.multiple||l(this,e.elements.find(t=>t.open))}attributeChangedCallback(e){e==="multiple"&&!this.multiple&&l(this,i.get(this)?.elements.find(t=>t.open))}connectedCallback(){i.get(this)?.observer.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){i.get(this)?.observer.disconnect()}};o.observedAttributes=["max","min","value"];customElements.define("palmer-accordion",o);})();
