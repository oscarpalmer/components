(()=>{var f=Object.defineProperty;var m=(n,e,t)=>e in n?f(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var c=(n,e,t)=>(m(n,typeof e!="symbol"?e+"":e,t),t);var a={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}};var p=new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"]),r=new WeakMap;function d(n,e){if(document.activeElement?.tagName!=="SUMMARY"||!p.has(e.key))return;let t=r.get(n);if((t?.elements?.length??0)===0)return;let s=t.elements.indexOf(document.activeElement.parentElement);if(s===-1)return;e.preventDefault();let o=-1;switch(e.key){case"ArrowDown":case"ArrowRight":{o=s+1;break}case"ArrowLeft":case"ArrowUp":{o=s-1;break}case"End":{o=t.elements.length-1;break}case"Home":{o=0;break}default:return}if(o<0?o=t.elements.length-1:o>=t.elements.length&&(o=0),o===s)return;t.elements[o]?.querySelector(":scope > summary")?.focus?.()}function h(n,e){e.open&&!n.multiple&&l(n,e)}function u(n){let e=r.get(n);if(e!==void 0){e.elements=[...n.querySelectorAll(":scope > details")];for(let t of e.elements)t.addEventListener("toggle",()=>h(n,t))}}function l(n,e){let t=r.get(n);if(t!==void 0)for(let s of t.elements)s!==e&&s.open&&(s.open=!1)}var i=class extends HTMLElement{get multiple(){return this.getAttribute("multiple")!=="false"}set multiple(e){typeof e=="boolean"&&this.setAttribute("multiple",e)}constructor(){super();let e={elements:[],observer:new MutationObserver(t=>u(this))};r.set(this,e),u(this),this.addEventListener("keydown",t=>d(this,t),a.active),this.multiple||l(this,e.elements.find(t=>t.open))}attributeChangedCallback(e){e==="multiple"&&!this.multiple&&l(this,r.get(this)?.elements.find(t=>t.open))}connectedCallback(){r.get(this)?.observer.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){r.get(this)?.observer.disconnect()}};c(i,"observedAttributes",["max","min","value"]);customElements.define("palmer-accordion",i);})();
