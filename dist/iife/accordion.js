(()=>{var u={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}};var a=new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"]),i=new WeakMap;function f(n,e){if(document.activeElement?.tagName!=="SUMMARY"||!a.has(e.key))return;let t=i.get(n);if((t?.elements?.length??0)===0)return;let s=t.elements.indexOf(document.activeElement.parentElement);if(s===-1)return;e.preventDefault();let r=-1;switch(e.key){case"ArrowDown":case"ArrowRight":{r=s+1;break}case"ArrowLeft":case"ArrowUp":{r=s-1;break}case"End":{r=t.elements.length-1;break}case"Home":{r=0;break}default:return}if(r<0?r=t.elements.length-1:r>=t.elements.length&&(r=0),r===s)return;t.elements[r]?.querySelector(":scope > summary")?.focus?.()}function d(n,e){e.open&&!n.multiple&&l(n,e)}function c(n){let e=i.get(n);if(e!==void 0){e.elements=[...n.querySelectorAll(":scope > details")];for(let t of e.elements)t.addEventListener("toggle",()=>d(n,t))}}function l(n,e){let t=i.get(n);if(t!==void 0)for(let s of t.elements)s!==e&&s.open&&(s.open=!1)}var o=class extends HTMLElement{get multiple(){return this.getAttribute("multiple")!=="false"}set multiple(e){typeof e=="boolean"&&this.setAttribute("multiple",e)}constructor(){super();let e={elements:[],observer:new MutationObserver(t=>c(this))};i.set(this,e),c(this),this.addEventListener("keydown",t=>f(this,t),u.active),this.multiple||l(this,e.elements.find(t=>t.open))}attributeChangedCallback(e){e==="multiple"&&!this.multiple&&l(this,i.get(this)?.elements.find(t=>t.open))}connectedCallback(){i.get(this)?.observer.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){i.get(this)?.observer.disconnect()}};o.observedAttributes=["max","min","value"];customElements.define("palmer-accordion",o);})();
