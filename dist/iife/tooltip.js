"use strict";(()=>{var R=Object.defineProperty;var P=(t,e,n)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var s=(t,e,n)=>(P(t,typeof e!="symbol"?e+"":e,n),n);var p=Math.round(16.666666666666668),y=requestAnimationFrame!=null?requestAnimationFrame:function(t){var e;return(e=setTimeout==null?void 0:setTimeout(()=>{t(Date.now())},p))!=null?e:-1},h=class{constructor(t,e,n,o){s(this,"callbacks");s(this,"configuration");s(this,"state",{active:!1,finished:!1});let i=this instanceof v,r=i?"repeated":"waited";if(typeof t!="function")throw new Error(`A ${r} timer must have a callback function`);if(typeof e!="number"||e<0)throw new Error(`A ${r} timer must have a non-negative number as its time`);if(i&&(typeof n!="number"||n<2))throw new Error("A repeated timer must have a number above 1 as its repeat count");if(i&&o!=null&&typeof o!="function")throw new Error("A repeated timer's after-callback must be a function");this.configuration={count:n,time:e},this.callbacks={after:o,default:t}}get active(){return this.state.active}get finished(){return!this.state.active&&this.state.finished}static run(t){t.state.active=!0,t.state.finished=!1;let e=t instanceof v,n=0,o;function i(r){if(!t.state.active)return;o!=null||(o=r);let a=r-o,f=a-p,d=a+p;if(f<t.configuration.time&&t.configuration.time<d)if(t.state.active&&t.callbacks.default(e?n:void 0),n+=1,e&&n<t.configuration.count)o=void 0;else{t.state.finished=!0,t.stop();return}t.state.frame=y(i)}t.state.frame=y(i)}restart(){return this.stop(),h.run(this),this}start(){return this.state.active||h.run(this),this}stop(){var t,e,n;return this.state.active=!1,typeof this.state.frame=="undefined"?this:((t=cancelAnimationFrame!=null?cancelAnimationFrame:clearTimeout)==null||t(this.state.frame),(n=(e=this.callbacks).after)==null||n.call(e,this.finished),this.state.frame=void 0,this)}},v=class extends h{},S=class extends h{constructor(t,e){super(t,e,1)}};function w(t,e,n,o){return new v(t,e,n,o).start()}function E(t,e){return new S(t,e).start()}var l={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},C=['[contenteditable]:not([contenteditable="false"])',"[href]","[tabindex]:not(slot)","audio[controls]","button","details","details[open] > summary","embed","iframe","input","object","select","textarea","video[controls]"],k=C.map(t=>`${t}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function M(t,e){let n=typeof e=="string";if(n?t.matches(e):e(t))return t;let o=t==null?void 0:t.parentElement;for(;o!=null;){if(o===document.body)return;if(n?o.matches(e):e(o))break;o=o.parentElement}return o!=null?o:void 0}function m(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,String(n))}function A(t,e,n){t.setAttribute(e,String(typeof n=="boolean"?n:!1))}var L=["above","above-left","above-right","below","below-left","below-right","horizontal","left","right","vertical"];function O(t,e){let{left:n,right:o}=t.anchor,{width:i}=t.floater;switch(e){case"above":case"below":case"vertical":return n+t.anchor.width/2-i/2;case"above-left":case"below-left":return n;case"above-right":case"below-right":return o-i;case"horizontal":return o+i>globalThis.innerWidth?n-i<0?o:n-i:o;case"left":return n-i;case"right":return o;default:return 0}}function $(t,e){let{bottom:n,top:o}=t.anchor,{height:i}=t.floater;switch(e){case"above":case"above-left":case"above-right":return o-i;case"below":case"below-left":case"below-right":return n;case"horizontal":case"left":case"right":return o+t.anchor.height/2-i/2;case"vertical":return n+i>globalThis.innerHeight?o-i<0?n:o-i:n;default:return 0}}function F(t,e){var i;if(t==null)return e;let n=t.trim().toLowerCase(),o=L.indexOf(n);return o>-1&&(i=L[o])!=null?i:e}function T(t,e){let{anchor:n,floater:o,parent:i}=t;function r(){n.insertAdjacentElement("afterend",o)}function a(){var g;let f=F((g=(i!=null?i:n).getAttribute(e.attribute))!=null?g:"",e.value);o.setAttribute("position",f);let d={anchor:n.getBoundingClientRect(),floater:o.getBoundingClientRect()},H=$(d,f),x=`matrix(1, 0, 0, 1, ${O(d,f)}, ${H})`;o.style.position="fixed",o.style.inset="0 auto auto 0",o.style.transform=x}return document.body.appendChild(o),o.hidden=!1,w(a,0,1/0,r)}var c="toasty-tooltip",z=`${c}-content`,D=`${c}-position`,b=new WeakMap;function j(t){for(let e of t){if(e.type!=="attributes")continue;let n=e.target;n.getAttribute(c)==null?u.destroy(n):u.create(n)}}var u=class{constructor(e){this.anchor=e;s(this,"callbacks",{click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)});s(this,"floater");s(this,"focusable");s(this,"timer");this.focusable=e.matches(k),this.floater=u.createFloater(e),this.handleCallbacks(!0)}static create(e){b.has(e)||b.set(e,new u(e))}static destroy(e){let n=b.get(e);typeof n!="undefined"&&(n.handleCallbacks(!1),b.delete(e))}static createFloater(e){var i;let n=(i=e.getAttribute("aria-describedby"))!=null?i:e.getAttribute("aria-labelledby"),o=n==null?null:document.getElementById(n);if(o==null)throw new Error(`A '${c}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return o.hidden=!0,m(o,z,""),m(o,"role","tooltip"),A(o,"aria-hidden",!0),o}onClick(e){M(e.target,n=>[this.anchor,this.floater].includes(n))==null&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(e){var o,i;let n=e?"addEventListener":"removeEventListener";document[n]("click",this.callbacks.click,l.passive),document[n]("keydown",this.callbacks.keydown,l.passive),e?((o=this.timer)==null||o.stop(),this.timer=T(this,{attribute:D,value:"above"})):(this.floater.hidden=!0,(i=this.timer)==null||i.stop())}handleCallbacks(e){let{anchor:n,floater:o,focusable:i}=this,r=e?"addEventListener":"removeEventListener";for(let a of[n,o])a[r]("mouseenter",this.callbacks.show,l.passive),a[r]("mouseleave",this.callbacks.hide,l.passive),a[r]("touchstart",this.callbacks.show,l.passive);i&&(n[r]("blur",this.callbacks.hide,l.passive),n[r]("focus",this.callbacks.show,l.passive))}},q=new MutationObserver(j);q.observe(document,{attributeFilter:[c],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});E(()=>{let t=Array.from(document.querySelectorAll(`[${c}]`));for(let e of t)e.setAttribute(c,"")},0);})();
