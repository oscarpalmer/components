"use strict";(()=>{var H=Object.defineProperty;var x=(t,e,n)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var s=(t,e,n)=>(x(t,typeof e!="symbol"?e+"":e,n),n);var p=Math.round(16.666666666666668),R=cancelAnimationFrame!=null?cancelAnimationFrame:function(t){clearTimeout==null||clearTimeout(t)},g=requestAnimationFrame!=null?requestAnimationFrame:function(t){var e;return(e=setTimeout==null?void 0:setTimeout(()=>{t(Date.now())},p))!=null?e:-1},d=class{constructor(t,e,n){s(this,"callback");s(this,"count");s(this,"frame");s(this,"running",!1);s(this,"time");let o=this instanceof f,r=o?"repeated":"waited";if(typeof t!="function")throw new Error(`A ${r} timer must have a callback function`);if(typeof e!="number"||e<0)throw new Error(`A ${r} timer must have a non-negative number as its time`);if(o&&(typeof n!="number"||n<2))throw new Error("A repeated timer must have a number above 1 as its repeat count");this.callback=t,this.count=n,this.time=e}get active(){return this.running}static run(t){t.running=!0;let e=0,n;function o(r){if(!t.running)return;n!=null||(n=r);let i=r-n,a=i-p,b=i+p;if(a<t.time&&t.time<b)if(t.running&&t.callback(t instanceof f?e:void 0),e+=1,t instanceof f&&e<t.count)n=void 0;else{t.stop();return}t.frame=g(o)}t.frame=g(o)}restart(){return this.stop(),d.run(this),this}start(){return this.running?this:(d.run(this),this)}stop(){return this.running=!1,typeof this.frame=="undefined"?this:(R(this.frame),this.frame=void 0,this)}},f=class extends d{},P=class extends d{constructor(t,e){super(t,e,1)}};function y(t,e,n){return new f(t,e,n).start()}function w(t,e){return new P(t,e).start()}var l={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},C=['[contenteditable]:not([contenteditable="false"])',"[href]","[tabindex]:not(slot)","audio[controls]","button","details","details[open] > summary","embed","iframe","input","object","select","textarea","video[controls]"],E=C.map(t=>`${t}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function k(t,e){let n=typeof e=="string";if(n?t.matches(e):e(t))return t;let o=t==null?void 0:t.parentElement;for(;o!=null;){if(o===document.body)return;if(n?o.matches(e):e(o))break;o=o.parentElement}return o!=null?o:void 0}function v(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,String(n))}function M(t,e,n){t.setAttribute(e,String(typeof n=="boolean"?n:!1))}var L=["above","above-left","above-right","below","below-left","below-right","horizontal","left","right","vertical"];function S(t,e){let{left:n,right:o}=t.anchor,{width:r}=t.floater;switch(e){case"above":case"below":case"vertical":return n+t.anchor.width/2-r/2;case"above-left":case"below-left":return n;case"above-right":case"below-right":return o-r;case"horizontal":return o+r>globalThis.innerWidth?n-r<0?o:n-r:o;case"left":return n-r;case"right":return o;default:return 0}}function O(t,e){let{bottom:n,top:o}=t.anchor,{height:r}=t.floater;switch(e){case"above":case"above-left":case"above-right":return o-r;case"below":case"below-left":case"below-right":return n;case"horizontal":case"left":case"right":return o+t.anchor.height/2-r/2;case"vertical":return n+r>globalThis.innerHeight?o-r<0?n:o-r:n;default:return 0}}function $(t,e){var r;if(t==null)return e;let n=t.trim().toLowerCase(),o=L.indexOf(n);return o>-1&&(r=L[o])!=null?r:e}function A(t,e){let{anchor:n,floater:o,parent:r}=t;return document.body.appendChild(o),o.hidden=!1,y(()=>{var m;if(o.hidden){n.insertAdjacentElement("afterend",o);return}let i=$((m=(r!=null?r:n).getAttribute(e.attribute))!=null?m:"",e.value);o.setAttribute("position",i);let a={anchor:n.getBoundingClientRect(),floater:o.getBoundingClientRect()},b=O(a,i),T=`matrix(1, 0, 0, 1, ${S(a,i)}, ${b})`;o.style.position="fixed",o.style.inset="0 auto auto 0",o.style.transform=T},0,1/0)}var c="toasty-tooltip",F=`${c}-content`,z=`${c}-position`,h=new WeakMap;function D(t){for(let e of t){if(e.type!=="attributes")continue;let n=e.target;n.getAttribute(c)==null?u.destroy(n):u.create(n)}}var u=class{constructor(e){this.anchor=e;s(this,"callbacks",{click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)});s(this,"floater");s(this,"focusable");s(this,"timer");this.focusable=e.matches(E),this.floater=u.createFloater(e),this.handleCallbacks(!0)}static create(e){h.has(e)||h.set(e,new u(e))}static destroy(e){let n=h.get(e);typeof n!="undefined"&&(n.handleCallbacks(!1),h.delete(e))}static createFloater(e){var r;let n=(r=e.getAttribute("aria-describedby"))!=null?r:e.getAttribute("aria-labelledby"),o=n==null?null:document.getElementById(n);if(o==null)throw new Error(`A '${c}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return o.hidden=!0,v(o,F,""),v(o,"role","tooltip"),M(o,"aria-hidden",!0),o}onClick(e){k(e.target,n=>[this.anchor,this.floater].includes(n))==null&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(e){var o,r;let n=e?"addEventListener":"removeEventListener";document[n]("click",this.callbacks.click,l.passive),document[n]("keydown",this.callbacks.keydown,l.passive),e?((o=this.timer)==null||o.stop(),this.timer=A(this,{attribute:z,value:"above"})):(this.floater.hidden=!0,(r=this.timer)==null||r.stop())}handleCallbacks(e){let{anchor:n,floater:o,focusable:r}=this,i=e?"addEventListener":"removeEventListener";for(let a of[n,o])a[i]("mouseenter",this.callbacks.show,l.passive),a[i]("mouseleave",this.callbacks.hide,l.passive),a[i]("touchstart",this.callbacks.show,l.passive);r&&(n[i]("blur",this.callbacks.hide,l.passive),n[i]("focus",this.callbacks.show,l.passive))}},j=new MutationObserver(D);j.observe(document,{attributeFilter:[c],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});w(()=>{let t=Array.from(document.querySelectorAll(`[${c}]`));for(let e of t)e.setAttribute(c,"")},0);})();
