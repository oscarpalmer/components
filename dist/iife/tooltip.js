"use strict";(()=>{var F=Object.defineProperty;var O=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var a=(e,t,n)=>(O(e,typeof t!="symbol"?t+"":t,n),n);var y=Math.round(16.666666666666668),k=requestAnimationFrame!=null?requestAnimationFrame:function(e){var t;return(t=setTimeout==null?void 0:setTimeout(()=>{e(Date.now())},y))!=null?t:-1},b=class{constructor(e,t,n,o){a(this,"callbacks");a(this,"configuration");a(this,"state",{active:!1,finished:!1});let i=this instanceof w,r=i?"repeated":"waited";if(typeof e!="function")throw new Error(`A ${r} timer must have a callback function`);if(typeof t!="number"||t<0)throw new Error(`A ${r} timer must have a non-negative number as its time`);if(i&&(typeof n!="number"||n<2))throw new Error("A repeated timer must have a number above 1 as its repeat count");if(i&&o!=null&&typeof o!="function")throw new Error("A repeated timer's after-callback must be a function");this.configuration={count:n,time:t},this.callbacks={after:o,default:e}}get active(){return this.state.active}get finished(){return!this.state.active&&this.state.finished}static run(e){e.state.active=!0,e.state.finished=!1;let t=e instanceof w,n=0,o;function i(r){if(!e.state.active)return;o!=null||(o=r);let s=r-o,c=s-y,u=s+y;if(c<e.configuration.time&&e.configuration.time<u)if(e.state.active&&e.callbacks.default(t?n:void 0),n+=1,t&&n<e.configuration.count)o=void 0;else{e.state.finished=!0,e.stop();return}e.state.frame=k(i)}e.state.frame=k(i)}restart(){return this.stop(),b.run(this),this}start(){return this.state.active||b.run(this),this}stop(){var e,t,n;return this.state.active=!1,typeof this.state.frame=="undefined"?this:((e=cancelAnimationFrame!=null?cancelAnimationFrame:clearTimeout)==null||e(this.state.frame),(n=(t=this.callbacks).after)==null||n.call(t,this.finished),this.state.frame=void 0,this)}},w=class extends b{},$=class extends b{constructor(e,t){super(e,t,1)}};function T(e,t,n,o){return new w(e,t,n,o).start()}function L(e,t){return new $(e,t).start()}var l={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},tt=(()=>{var e;try{if("matchMedia"in window){let t=matchMedia("(pointer: coarse)");if(t!=null&&typeof t.matches=="boolean")return t.matches}return"ontouchstart"in window||navigator.maxTouchPoints>0||((e=navigator==null?void 0:navigator.msMaxTouchPoints)!=null?e:0)>0}catch(t){return!1}})();function A(e,t){let n=typeof t=="string";if(n?e.matches(t):t(e))return e;let o=e==null?void 0:e.parentElement;for(;o!=null;){if(o===document.body)return;if(n?o.matches(t):t(o))break;o=o.parentElement}return o!=null?o:void 0}function H(){let e=globalThis;return e.focusableSelector==null&&(e.focusableSelector=['[contenteditable]:not([contenteditable="false"])',"[href]","[tabindex]:not(slot)","audio[controls]","button","details","details[open] > summary","embed","iframe","input","object","select","textarea","video[controls]"].map(t=>`${t}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",")),e.focusableSelector}function R(e){let{direction:t}=getComputedStyle==null?void 0:getComputedStyle(e);return t==="rtl"?"rtl":"ltr"}var z=["above","above-left","above-right","any","below","below-left","below-right","horizontal","horizontal-bottom","horizontal-top","left","left-bottom","left-top","right","right-bottom","right-top","vertical","vertical-left","vertical-right"],D=["bottom","height","left","right","top","width"],S=["left","horizontal","right"],V=["above","any","below","vertical",...S];function W(e,t,n,o){if(e!=="any"){let u=q(t,e,n);return{top:K(t,e,o),left:u}}let{anchor:i,floater:r}=t,s=m(i.right,i.left,r.width,innerWidth,n),c=m(i.top,i.bottom,r.height,innerHeight,o);return{left:s,top:c}}function m(e,t,n,o,i){let r=t+n,s=e-n;return i?s<0?r>o?s:t:s:r>o?s<0?t:s:t}function j(e,t,n){if(!V.includes(e))return e;let{anchor:o,floater:i}=t,r=S.includes(e),s=r?n.left===o.right?"right":n.left===o.left-i.width?"left":null:n.top===o.bottom?"below":n.top===o.top-i.height?"above":null,c=r?n.top===o.top?"top":n.top===o.bottom-i.height?"bottom":null:n.left===o.left?"left":n.left===o.right-i.width?"right":null;return[s,c].filter(u=>u!=null).join("-")}function q(e,t,n){let{anchor:o,floater:i}=e;switch(t){case"above":case"below":case"vertical":return o.left+o.width/2-i.width/2;case"above-left":case"below-left":case"vertical-left":return o.left;case"above-right":case"below-right":case"vertical-right":return o.right-i.width;case"horizontal":case"horizontal-bottom":case"horizontal-top":return m(o.left,o.right,i.width,innerWidth,n);case"left":case"left-bottom":case"left-top":return o.left-i.width;case"right":case"right-bottom":case"right-top":return o.right;default:return o.left}}function I(e,t){var i;if(e==null)return t;let n=e.trim().toLowerCase(),o=z.indexOf(n);return o>-1&&(i=z[o])!=null?i:t}function K(e,t,n){let{anchor:o,floater:i}=e;switch(t){case"above":case"above-left":case"above-right":return o.top-i.height;case"horizontal":case"left":case"right":return o.top+o.height/2-i.height/2;case"below":case"below-left":case"below-right":return o.bottom;case"horizontal-bottom":case"left-bottom":case"right-bottom":return o.bottom-i.height;case"horizontal-top":case"left-top":case"right-top":return o.top;case"vertical":case"vertical-left":case"vertical-right":return m(o.top,o.bottom,i.height,innerHeight,n);default:return o.bottom}}function C(e){let{anchor:t,floater:n,parent:o}=e.elements,i=R(n)==="rtl",r,s;function c(){t.insertAdjacentElement("afterend",n)}function u(){var x;let d=I((x=(o!=null?o:t).getAttribute(e.position.attribute))!=null?x:"",e.position.defaultValue),g=t.getBoundingClientRect();if(r===d&&D.every(P=>(s==null?void 0:s[P])===g[P]))return;r=d,s=g;let E={anchor:g,floater:n.getBoundingClientRect()},v=W(d,E,i,e.position.preferAbove),M=`matrix(1, 0, 0, 1, ${v.left}, ${v.top})`;n.style.transform!==M&&(n.style.position="fixed",n.style.inset="0 auto auto 0",n.style.transform=M,n.setAttribute("position",j(d,E,v)))}return document.body.appendChild(n),n.hidden=!1,T(u,0,1/0,c)}var f="palmer-tooltip",B=`${f}-content`,N=`${f}-position`,p=new WeakMap;function X(e){for(let t of e){if(t.type!=="attributes")continue;let n=t.target;n.getAttribute(f)==null?h.destroy(n):h.create(n)}}var h=class{constructor(t){this.anchor=t;a(this,"callbacks",{click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)});a(this,"floater");a(this,"focusable");a(this,"timer");this.focusable=t.matches(H()),this.floater=h.createFloater(t),this.handleCallbacks(!0)}static create(t){p.has(t)||p.set(t,new h(t))}static destroy(t){let n=p.get(t);typeof n!="undefined"&&(n.handleCallbacks(!1),p.delete(t))}static createFloater(t){var i;let n=(i=t.getAttribute("aria-describedby"))!=null?i:t.getAttribute("aria-labelledby"),o=n==null?null:document.getElementById(n);if(o==null)throw new Error(`A '${f}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return o.hidden=!0,o.setAttribute(B,""),o.ariaHidden="true",o.role="tooltip",o}onClick(t){A(t.target,n=>[this.anchor,this.floater].includes(n))==null&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(t){t instanceof KeyboardEvent&&t.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(t){var o,i;let n=t?"addEventListener":"removeEventListener";document[n]("click",this.callbacks.click,l.passive),document[n]("keydown",this.callbacks.keydown,l.passive),t?((o=this.timer)==null||o.stop(),this.timer=C({elements:{anchor:this.anchor,floater:this.floater},position:{attribute:N,defaultValue:"vertical",preferAbove:!0}})):(this.floater.hidden=!0,(i=this.timer)==null||i.stop())}handleCallbacks(t){let{anchor:n,floater:o,focusable:i}=this,r=t?"addEventListener":"removeEventListener";for(let s of[n,o])s[r]("mouseenter",this.callbacks.show,l.passive),s[r]("mouseleave",this.callbacks.hide,l.passive),s[r]("touchstart",this.callbacks.show,l.passive);i&&(n[r]("blur",this.callbacks.hide,l.passive),n[r]("focus",this.callbacks.show,l.passive))}},Y=new MutationObserver(X);Y.observe(document,{attributeFilter:[f],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});L(()=>{let e=Array.from(document.querySelectorAll(`[${f}]`));for(let t of e)t.setAttribute(f,"")},0);})();
