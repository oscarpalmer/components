"use strict";(()=>{var L=Object.defineProperty;var w=(r,e,t)=>e in r?L(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var v=(r,e,t)=>(w(r,typeof e!="symbol"?e+"":e,t),t);var a={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},E=["[href]","[tabindex]","button","input","select","textarea"].map(r=>`${r}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function d(r){var e;return(e=requestAnimationFrame==null?void 0:requestAnimationFrame(r))!=null?e:setTimeout==null?void 0:setTimeout(()=>{r(Date.now())},16)}var l=class{static update(e,t,n,o){let{anchor:i,floater:h,parent:s}=e;function p(){if(o())return;let f=l.getType(s!=null?s:i,t),b=n(f,{anchor:i.getBoundingClientRect(),floater:h.getBoundingClientRect(),parent:s==null?void 0:s.getBoundingClientRect()});l.setPosition(h,b),d(p)}d(p)}static getType(e,t){let n=e.getAttribute("position"),o=n==null?void 0:n.trim().toLowerCase();return o!=null&&t.all.includes(o)?o:t.default}static setPosition(e,t){let{left:n,top:o}=t.coordinate;e.setAttribute("position",t.type),e.style.inset="0 auto auto 0",e.style.position="fixed",e.style.transform=`translate3d(${n}px, ${o}px, 0)`,e.hidden&&d(()=>{e.hidden=!1})}};var m="toasty-tooltip",y=new WeakMap,M=["above","below","horizontal","left","right","vertical"],c=class{static getPosition(e,t){let n=c.getValue(e,["horizontal","left","right"],t,!0),o=c.getValue(e,["vertical","above","below"],t,!1);return["horizontal","vertical"].includes(e)?{coordinate:{left:n,top:o},type:e==="horizontal"?n===t.anchor.right?"right":"left":o===t.anchor.bottom?"below":"above"}:{coordinate:{left:n,top:o},type:e}}static getValue(e,t,n,o){let{anchor:i,floater:h}=n,s=o?i.right:i.bottom,p=o?i.left:i.top,f=o?h.width:h.height,b=t.indexOf(e);if(b===-1)return p+(o?i.width:i.height)/2-f/2;let g=p-f;return b>0?b===1?g:s:s+f<=(o?window.innerWidth:window.innerHeight)||g<0?s:g}static observer(e){for(let t of e){if(t.type!=="attributes")continue;let n=t.target;n.getAttribute(m)==null?u.destroy(n):u.create(n)}}},u=class{constructor(e){this.anchor=e;v(this,"floater");v(this,"callbacks");v(this,"focusable");this.focusable=e.matches(E),this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),key:this.onKey.bind(this),show:this.onShow.bind(this)},this.floater=this.createFloater(),this.handleCallbacks(!0)}static create(e){y.has(e)||y.set(e,new u(e))}static destroy(e){let t=y.get(e);t!=null&&(t.handleCallbacks(!1),y.delete(e))}onClick(){this.handleFloater(!1)}onHide(){this.handleFloater(!1)}onKey(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.handleFloater(!1)}onShow(){let{anchor:e,floater:t}=this;if(t.parentElement!=null)return;let n=this.getContent();n!=null&&(t.innerHTML=n.innerHTML,this.handleFloater(!0),l.update({anchor:e,floater:t},{all:M,default:"above"},c.getPosition,()=>t.parentElement==null))}createFloater(){let e=document.createElement("div");return e.setAttribute("aria-hidden","true"),e.setAttribute(`${m}-content`,""),e.hidden=!0,e}getContent(){var t,n;let e=(t=this.anchor.getAttribute("aria-describedby"))!=null?t:this.anchor.getAttribute("aria-labelledby");if(e!=null)return(n=document.getElementById(e))!=null?n:void 0}handleCallbacks(e){let{anchor:t,callbacks:n,focusable:o}=this,i=e?"addEventListener":"removeEventListener";t[i]("mouseenter",n.show,a.passive),t[i]("mouseleave",n.hide,a.passive),t[i]("touchstart",n.show,a.passive),o&&(t[i]("blur",n.hide,a.passive),t[i]("focus",n.show,a.passive))}handleFloater(e){var i;let{callbacks:t,floater:n}=this,o=e?"addEventListener":"removeEventListener";document[o]("keydown",t.key,a.passive),document[o]("pointerdown",t.click,a.passive),e?document.body.appendChild(n):(i=this.floater.parentElement)==null||i.removeChild(this.floater)}},T=new MutationObserver(c.observer);T.observe(document,{attributeFilter:[m],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});d(()=>{let r=Array.from(document.querySelectorAll(`[${m}]`));for(let e of r)e.setAttribute(m,"")});})();
