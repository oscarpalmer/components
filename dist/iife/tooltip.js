"use strict";(()=>{var H=Object.defineProperty;var x=(o,t,e)=>t in o?H(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var y=(o,t,e)=>(x(o,typeof t!="symbol"?t+"":t,e),e);var l={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},L=["[href]","[tabindex]","button","input","select","textarea"].map(o=>`${o}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function p(o){var t;return(t=requestAnimationFrame==null?void 0:requestAnimationFrame(o))!=null?t:setTimeout==null?void 0:setTimeout(()=>{o(Date.now())},16)}function M(o,t,e){let n=o.getAttribute(t);return n==null||n.trim().length===0?e:n}function T(o,t,e){typeof e=="undefined"?o.removeAttribute(t):o.setAttribute(t,String(e))}function w(o,t,e){typeof e=="boolean"&&(o==null||o.setAttribute(t,String(e)))}var c=class{static update(t,e,n){let{anchor:i,floater:r,parent:s}=t,{after:a,getPosition:m,validate:h}=n;function u(){if(!h())return;let b=c.getType(s!=null?s:i,e),E=m(b,{anchor:i.getBoundingClientRect(),floater:r.getBoundingClientRect(),parent:s==null?void 0:s.getBoundingClientRect()});c.setPosition(r,E),a==null||a(),p(u)}p(u)}static getType(t,e){let n=M(t,"position",e.default);return e.all.includes(n)?n:e.default}static setPosition(t,e){let{left:n,top:i}=e.coordinate;t.setAttribute("position",e.type),t.style.inset="0 auto auto 0",t.style.position="fixed",t.style.transform=`translate3d(${n}px, ${i}px, 0)`,t.hidden&&p(()=>{t.hidden=!1})}};var v="toasty-tooltip",g=new WeakMap,k=["above","below","horizontal","left","right","vertical"],d=class{static getPosition(t,e){let n=d.getValue(t,["horizontal","left","right"],e,!0),i=d.getValue(t,["vertical","above","below"],e,!1);return["horizontal","vertical"].includes(t)?{coordinate:{left:n,top:i},type:t==="horizontal"?n===e.anchor.right?"right":"left":i===e.anchor.bottom?"below":"above"}:{coordinate:{left:n,top:i},type:t}}static getValue(t,e,n,i){let{anchor:r,floater:s}=n,a=i?r.right:r.bottom,m=i?r.left:r.top,h=i?s.width:s.height,u=e.indexOf(t);if(u===-1)return m+(i?r.width:r.height)/2-h/2;let b=m-h;return u>0?u===1?b:a:a+h<=(i?window.innerWidth:window.innerHeight)||b<0?a:b}static observer(t){for(let e of t){if(e.type!=="attributes")continue;let n=e.target;n.getAttribute(v)==null?f.destroy(n):f.create(n)}}},f=class{constructor(t){this.anchor=t;y(this,"floater");y(this,"callbacks");y(this,"focusable");this.focusable=t.matches(L),this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),key:this.onKey.bind(this),show:this.onShow.bind(this)},this.floater=this.createFloater(),this.handleCallbacks(!0)}static create(t){g.has(t)||g.set(t,new f(t))}static destroy(t){let e=g.get(t);typeof e!="undefined"&&(e.handleCallbacks(!1),g.delete(t))}onClick(){this.handleFloater(!1)}onHide(){this.handleFloater(!1)}onKey(t){t instanceof KeyboardEvent&&t.key==="Escape"&&this.handleFloater(!1)}onShow(){let{anchor:t,floater:e}=this;if(e.parentElement!=null)return;let n=this.getContent();typeof n!="undefined"&&(e.innerHTML=n.innerHTML,this.handleFloater(!0),c.update({anchor:t,floater:e},{all:k,default:"above"},{getPosition:d.getPosition,validate:()=>e.parentElement!=null}))}createFloater(){let t=document.createElement("div");return T(t,`${v}-content`,""),w(t,"aria-hidden",!0),t.hidden=!0,t}getContent(){var e,n;let t=(e=this.anchor.getAttribute("aria-describedby"))!=null?e:this.anchor.getAttribute("aria-labelledby");if(t!=null)return(n=document.getElementById(t))!=null?n:void 0}handleCallbacks(t){let{anchor:e,callbacks:n,focusable:i}=this,r=t?"addEventListener":"removeEventListener";e[r]("mouseenter",n.show,l.passive),e[r]("mouseleave",n.hide,l.passive),e[r]("touchstart",n.show,l.passive),i&&(e[r]("blur",n.hide,l.passive),e[r]("focus",n.show,l.passive))}handleFloater(t){var r;let{callbacks:e,floater:n}=this,i=t?"addEventListener":"removeEventListener";document[i]("keydown",e.key,l.passive),document[i]("pointerdown",e.click,l.passive),t?document.body.appendChild(n):(r=this.floater.parentElement)==null||r.removeChild(this.floater)}},C=new MutationObserver(d.observer);C.observe(document,{attributeFilter:[v],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});p(()=>{let o=Array.from(document.querySelectorAll(`[${v}]`));for(let t of o)t.setAttribute(v,"")});})();
