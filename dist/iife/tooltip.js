"use strict";(()=>{var F=Object.defineProperty;var O=(o,t,n)=>t in o?F(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n;var a=(o,t,n)=>(O(o,typeof t!="symbol"?t+"":t,n),n);var y=Math.round(16.666666666666668),L=requestAnimationFrame!=null?requestAnimationFrame:function(o){var t;return(t=setTimeout==null?void 0:setTimeout(()=>{o(Date.now())},y))!=null?t:-1},b=class{constructor(o,t,n,e){a(this,"callbacks");a(this,"configuration");a(this,"state",{active:!1,finished:!1});let i=this instanceof w,r=i?"repeated":"waited";if(typeof o!="function")throw new Error(`A ${r} timer must have a callback function`);if(typeof t!="number"||t<0)throw new Error(`A ${r} timer must have a non-negative number as its time`);if(i&&(typeof n!="number"||n<2))throw new Error("A repeated timer must have a number above 1 as its repeat count");if(i&&e!=null&&typeof e!="function")throw new Error("A repeated timer's after-callback must be a function");this.configuration={count:n,time:t},this.callbacks={after:e,default:o}}get active(){return this.state.active}get finished(){return!this.state.active&&this.state.finished}static run(o){o.state.active=!0,o.state.finished=!1;let t=o instanceof w,n=0,e;function i(r){if(!o.state.active)return;e!=null||(e=r);let s=r-e,c=s-y,u=s+y;if(c<o.configuration.time&&o.configuration.time<u)if(o.state.active&&o.callbacks.default(t?n:void 0),n+=1,t&&n<o.configuration.count)e=void 0;else{o.state.finished=!0,o.stop();return}o.state.frame=L(i)}o.state.frame=L(i)}restart(){return this.stop(),b.run(this),this}start(){return this.state.active||b.run(this),this}stop(){var o,t,n;return this.state.active=!1,typeof this.state.frame=="undefined"?this:((o=cancelAnimationFrame!=null?cancelAnimationFrame:clearTimeout)==null||o(this.state.frame),(n=(t=this.callbacks).after)==null||n.call(t,this.finished),this.state.frame=void 0,this)}},w=class extends b{},$=class extends b{constructor(o,t){super(o,t,1)}};function x(o,t,n,e){return new w(o,t,n,e).start()}function A(o,t){return new $(o,t).start()}var l={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}};function H(o,t){let n=typeof t=="string";if(n?o.matches(t):t(o))return o;let e=o==null?void 0:o.parentElement;for(;e!=null;){if(e===document.body)return;if(n?e.matches(t):t(e))break;e=e.parentElement}return e!=null?e:void 0}function T(){let o=globalThis;return o.focusableSelector==null&&(o.focusableSelector=['[contenteditable]:not([contenteditable="false"])',"[href]","[tabindex]:not(slot)","audio[controls]","button","details","details[open] > summary","embed","iframe","input","object","select","textarea","video[controls]"].map(t=>`${t}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",")),o.focusableSelector}function R(o){let{direction:t}=getComputedStyle==null?void 0:getComputedStyle(o);return t==="rtl"?"rtl":"ltr"}var z=["above","above-left","above-right","any","below","below-left","below-right","horizontal","horizontal-bottom","horizontal-top","left","left-bottom","left-top","right","right-bottom","right-top","vertical","vertical-left","vertical-right"],D=["bottom","height","left","right","top","width"],S=["left","horizontal","right"],V=["above","any","below","vertical",...S];function W(o,t,n,e){if(o!=="any"){let u=q(t,o,n);return{top:K(t,o,e),left:u}}let{anchor:i,floater:r}=t,s=p(i.right,i.left,r.width,innerWidth,n),c=p(i.top,i.bottom,r.height,innerHeight,e);return{left:s,top:c}}function p(o,t,n,e,i){let r=t+n,s=o-n;return i?s<0?r>e?s:t:s:r>e?s<0?t:s:t}function j(o,t,n){if(!V.includes(o))return o;let{anchor:e,floater:i}=t,r=S.includes(o),s=r?n.left===e.right?"right":n.left===e.left-i.width?"left":null:n.top===e.bottom?"below":n.top===e.top-i.height?"above":null,c=r?n.top===e.top?"top":n.top===e.bottom-i.height?"bottom":null:n.left===e.left?"left":n.left===e.right-i.width?"right":null;return[s,c].filter(u=>u!=null).join("-")}function q(o,t,n){let{anchor:e,floater:i}=o;switch(t){case"above":case"below":case"vertical":return e.left+e.width/2-i.width/2;case"above-left":case"below-left":case"vertical-left":return e.left;case"above-right":case"below-right":case"vertical-right":return e.right-i.width;case"horizontal":case"horizontal-bottom":case"horizontal-top":return p(e.left,e.right,i.width,innerWidth,n);case"left":case"left-bottom":case"left-top":return e.left-i.width;case"right":case"right-bottom":case"right-top":return e.right;default:return e.left}}function I(o,t){var i;if(o==null)return t;let n=o.trim().toLowerCase(),e=z.indexOf(n);return e>-1&&(i=z[e])!=null?i:t}function K(o,t,n){let{anchor:e,floater:i}=o;switch(t){case"above":case"above-left":case"above-right":return e.top-i.height;case"horizontal":case"left":case"right":return e.top+e.height/2-i.height/2;case"below":case"below-left":case"below-right":return e.bottom;case"horizontal-bottom":case"left-bottom":case"right-bottom":return e.bottom-i.height;case"horizontal-top":case"left-top":case"right-top":return e.top;case"vertical":case"vertical-left":case"vertical-right":return p(e.top,e.bottom,i.height,innerHeight,n);default:return e.bottom}}function C(o){let{anchor:t,floater:n,parent:e}=o.elements,i=R(n)==="rtl",r,s;function c(){t.insertAdjacentElement("afterend",n)}function u(){var M;let d=I((M=(e!=null?e:t).getAttribute(o.position.attribute))!=null?M:"",o.position.defaultValue),g=t.getBoundingClientRect();if(r===d&&D.every(P=>(s==null?void 0:s[P])===g[P]))return;r=d,s=g;let E={anchor:g,floater:n.getBoundingClientRect()},v=W(d,E,i,o.position.preferAbove),k=`matrix(1, 0, 0, 1, ${v.left}, ${v.top})`;n.style.transform!==k&&(n.style.position="fixed",n.style.inset="0 auto auto 0",n.style.transform=k,n.setAttribute("position",j(d,E,v)))}return document.body.appendChild(n),n.hidden=!1,x(u,0,1/0,c)}var f="palmer-tooltip",B=`${f}-content`,N=`${f}-position`,m=new WeakMap;function G(o){for(let t of o){if(t.type!=="attributes")continue;let n=t.target;n.getAttribute(f)==null?h.destroy(n):h.create(n)}}var h=class{constructor(t){this.anchor=t;a(this,"callbacks",{click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)});a(this,"floater");a(this,"focusable");a(this,"timer");this.focusable=t.matches(T()),this.floater=h.createFloater(t),this.handleCallbacks(!0)}static create(t){m.has(t)||m.set(t,new h(t))}static destroy(t){let n=m.get(t);typeof n!="undefined"&&(n.handleCallbacks(!1),m.delete(t))}static createFloater(t){var i;let n=(i=t.getAttribute("aria-describedby"))!=null?i:t.getAttribute("aria-labelledby"),e=n==null?null:document.getElementById(n);if(e==null)throw new Error(`A '${f}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return e.hidden=!0,e.setAttribute(B,""),e.ariaHidden="true",e.role="tooltip",e}onClick(t){H(t.target,n=>[this.anchor,this.floater].includes(n))==null&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(t){t instanceof KeyboardEvent&&t.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(t){var e,i;let n=t?"addEventListener":"removeEventListener";document[n]("click",this.callbacks.click,l.passive),document[n]("keydown",this.callbacks.keydown,l.passive),t?((e=this.timer)==null||e.stop(),this.timer=C({elements:{anchor:this.anchor,floater:this.floater},position:{attribute:N,defaultValue:"vertical",preferAbove:!0}})):(this.floater.hidden=!0,(i=this.timer)==null||i.stop())}handleCallbacks(t){let{anchor:n,floater:e,focusable:i}=this,r=t?"addEventListener":"removeEventListener";for(let s of[n,e])s[r]("mouseenter",this.callbacks.show,l.passive),s[r]("mouseleave",this.callbacks.hide,l.passive),s[r]("touchstart",this.callbacks.show,l.passive);i&&(n[r]("blur",this.callbacks.hide,l.passive),n[r]("focus",this.callbacks.show,l.passive))}},J=new MutationObserver(G);J.observe(document,{attributeFilter:[f],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});A(()=>{let o=Array.from(document.querySelectorAll(`[${f}]`));for(let t of o)t.setAttribute(f,"")},0);})();
