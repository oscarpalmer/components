(()=>{function c(e){return(e??"").trim().length===0}function s(e,t){return{capture:t??!1,passive:e??!0}}var n="palmer-disclosure",l=0;function f(e){[" ","Enter"].includes(e.key)&&o(this,!this.open)}function a(){o(this,!this.open)}function o(e,t){e.button.ariaExpanded=t,e.content.hidden=!t,e.dispatchEvent(new CustomEvent("toggle",{detail:t}))}var u=class extends HTMLElement{get open(){return/^true$/i.test(this.button.ariaExpanded)}set open(t){o(this,t)}constructor(){super();let t=this.querySelector(`[${n}-button]`),i=this.querySelector(`[${n}-content]`);if(!(t instanceof HTMLElement))throw new TypeError(`<${n}> needs an element with the attribute '${n}-button'`);if(!(i instanceof HTMLElement))throw new TypeError(`<${n}> needs an element with the attribute '${n}-content'`);this.button=t,this.content=i;let{open:d}=this;t.hidden=!1,i.hidden=!d;let{id:r}=i;c(r)&&(r=`palmer_disclosure_${++l}`),t.ariaExpanded=d,i.id=r,t.setAttribute("aria-controls",r),t.addEventListener("click",a.bind(this),s()),!(t instanceof HTMLButtonElement)&&(t.tabIndex=0,t.addEventListener("keydown",f.bind(this),s()))}toggle(){o(this,!this.open)}};customElements.define(n,u);})();
