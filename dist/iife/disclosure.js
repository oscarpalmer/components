(()=>{function l(e){return(e??"").trim().length===0}var a="closed",d="open";function c(e,t){return{capture:t??!1,passive:e??!0}}function f(e){return{newState:e?d:a,oldState:e?a:d}}var s="palmer-disclosure",u=new WeakSet,p=0;function h(e,t,n){u.add(e),n?e.setAttribute("open",""):e.removeAttribute("open"),t.setAttribute("aria-expanded",n)}function i(e,t){if(e.open===t||u.has(e)){u.delete(e);return}let n=f(t);e.dispatchEvent(new CustomEvent("beforetoggle",{detail:n,cancelable:!0}))&&(h(e,e.button,t),e.content.hidden=!t,e.dispatchEvent(new CustomEvent("toggle",{detail:n})))}var o=class extends HTMLElement{get open(){let t=this.getAttribute("open");return!(t===null||t==="false")}set open(t){typeof t=="boolean"&&i(this,t)}constructor(){super();let t=this.querySelector(`[${s}-button]`),n=this.querySelector(`[${s}-content]`);if(!(t instanceof HTMLButtonElement))throw new TypeError(`<${s}> needs a <button>-element with the attribute '${s}-button'`);if(!(n instanceof HTMLElement))throw new TypeError(`<${s}> needs an element with the attribute '${s}-content'`);this.button=t,this.content=n,t.hidden=!1,n.hidden=!0;let{id:r}=n;l(r)&&(r=`palmer_disclosure_${++p}`),t.setAttribute("aria-controls",r),t.setAttribute("aria-expanded",!1),n.id=r,t.addEventListener("click",b=>i(this,!this.open),c()),this.open&&(n.hidden=!1,i(this,!0))}attributeChangedCallback(t,n,r){t==="open"&&i(this,!(r===null||r==="false"))}hide(){i(this,!1)}show(){i(this,!0)}toggle(){i(this,!this.open)}};o.observedAttributes=["open"];customElements.define(s,o);})();
