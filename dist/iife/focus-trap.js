(()=>{var l=Math.round(16.666666666666668),p=globalThis.requestAnimationFrame??function(t){return setTimeout?.(()=>{t(Date.now())},l)};function d(t){t.state.active=!0,t.state.finished=!1;let e=t instanceof m,r=0,n;function o(s){if(!t.state.active)return;n??(n=s);let i=s-n,v=i-l,x=i+l;if(v<t.configuration.time&&t.configuration.time<x)if(t.state.active&&t.callbacks.default(e?r:void 0),r+=1,e&&r<t.configuration.count)n=void 0;else{t.state.finished=!0,t.stop();return}t.state.frame=p(o)}t.state.frame=p(o)}var h=class{get active(){return this.state.active}get finished(){return!this.active&&this.state.finished}constructor(t,e,r,n){let o=this instanceof m,s=o?"repeated":"waited";if(typeof t!="function")throw new TypeError(`A ${s} timer must have a callback function`);if(typeof e!="number"||e<0)throw new TypeError(`A ${s} timer must have a non-negative number as its time`);if(o&&(typeof r!="number"||r<2))throw new TypeError("A repeated timer must have a number above 1 as its repeat count");if(o&&n!==void 0&&typeof n!="function")throw new TypeError("A repeated timer's after-callback must be a function");this.configuration={count:r,time:e},this.callbacks={after:n,default:t},this.state={active:!1,finished:!1,frame:null}}restart(){return this.stop(),d(this),this}start(){return this.state.active||d(this),this}stop(){return this.state.active=!1,this.state.frame===void 0?this:((globalThis.cancelAnimationFrame??clearTimeout)?.(this.state.frame),this.callbacks.after?.(this.finished),this.state.frame=void 0,this)}},m=class extends h{},T=class extends h{constructor(t,e){super(t,e,1,null)}};function c(t,e){return new T(t,e).start()}var b={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}};function g(t,e){let r=typeof e=="string";if(r?t.matches(e):e(t))return t;let n=t?.parentElement;for(;n!==null;){if(n===document.body)return;if(r?n.matches(e):e(n))break;n=n.parentElement}return n??void 0}function y(t){let e=[],r=Array.from(t.querySelectorAll(w()));for(let n of r){let o=getComputedStyle?.(n);(o===null||o.display!=="none"&&o.visibility!=="hidden")&&e.push(n)}return e}function w(){return globalThis._oscarpalmer_components_focusableSelector===null&&(globalThis._oscarpalmer_components_focusableSelector=['[contenteditable]:not([contenteditable="false"])',"[href]","[tabindex]:not(slot)","audio[controls]","button","details","details[open] > summary","embed","iframe","input","object","select","textarea","video[controls]"].map(t=>`${t}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",")),globalThis._oscarpalmer_components_focusableSelector}var a="palmer-focus-trap",u=new WeakMap;function _(t){u.has(t)||u.set(t,new f(t))}function S(t){let e=u.get(t);e!==void 0&&(t.tabIndex=e.tabIndex,u.delete(t))}function A(t,e,r){let n=y(e);if(r===e){c(()=>{(n[t.shiftKey?n.length-1:0]??e).focus()},0);return}let o=n.indexOf(r),s=e;if(o>-1){let i=o+(t.shiftKey?-1:1);i<0?i=n.length-1:i>=n.length&&(i=0),s=n[i]??e}c(()=>{s.focus()},0)}function E(t){for(let e of t)e.type==="attributes"&&(e.target.getAttribute(a)===void 0?S(e.target):_(e.target))}function M(t){if(t.key!=="Tab")return;let e=g(t.target,`[${a}]`);e!==void 0&&(t.preventDefault(),t.stopImmediatePropagation(),A(t,e,t.target))}var f=class{constructor(e){this.tabIndex=e.tabIndex,e.tabIndex=-1}};(()=>{if(globalThis._oscarpalmer_components_focusTrap!==null)return;globalThis._oscarpalmer_components_focusTrap=1,new MutationObserver(E).observe(document,{attributeFilter:[a],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0}),c(()=>{let e=Array.from(document.querySelectorAll(`[${a}]`));for(let r of e)r.setAttribute(a,"")},0),document.addEventListener("keydown",M,b.active)})();})();
