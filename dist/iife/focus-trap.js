(()=>{var c=Math.round(16.666666666666668),d=requestAnimationFrame??function(t){return setTimeout?.(()=>{t(Date.now())},c)};function p(t){t.state.active=!0,t.state.finished=!1;let e=t instanceof m,r=0,n;function i(s){if(!t.state.active)return;n??(n=s);let a=s-n,v=a-c,w=a+c;if(v<t.configuration.time&&t.configuration.time<w)if(t.state.active&&t.callbacks.default(e?r:void 0),r+=1,e&&r<t.configuration.count)n=void 0;else{t.state.finished=!0,t.stop();return}t.state.frame=d(i)}t.state.frame=d(i)}var b=class{get active(){return this.state.active}get finished(){return!this.active&&this.state.finished}constructor(t,e,r,n){let i=this instanceof m,s=i?"repeated":"waited";if(typeof t!="function")throw new TypeError(`A ${s} timer must have a callback function`);if(typeof e!="number"||e<0)throw new TypeError(`A ${s} timer must have a non-negative number as its time`);if(i&&(typeof r!="number"||r<2))throw new TypeError("A repeated timer must have a number above 1 as its repeat count");if(i&&n!==void 0&&typeof n!="function")throw new TypeError("A repeated timer's after-callback must be a function");this.configuration={count:r,time:e},this.callbacks={after:n,default:t},this.state={active:!1,finished:!1,frame:null}}restart(){return this.stop(),p(this),this}start(){return this.state.active||p(this),this}stop(){return this.state.active=!1,this.state.frame===void 0?this:((cancelAnimationFrame??clearTimeout)?.(this.state.frame),this.callbacks.after?.(this.finished),this.state.frame=void 0,this)}},m=class extends b{},I=class extends b{constructor(t,e){super(t,e,1,null)}};function u(t,e){return new I(t,e).start()}function h(t,e){let r=typeof e=="string";if(r?t.matches(e):e(t))return t;let n=t?.parentElement;for(;n!==null;){if(n===document.body)return;if(r?n.matches(e):e(n))break;n=n.parentElement}return n??void 0}function g(t,e){return{capture:e??!1,passive:t??!0}}var A=[T,D,y,k,O],E=['[contenteditable]:not([contenteditable="false"])',"[tabindex]:not(slot)","a[href]","audio[controls]","button","details","details > summary:first-of-type","iframe","input","select","textarea","video[controls]"].map(t=>`${t}:not([inert])`).join(",");function x(t){let e=Array.from(t.querySelectorAll(E)).map(n=>({element:n,tabIndex:N(n)})).filter(n=>S(n)),r=[];for(let n of e)r[n.tabIndex]===void 0?r[n.tabIndex]=[n.element]:r[n.tabIndex].push(n.element);return r.flat()}function N(t){return t.tabIndex>-1?t.tabIndex:/^(audio|details|video)$/i.test(t.tagName)||M(t)?$(t)?-1:0:-1}function $(t){return!Number.isNaN(Number.parseInt(t.getAttribute("tabindex"),10))}function T(t){return/^(button|input|select|textarea)$/i.test(t.element.tagName)&&F(t.element)?!0:(t.element.disabled??!1)||t.element.ariaDisabled==="true"}function F(t){let e=t.parentElement;for(;e!==null;){if(/^fieldset$/i.test(e.tagName)&&e.disabled){let r=Array.from(e.children);for(let n of r)if(/^legend$/i.test(n.tagName))return e.matches("fieldset[disabled] *")?!0:!n.contains(t);return!0}e=e.parentElement}return!1}function M(t){return/^(|true)$/i.test(t.getAttribute("contenteditable"))}function S(t){return!A.some(e=>e(t))}function k(t){if(t.element.hidden||t.element instanceof HTMLInputElement&&t.element.type==="hidden")return!0;let e=getComputedStyle(t.element);if(e.display==="none"||e.visibility==="hidden")return!0;let{height:r,width:n}=t.element.getBoundingClientRect();return r===0&&n===0}function y(t){return(t.element.inert??!1)||/^(|true)$/i.test(t.element.getAttribute("inert"))||t.element.parentElement!==null&&y({element:t.element.parentElement})}function D(t){return t.tabIndex<0}function O(t){return/^details$/i.test(t.element.tagName)&&Array.from(t.element.children).some(e=>/^summary$/i.test(e.tagName))}var o="palmer-focus-trap",f=new WeakMap;function q(t){f.has(t)||f.set(t,new l(t))}function R(t){let e=f.get(t);e!==void 0&&(t.tabIndex=e.tabIndex,f.delete(t))}function K(t,e,r){let n=x(e);if(r===e){u(()=>{(n[t.shiftKey?n.length-1:0]??e).focus()},0);return}let i=n.indexOf(r),s=e;if(i>-1){let a=i+(t.shiftKey?-1:1);a<0?a=n.length-1:a>=n.length&&(a=0),s=n[a]??e}u(()=>{s.focus()},0)}function L(t){for(let e of t)e.type==="attributes"&&(e.target.getAttribute(o)===void 0?R(e.target):q(e.target))}function P(t){if(t.key!=="Tab")return;let e=h(t.target,`[${o}]`);e!==void 0&&(t.preventDefault(),t.stopImmediatePropagation(),K(t,e,t.target))}var l=class{constructor(e){this.tabIndex=e.tabIndex,e.tabIndex=-1}},W=new MutationObserver(L);W.observe(document,{attributeFilter:[o],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});u(()=>{let t=Array.from(document.querySelectorAll(`[${o}]`));for(let e of t)e.setAttribute(o,"")},0);document.addEventListener("keydown",P,g(!1));})();
