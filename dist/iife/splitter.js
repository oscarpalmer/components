(()=>{function p(t){return typeof t=="number"?t:Number.parseInt(typeof t=="string"?t:String(t),10)}function y(t){return(t??"").trim().length===0}function w(t){if(t instanceof MouseEvent)return{x:t.clientX,y:t.clientY};let e=t.touches[0]?.clientX,r=t.touches[0]?.clientY;return e===void 0||r===void 0?void 0:{x:e,y:r}}function l(t,e){return{capture:e??!1,passive:t??!0}}var c=(()=>{let t=!1;try{if("matchMedia"in window){let e=matchMedia("(pointer: coarse)");typeof e?.matches=="boolean"&&(t=e.matches)}t||(t="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints??0)>0)}catch{t=!1}return t})(),m={begin:c?"touchstart":"mousedown",end:c?"touchend":"mouseup",move:c?"touchmove":"mousemove"};var o="palmer-splitter",x=new Set(["horizontal","vertical"]),u=new WeakMap,v=0;function k(t){t.key==="Escape"&&g(this,!1)}function A(t){g(t,!0)}function E(){g(this,!1)}function M(t){c&&t.preventDefault();let e=w(t);if(e===void 0)return;let r=this.getBoundingClientRect(),i=this.type==="horizontal"?(e.y-r.top)/r.height:(e.x-r.left)/r.width;d(this,{separator:this.separator,value:i*100})}function N(t,e){if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Escape","Home"].includes(e.key)||(t.type==="horizontal"?["ArrowLeft","ArrowRight"]:["ArrowDown","ArrowUp"]).includes(e.key))return;let{values:i}=u.get(t);if(i===void 0)return;let n;switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{n=Math.round(t.value+(["ArrowLeft","ArrowUp"].includes(e.key)?-1:1));break}case"End":case"Home":{n=e.key==="End"?i.maximum:i.minimum;break}case"Escape":{n=i.initial??i.original,i.initial=void 0;break}default:break}d(t,{value:n,values:i,separator:t.separator})}function T(t,e){let{key:r,separator:i,setFlex:n}=e,s=e.values??u.get(t)?.values,a=p(e.value);s===void 0||Number.isNaN(a)||a===s[r]||r==="maximum"&&a<s.minimum||r==="minimum"&&a>s.maximum||(r==="maximum"&&a>100?a=100:r==="minimum"&&a<0&&(a=0),s[e.key]=a,i.setAttribute(r==="maximum"?"aria-valuemax":"aria-valuemin",a),n&&(r==="maximum"&&a<s.current||r==="minimum"&&a>s.current)&&d(t,{separator:i,value:a,values:s}))}function g(t,e){let r=u.get(t);if(r===void 0)return;e&&(r.values.initial=Number(r.values.current));let i=e?"addEventListener":"removeEventListener";document[i]("keydown",r.callbacks.keydown,l()),document[i](m.end,r.callbacks.pointerEnd,l()),document[i](m.move,r.callbacks.pointerMove,l(!c)),r.dragging=e,document.body.style.userSelect=e?"none":null,document.body.style.webkitUserSelect=e?"none":null}function d(t,e){let{separator:r}=e,i=e.values??u.get(t)?.values,n=p(e.value);i===void 0||Number.isNaN(n)||n===i.current||(n<i.minimum?n=i.minimum:n>i.maximum&&(n=i.maximum),(e.setOriginal??!1)&&(i.original=n),r.ariaValueNow=n,t.primary.style.flex=`${n/100}`,t.secondary.style.flex=`${(100-n)/100}`,i.current=n,t.dispatchEvent(new CustomEvent("change",{detail:n})))}function $(t){let{handle:e}=t;e.ariaHidden="true",e.hidden=!1,e.addEventListener(m.begin,()=>A(t),l())}function L(t){let{separator:e}=t;e.hidden=!1,e.role="separator",e.tabIndex=0,e.ariaValueMax=100,e.ariaValueMin=0,e.ariaValueNow=50,e.setAttribute("aria-controls",t.primary.id),y(t.getAttribute("value"))&&d(t,{separator:e,value:50}),e.addEventListener("keydown",r=>N(t,r),l())}var h=class extends HTMLElement{get max(){return u.get(this)?.values.maximum}set max(e){this.setAttribute("max",e)}get min(){return u.get(this)?.values.minimum}set min(e){this.setAttribute("min",e)}get type(){let e=this.getAttribute("type")??"vertical";return x.has(e)?e:"vertical"}set type(e){this.setAttribute("type",e)}get value(){return u.get(this)?.values.current}set value(e){this.setAttribute("value",e)}constructor(){super();let e=Array.from(this.querySelectorAll(`:scope > [${o}-panel]`));if(e.length!==2||e.some(f=>!(f instanceof HTMLElement)))throw new TypeError(`<${o}> must have two direct child elements with the attribute '${o}-panel'`);let r=this.querySelector(`:scope > [${o}-separator]`),i=r?.querySelector(`:scope > [${o}-separator-handle]`);if([r,i].some(f=>!(f instanceof HTMLElement)))throw new TypeError(`<${o}> must have a separator element with the attribute '${o}-separator', and it must have a child element with the attribute '${o}-separator-handle'`);let n=e[0],s=e[1],a=Array.from(this.children);if(!(a.indexOf(n)<a.indexOf(r)&&a.indexOf(r)<a.indexOf(s)))throw new TypeError(`<${o}> must have elements with the order of: panel, separator, panel`);let b={callbacks:{keydown:k.bind(this),pointerEnd:E.bind(this),pointerMove:M.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};u.set(this,b),this.primary=n,this.secondary=s,this.handle=i,this.separator=r,y(n.id)&&(n.id=`palmer_splitter_primary_panel_${++v}`),L(this),$(this)}attributeChangedCallback(e,r,i){switch(e){case"max":case"min":{T(this,{key:e==="max"?"maximum":"minimum",separator:this.separator,setFlex:!0,value:i});break}case"value":{d(this,{separator:this.separator,setOriginal:!0,value:i});break}default:break}}};h.observedAttributes=["max","min","value"];customElements.define(o,h);})();
