(()=>{function p(t){return typeof t=="number"?t:Number.parseInt(typeof t=="string"?t:String(t),10)}function y(t){return(t??"").trim().length===0}function b(t){if(t instanceof MouseEvent)return{x:t.clientX,y:t.clientY};let e=t.touches[0]?.clientX,r=t.touches[0]?.clientY;return typeof e=="number"&&typeof r=="number"?{x:e,y:r}:void 0}function l(t,e){return{capture:e??!1,passive:t??!0}}var c=(()=>{let t=!1;try{if("matchMedia"in window){let e=matchMedia("(pointer: coarse)");typeof e?.matches=="boolean"&&(t=e.matches)}t||(t="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints??0)>0)}catch{t=!1}return t})(),d={begin:c?"touchstart":"mousedown",end:c?"touchend":"mouseup",move:c?"touchmove":"mousemove"};var v=/^arrow(down|left|right|up)$/i,w=/^arrow(left|up)$/i,k=/^arrow(left|right)$/i,o="palmer-splitter",E=/^(arrow(down|left|right|up)|end|escape|home)$/i,A=new Set(["horizontal","vertical"]),$=/^arrow(up|down)$/i,u=new WeakMap,S=0;function T(t){t.key==="Escape"&&g(this,!1)}function M(t){g(t,!0)}function N(){g(this,!1)}function O(t){c&&t.preventDefault();let e=b(t);if(e===void 0)return;let r=this.getBoundingClientRect(),i=this.type==="horizontal"?(e.x-r.left)/r.width:(e.y-r.top)/r.height;m(this,{separator:this.separator,value:i*100})}function C(t,e){if(!E.test(e.key)||(t.type==="horizontal"?$:k).test(e.key))return;let{values:r}=u.get(t);if(r===void 0)return;let i;v.test(e.key)?i=Math.round(t.value+(w.test(e.key)?-1:1)):e.key==="Escape"?(i=r.initial??r.original,r.initial=void 0):i=e.key==="End"?r.maximum:r.minimum,m(t,{value:i,values:r,separator:t.separator})}function K(t,e){let{key:r,separator:i,setFlex:n}=e,s=e.values??u.get(t)?.values,a=p(e.value);s===void 0||Number.isNaN(a)||a===s[r]||r==="maximum"&&a<s.minimum||r==="minimum"&&a>s.maximum||(r==="maximum"&&a>100?a=100:r==="minimum"&&a<0&&(a=0),s[e.key]=a,i.setAttribute(r==="maximum"?"aria-valuemax":"aria-valuemin",a),n&&(r==="maximum"&&a<s.current||r==="minimum"&&a>s.current)&&m(t,{separator:i,value:a,values:s}))}function g(t,e){let r=u.get(t);if(r===void 0)return;e&&(r.values.initial=Number(r.values.current));let i=e?"addEventListener":"removeEventListener";document[i]("keydown",r.callbacks.keydown,l()),document[i](d.end,r.callbacks.pointerEnd,l()),document[i](d.move,r.callbacks.pointerMove,l(!c)),r.dragging=e,t.handle.style.userSelect=e?"none":null,t.handle.style.webkitUserSelect=e?"none":null}function m(t,e){let{separator:r}=e,i=e.values??u.get(t)?.values,n=p(e.value);i===void 0||Number.isNaN(n)||n===i.current||(n<i.minimum?n=i.minimum:n>i.maximum&&(n=i.maximum),(e.setOriginal??!1)&&(i.original=n),r.setAttribute("aria-valuenow",n),t.primary.style.flex=`${n/100}`,t.secondary.style.flex=`${(100-n)/100}`,i.current=n,t.dispatchEvent(new CustomEvent("change",{detail:n})))}function L(t){let{handle:e}=t;e.hidden=!1,e.setAttribute("aria-hidden",!0),e.addEventListener(d.begin,()=>M(t),l())}function z(t){let{separator:e}=t;e.hidden=!1,e.tabIndex=0,e.setAttribute("role","separator"),e.setAttribute("aria-controls",t.primary.id),e.setAttribute("aria-valuemax",100),e.setAttribute("aria-valuemin",0),e.setAttribute("aria-valuenow",50),y(t.getAttribute("value"))&&m(t,{separator:e,value:50}),e.addEventListener("keydown",r=>C(t,r),l())}var h=class extends HTMLElement{get max(){return u.get(this)?.values.maximum}set max(e){this.setAttribute("max",e)}get min(){return u.get(this)?.values.minimum}set min(e){this.setAttribute("min",e)}get type(){let e=this.getAttribute("type")??"horizontal";return A.has(e)?e:"horizontal"}set type(e){this.setAttribute("type",e)}get value(){return u.get(this)?.values.current}set value(e){this.setAttribute("value",e)}constructor(){super();let e=Array.from(this.querySelectorAll(`:scope > [${o}-panel]`));if(e.length!==2||e.some(f=>!(f instanceof HTMLElement)))throw new TypeError(`<${o}> must have two direct child elements with the attribute '${o}-panel'`);let r=this.querySelector(`:scope > [${o}-separator]`),i=r?.querySelector(`:scope > [${o}-separator-handle]`);if([r,i].some(f=>!(f instanceof HTMLElement)))throw new TypeError(`<${o}> must have a separator element with the attribute '${o}-separator', and it must have a child element with the attribute '${o}-separator-handle'`);let n=e[0],s=e[1],a=Array.from(this.children);if(!(a.indexOf(n)<a.indexOf(r)&&a.indexOf(r)<a.indexOf(s)))throw new TypeError(`<${o}> must have elements with the order of: panel, separator, panel`);let x={callbacks:{keydown:T.bind(this),pointerEnd:N.bind(this),pointerMove:O.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};u.set(this,x),this.primary=n,this.secondary=s,this.handle=i,this.separator=r,y(n.id)&&(n.id=`palmer_splitter_primary_panel_${++S}`),z(this),L(this)}attributeChangedCallback(e,r,i){switch(e){case"max":case"min":{K(this,{key:e==="max"?"maximum":"minimum",separator:this.separator,setFlex:!0,value:i});break}case"value":{m(this,{separator:this.separator,setOriginal:!0,value:i});break}default:break}}};h.observedAttributes=["max","min","value"];customElements.define(o,h);})();
