"use strict";(()=>{var y=Object.defineProperty;var E=(e,n,t)=>n in e?y(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var u=(e,n,t)=>(E(e,typeof n!="symbol"?n+"":n,t),t);var m={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},d=(()=>{try{if("matchMedia"in window){let e=matchMedia("(pointer: coarse)");if(e!=null&&typeof e.matches=="boolean")return e.matches}return"ontouchstart"in window||navigator.maxTouchPoints>0||(navigator?.msMaxTouchPoints??0)>0}catch{return!1}})();function g(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};let n=e.touches[0]?.clientX,t=e.touches[0]?.clientY;return n==null||t==null?void 0:{x:n,y:t}}function h(e){return typeof e=="number"?e:Number.parseInt(typeof e=="string"?e:String(e),10)}function p(e){return(e??"").trim().length===0}var x=d?"touchstart":"mousedown",w=d?"touchend":"mouseup",A=d?"touchmove":"mousemove",v="palmer-splitter",M=["horizontal","vertical"],o=new WeakMap,T=0;function L(e,n){let t=document.createElement("span");return t.className=`${n}__separator__handle`,t.ariaHidden="true",t.textContent=e.type==="horizontal"?"\u2195":"\u2194",t.addEventListener(x,()=>H(e)),t}function S(e,n,t){if((n??o.get(e)?.values)==null)return null;let i=document.createElement("div");p(e.primary.id)&&(e.primary.id=`palmer_splitter_primary_panel_${++T}`),i.className=`${t}__separator`,i.role="separator",i.tabIndex=0,i.setAttribute("aria-controls",e.primary.id),i.setAttribute("aria-valuemax","100"),i.setAttribute("aria-valuemin","0"),i.setAttribute("aria-valuenow","50");let l=e.getAttribute("value");return p(l)&&c(e,i,50),i.appendChild(e.handle),i.addEventListener("keydown",a=>P(e,a),m.passive),i}function k(e){e.key==="Escape"&&b(this,!1)}function H(e){b(e,!0)}function N(){b(this,!1)}function V(e){let n=g(e);if(n==null)return;let t=this.getBoundingClientRect(),r;this.type==="horizontal"?r=(n.y-t.top)/t.height:r=(n.x-t.left)/t.width,c(this,this.separator,r*100)}function P(e,n){if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Escape","Home"].includes(n.key)||(e.type==="horizontal"?["ArrowLeft","ArrowRight"]:["ArrowDown","ArrowUp"]).includes(n.key))return;let r=o.get(e)?.values;if(r==null)return;let i;switch(n.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":i=Math.round(e.value+(["ArrowLeft","ArrowUp"].includes(n.key)?-1:1));break;case"End":case"Home":i=n.key==="End"?r.maximum:r.minimum;break;case"Escape":i=r.initial??r.original,r.initial=void 0;break;default:break}c(e,e.separator,i,r)}function C(e,n,t,r,i,l){let a=l??o.get(e)?.values,s=h(r);a==null||Number.isNaN(s)||s===a[t]||t==="maximum"&&s<a.minimum||t==="minimum"&&s>a.maximum||(t==="maximum"&&s>100?s=100:t==="minimum"&&s<0&&(s=0),a[t]=s,n.setAttribute(t==="maximum"?"aria-valuemax":"aria-valuemin",s),i&&(t==="maximum"&&s<a.current||t==="minimum"&&s>a.current)&&c(e,n,s,a))}function b(e,n){let t=o.get(e);if(t==null)return;n&&(t.values.initial=Number(t.values.current));let r=n?"addEventListener":"removeEventListener";document[r]("keydown",t.callbacks.keydown,m.passive),document[r](w,t.callbacks.pointerEnd,m.passive),document[r](A,t.callbacks.pointerMove,m.passive),t.dragging=n}function c(e,n,t,r,i){let l=r??o.get(e)?.values,a=h(t);l==null||Number.isNaN(a)||a===l.current||(a<l.minimum?a=l.minimum:a>l.maximum&&(a=l.maximum),(i??!1)&&(l.original=a),n.ariaValueNow=a,e.primary.style.flex=`${a/100}`,e.secondary.style.flex=`${(100-a)/100}`,l.current=a,e.dispatchEvent(new CustomEvent("change",{detail:{value:a}})))}var f=class extends HTMLElement{constructor(){super();u(this,"handle");u(this,"primary");u(this,"secondary");u(this,"separator");if(this.children.length!==2)throw new Error(`A <${v}> must have exactly two direct children`);let t={callbacks:{keydown:k.bind(this),pointerEnd:N.bind(this),pointerMove:V.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};o.set(this,t),this.primary=this.children[0],this.secondary=this.children[1];let r=this.getAttribute("className");p(r)&&(r=v),this.handle=L(this,r),this.separator=S(this,t.values,r),this.primary?.insertAdjacentElement("afterend",this.separator)}get max(){return o.get(this)?.values.maximum}set max(t){this.setAttribute("max",t)}get min(){return o.get(this)?.values.minimum}set min(t){this.setAttribute("min",t)}get type(){let t=this.getAttribute("type")??"vertical";return M.includes(t)?t:"vertical"}set type(t){this.setAttribute("type",t)}get value(){return o.get(this)?.values.current}set value(t){this.setAttribute("value",t)}attributeChangedCallback(t,r,i){switch(t){case"max":case"min":C(this,this.separator,t==="max"?"maximum":"minimum",i,!0);break;case"value":c(this,this.separator,i,void 0,!0);break;default:break}}};u(f,"observedAttributes",["max","min","value"]);customElements.define(v,f);})();
