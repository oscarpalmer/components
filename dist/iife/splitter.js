(()=>{var l={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}};function u(){if(typeof globalThis._oscarpalmer_components_isTouchScreen=="boolean")return globalThis._oscarpalmer_components_isTouchScreen;let e=!1;try{if("matchMedia"in window){let t=matchMedia("(pointer: coarse)");typeof t?.matches=="boolean"&&(e=t.matches)}e||(e="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints??0)>0)}catch{e=!1}return globalThis._oscarpalmer_components_isTouchScreen=e,e}function b(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};let t=e.touches[0]?.clientX,i=e.touches[0]?.clientY;return t===null||i===null?void 0:{x:t,y:i}}function f(e){return typeof e=="number"?e:Number.parseInt(typeof e=="string"?e:String(e),10)}function d(e){return(e??"").trim().length===0}var g=u()?"touchstart":"mousedown",y=u()?"touchend":"mouseup",v=u()?"touchmove":"mousemove",h="palmer-splitter",x=new Set(["horizontal","vertical"]),o=new WeakMap,w=0;function A(e,t){let i=document.createElement("span");return i.className=`${t}__separator__handle`,i.ariaHidden="true",i.textContent=e.type==="horizontal"?"\u2195":"\u2194",i.addEventListener(g,()=>k(e)),i}function _(e,t,i){if((t??o.get(e)?.values)===void 0)return;let r=document.createElement("div");d(e.primary.id)&&(e.primary.id=`palmer_splitter_primary_panel_${++w}`),r.className=`${i}__separator`,r.role="separator",r.tabIndex=0,r.setAttribute("aria-controls",e.primary.id),r.setAttribute("aria-valuemax","100"),r.setAttribute("aria-valuemin","0"),r.setAttribute("aria-valuenow","50");let s=e.getAttribute("value");return d(s)&&c(e,{separator:r,value:50}),r.append(e.handle),r.addEventListener("keydown",a=>T(e,a),l.passive),r}function E(e){e.key==="Escape"&&p(this,!1)}function k(e){p(e,!0)}function S(){p(this,!1)}function N(e){u&&e.preventDefault();let t=b(e);if(t===void 0)return;let i=this.getBoundingClientRect(),n=this.type==="horizontal"?(t.y-i.top)/i.height:(t.x-i.left)/i.width;c(this,{separator:this.separator,value:n*100})}function T(e,t){if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Escape","Home"].includes(t.key)||(e.type==="horizontal"?["ArrowLeft","ArrowRight"]:["ArrowDown","ArrowUp"]).includes(t.key))return;let{values:n}=o.get(e);if(n===void 0)return;let r;switch(t.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{r=Math.round(e.value+(["ArrowLeft","ArrowUp"].includes(t.key)?-1:1));break}case"End":case"Home":{r=t.key==="End"?n.maximum:n.minimum;break}case"Escape":{r=n.initial??n.original,n.initial=void 0;break}default:break}c(e,{value:r,values:n,separator:e.separator})}function L(e,t){let{key:i,separator:n,setFlex:r}=t,s=t.values??o.get(e)?.values,a=f(t.value);s===void 0||Number.isNaN(a)||a===s[i]||i==="maximum"&&a<s.minimum||i==="minimum"&&a>s.maximum||(i==="maximum"&&a>100?a=100:i==="minimum"&&a<0&&(a=0),s[t.key]=a,n.setAttribute(i==="maximum"?"aria-valuemax":"aria-valuemin",a),r&&(i==="maximum"&&a<s.current||i==="minimum"&&a>s.current)&&c(e,{separator:n,value:a,values:s}))}function p(e,t){let i=o.get(e);if(i===void 0)return;t&&(i.values.initial=Number(i.values.current));let n=t?"addEventListener":"removeEventListener";document[n]("keydown",i.callbacks.keydown,l.passive),document[n](y,i.callbacks.pointerEnd,l.passive),document[n](v,i.callbacks.pointerMove,u?l.active:l.passive),i.dragging=t,document.body.style.userSelect=t?"none":null,document.body.style.webkitUserSelect=t?"none":null}function c(e,t){let{separator:i}=t,n=t.values??o.get(e)?.values,r=f(t.value);n===void 0||Number.isNaN(r)||r===n.current||(r<n.minimum?r=n.minimum:r>n.maximum&&(r=n.maximum),(t.setOriginal??!1)&&(n.original=r),i.ariaValueNow=r,e.primary.style.flex=`${r/100}`,e.secondary.style.flex=`${(100-r)/100}`,n.current=r,e.dispatchEvent(new CustomEvent("change",{detail:{value:r}})))}var m=class extends HTMLElement{get max(){return o.get(this)?.values.maximum}set max(t){this.setAttribute("max",t)}get min(){return o.get(this)?.values.minimum}set min(t){this.setAttribute("min",t)}get type(){let t=this.getAttribute("type")??"vertical";return x.has(t)?t:"vertical"}set type(t){this.setAttribute("type",t)}get value(){return o.get(this)?.values.current}set value(t){this.setAttribute("value",t)}constructor(){if(super(),this.children.length!==2)throw new Error(`A <${h}> must have exactly two direct children`);let t={callbacks:{keydown:E.bind(this),pointerEnd:S.bind(this),pointerMove:N.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};o.set(this,t),this.primary=this.children[0],this.secondary=this.children[1];let i=this.getAttribute("className");d(i)&&(i=h);let n=`${i}__panel`;this.primary.classList.add(n),this.secondary.classList.add(n),this.handle=A(this,i),this.separator=_(this,t.values,i),this.primary?.insertAdjacentElement("afterend",this.separator)}attributeChangedCallback(t,i,n){switch(t){case"max":case"min":{L(this,{key:t==="max"?"maximum":"minimum",separator:this.separator,setFlex:!0,value:n});break}case"value":{c(this,{separator:this.separator,setOriginal:!0,value:n});break}default:break}}};m.observedAttributes=["max","min","value"];customElements.define(h,m);})();
