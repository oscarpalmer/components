"use strict";(()=>{var y=Object.defineProperty;var g=(t,r,e)=>r in t?y(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var u=(t,r,e)=>(g(t,typeof r!="symbol"?r+"":r,e),e);var m={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}};function b(t){return typeof t=="number"?t:Number.parseInt(typeof t=="string"?t:String(t),10)}function c(t){return(t!=null?t:"").trim().length===0}var f="palmer-splitter",E=["horizontal","vertical"],o=new WeakMap,x=0;function w(t,r){let e=document.createElement("span");return e.className=`${r}__separator__handle`,e.ariaHidden="true",e.textContent=t.type==="horizontal"?"\u2195":"\u2194",e.addEventListener("mousedown",()=>L(t)),e}function A(t,r,e){var a;if((r!=null?r:(a=o.get(t))==null?void 0:a.values)==null)return null;let n=document.createElement("div");c(t.primary.id)&&(t.primary.id=`palmer_splitter_primary_panel_${++x}`),n.className=`${e}__separator`,n.role="separator",n.tabIndex=0,n.setAttribute("aria-controls",t.primary.id),n.setAttribute("aria-valuemax","100"),n.setAttribute("aria-valuemin","0"),n.setAttribute("aria-valuenow","50");let l=t.getAttribute("value");return c(l)&&d(t,n,50),n.appendChild(t.handle),n.addEventListener("keydown",s=>k(t,s),m.passive),n}function S(t){t.key==="Escape"&&h(this,!1)}function L(t){h(t,!0)}function M(t){let r=this.getBoundingClientRect(),e;this.type==="horizontal"?e=(t.clientY-r.top)/r.height:e=(t.clientX-r.left)/r.width,d(this,this.separator,e*100)}function T(){h(this,!1)}function k(t,r){var l;if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Escape","Home"].includes(r.key)||(t.type==="horizontal"?["ArrowLeft","ArrowRight"]:["ArrowDown","ArrowUp"]).includes(r.key))return;let i=(l=o.get(t))==null?void 0:l.values;if(i==null)return;let n;switch(r.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":n=Math.round(t.value+(["ArrowLeft","ArrowUp"].includes(r.key)?-1:1));break;case"End":case"Home":n=r.key==="End"?i.maximum:i.minimum;break;case"Escape":n=i.original;break;default:break}d(t,t.separator,n,i)}function H(t,r,e,i,n,l){var v;let a=l!=null?l:(v=o.get(t))==null?void 0:v.values,s=b(i);a==null||Number.isNaN(s)||s===a[e]||e==="maximum"&&s<a.minimum||e==="minimum"&&s>a.maximum||(e==="maximum"&&s>100?s=100:e==="minimum"&&s<0&&(s=0),a[e]=s,r.setAttribute(e==="maximum"?"aria-valuemax":"aria-valuemin",s),n&&(e==="maximum"&&s<a.current||e==="minimum"&&s>a.current)&&d(t,r,s,a))}function h(t,r){let e=o.get(t);if(e==null)return;let i=r?"addEventListener":"removeEventListener";document[i]("keydown",e.callbacks.keydown,m.passive),document[i]("mousemove",e.callbacks.mousemove,m.passive),document[i]("mouseup",e.callbacks.mouseup,m.passive),e.dragging=r,t.style.userSelect=r?"none":"auto",t.style.webkitUserSelect=r?"none":"auto"}function d(t,r,e,i,n){var s;let l=i!=null?i:(s=o.get(t))==null?void 0:s.values,a=b(e);l==null||Number.isNaN(a)||a===l.current||(a<l.minimum?a=l.minimum:a>l.maximum&&(a=l.maximum),n!=null&&n&&(l.original=a),r.ariaValueNow=a,t.primary.style.flex=`${a/100}`,t.secondary.style.flex=`${(100-a)/100}`,l.current=a,t.dispatchEvent(new CustomEvent("change",{detail:{value:a}})))}var p=class extends HTMLElement{constructor(){var n;super();u(this,"handle");u(this,"primary");u(this,"secondary");u(this,"separator");if(this.children.length!==2)throw new Error(`A <${f}> must have exactly two direct children`);let e={callbacks:{keydown:S.bind(this),mousemove:M.bind(this),mouseup:T.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};o.set(this,e),this.primary=this.children[0],this.secondary=this.children[1];let i=this.getAttribute("className");c(i)&&(i=f),this.handle=w(this,i),this.separator=A(this,e.values,i),(n=this.primary)==null||n.insertAdjacentElement("afterend",this.separator)}get max(){var e;return(e=o.get(this))==null?void 0:e.values.maximum}set max(e){this.setAttribute("max",e)}get min(){var e;return(e=o.get(this))==null?void 0:e.values.minimum}set min(e){this.setAttribute("min",e)}get type(){var i;let e=(i=this.getAttribute("type"))!=null?i:"vertical";return E.includes(e)?e:"vertical"}set type(e){this.setAttribute("type",e)}get value(){var e;return(e=o.get(this))==null?void 0:e.values.current}set value(e){this.setAttribute("value",e)}attributeChangedCallback(e,i,n){switch(e){case"max":case"min":H(this,this.separator,e==="max"?"maximum":"minimum",n,!0);break;case"value":d(this,this.separator,n,void 0,!0);break;default:break}}};u(p,"observedAttributes",["max","min","value"]);customElements.define(f,p);})();
