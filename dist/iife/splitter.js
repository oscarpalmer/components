"use strict";(()=>{var E=Object.defineProperty;var x=(t,n,e)=>n in t?E(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var u=(t,n,e)=>(x(t,typeof n!="symbol"?n+"":n,e),e);var c={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},d=(()=>{var t;try{if("matchMedia"in window){let n=matchMedia("(pointer: coarse)");if(n!=null&&typeof n.matches=="boolean")return n.matches}return"ontouchstart"in window||navigator.maxTouchPoints>0||((t=navigator==null?void 0:navigator.msMaxTouchPoints)!=null?t:0)>0}catch(n){return!1}})();function g(t){var r,i;if(t instanceof MouseEvent)return{x:t.clientX,y:t.clientY};let n=(r=t.touches[0])==null?void 0:r.clientX,e=(i=t.touches[0])==null?void 0:i.clientY;return n==null||e==null?void 0:{x:n,y:e}}function h(t){return typeof t=="number"?t:Number.parseInt(typeof t=="string"?t:String(t),10)}function p(t){return(t!=null?t:"").trim().length===0}var w=d?"touchstart":"mousedown",A=d?"touchend":"mouseup",M=d?"touchmove":"mousemove",b="palmer-splitter",T=["horizontal","vertical"],l=new WeakMap,L=0;function S(t,n){let e=document.createElement("span");return e.className=`${n}__separator__handle`,e.ariaHidden="true",e.textContent=t.type==="horizontal"?"\u2195":"\u2194",e.addEventListener(w,()=>N(t)),e}function k(t,n,e){var a;if((n!=null?n:(a=l.get(t))==null?void 0:a.values)==null)return null;let i=document.createElement("div");p(t.primary.id)&&(t.primary.id=`palmer_splitter_primary_panel_${++L}`),i.className=`${e}__separator`,i.role="separator",i.tabIndex=0,i.setAttribute("aria-controls",t.primary.id),i.setAttribute("aria-valuemax","100"),i.setAttribute("aria-valuemin","0"),i.setAttribute("aria-valuenow","50");let o=t.getAttribute("value");return p(o)&&m(t,i,50),i.appendChild(t.handle),i.addEventListener("keydown",s=>C(t,s),c.passive),i}function H(t){t.key==="Escape"&&v(this,!1)}function N(t){v(t,!0)}function V(){v(this,!1)}function P(t){let n=g(t);if(n==null)return;let e=this.getBoundingClientRect(),r;this.type==="horizontal"?r=(n.y-e.top)/e.height:r=(n.x-e.left)/e.width,m(this,this.separator,r*100)}function C(t,n){var o,a;if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Escape","Home"].includes(n.key)||(t.type==="horizontal"?["ArrowLeft","ArrowRight"]:["ArrowDown","ArrowUp"]).includes(n.key))return;let r=(o=l.get(t))==null?void 0:o.values;if(r==null)return;let i;switch(n.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":i=Math.round(t.value+(["ArrowLeft","ArrowUp"].includes(n.key)?-1:1));break;case"End":case"Home":i=n.key==="End"?r.maximum:r.minimum;break;case"Escape":i=(a=r.initial)!=null?a:r.original,r.initial=void 0;break;default:break}m(t,t.separator,i,r)}function _(t,n,e,r,i,o){var y;let a=o!=null?o:(y=l.get(t))==null?void 0:y.values,s=h(r);a==null||Number.isNaN(s)||s===a[e]||e==="maximum"&&s<a.minimum||e==="minimum"&&s>a.maximum||(e==="maximum"&&s>100?s=100:e==="minimum"&&s<0&&(s=0),a[e]=s,n.setAttribute(e==="maximum"?"aria-valuemax":"aria-valuemin",s),i&&(e==="maximum"&&s<a.current||e==="minimum"&&s>a.current)&&m(t,n,s,a))}function v(t,n){let e=l.get(t);if(e==null)return;n&&(e.values.initial=Number(e.values.current));let r=n?"addEventListener":"removeEventListener";document[r]("keydown",e.callbacks.keydown,c.passive),document[r](A,e.callbacks.pointerEnd,c.passive),document[r](M,e.callbacks.pointerMove,c.passive),e.dragging=n}function m(t,n,e,r,i){var s;let o=r!=null?r:(s=l.get(t))==null?void 0:s.values,a=h(e);o==null||Number.isNaN(a)||a===o.current||(a<o.minimum?a=o.minimum:a>o.maximum&&(a=o.maximum),i!=null&&i&&(o.original=a),n.ariaValueNow=a,t.primary.style.flex=`${a/100}`,t.secondary.style.flex=`${(100-a)/100}`,o.current=a,t.dispatchEvent(new CustomEvent("change",{detail:{value:a}})))}var f=class extends HTMLElement{constructor(){var i;super();u(this,"handle");u(this,"primary");u(this,"secondary");u(this,"separator");if(this.children.length!==2)throw new Error(`A <${b}> must have exactly two direct children`);let e={callbacks:{keydown:H.bind(this),pointerEnd:V.bind(this),pointerMove:P.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};l.set(this,e),this.primary=this.children[0],this.secondary=this.children[1];let r=this.getAttribute("className");p(r)&&(r=b),this.handle=S(this,r),this.separator=k(this,e.values,r),(i=this.primary)==null||i.insertAdjacentElement("afterend",this.separator)}get max(){var e;return(e=l.get(this))==null?void 0:e.values.maximum}set max(e){this.setAttribute("max",e)}get min(){var e;return(e=l.get(this))==null?void 0:e.values.minimum}set min(e){this.setAttribute("min",e)}get type(){var r;let e=(r=this.getAttribute("type"))!=null?r:"vertical";return T.includes(e)?e:"vertical"}set type(e){this.setAttribute("type",e)}get value(){var e;return(e=l.get(this))==null?void 0:e.values.current}set value(e){this.setAttribute("value",e)}attributeChangedCallback(e,r,i){switch(e){case"max":case"min":_(this,this.separator,e==="max"?"maximum":"minimum",i,!0);break;case"value":m(this,this.separator,i,void 0,!0);break;default:break}}};u(f,"observedAttributes",["max","min","value"]);customElements.define(b,f);})();
