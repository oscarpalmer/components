(()=>{var y=Object.defineProperty;var v=(e,i,t)=>i in e?y(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var u=(e,i,t)=>(v(e,typeof i!="symbol"?i+"":i,t),t);var l={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}};function m(){if(typeof globalThis.oscarpalmer_components_isTouchScreen=="boolean")return globalThis.oscarpalmer_components_isTouchScreen;let e=!1;try{if("matchMedia"in window){let i=matchMedia("(pointer: coarse)");typeof i?.matches=="boolean"&&(e=i.matches)}e||(e="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints??0)>0)}catch{e=!1}return globalThis.oscarpalmer_components_isTouchScreen=e,e}function b(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};let i=e.touches[0]?.clientX,t=e.touches[0]?.clientY;return i===null||t===null?void 0:{x:i,y:t}}function h(e){return typeof e=="number"?e:Number.parseInt(typeof e=="string"?e:String(e),10)}function d(e){return(e??"").trim().length===0}var x=m()?"touchstart":"mousedown",w=m()?"touchend":"mouseup",A=m()?"touchmove":"mousemove",p="palmer-splitter",E=new Set(["horizontal","vertical"]),o=new WeakMap,k=0;function _(e,i){let t=document.createElement("span");return t.className=`${i}__separator__handle`,t.ariaHidden="true",t.textContent=e.type==="horizontal"?"\u2195":"\u2194",t.addEventListener(x,()=>S(e)),t}function N(e,i,t){if((i??o.get(e)?.values)===void 0)return;let n=document.createElement("div");d(e.primary.id)&&(e.primary.id=`palmer_splitter_primary_panel_${++k}`),n.className=`${t}__separator`,n.role="separator",n.tabIndex=0,n.setAttribute("aria-controls",e.primary.id),n.setAttribute("aria-valuemax","100"),n.setAttribute("aria-valuemin","0"),n.setAttribute("aria-valuenow","50");let s=e.getAttribute("value");return d(s)&&c(e,n,50),n.append(e.handle),n.addEventListener("keydown",a=>L(e,a),l.passive),n}function T(e){e.key==="Escape"&&g(this,!1)}function S(e){g(e,!0)}function M(){g(this,!1)}function C(e){let i=b(e);if(i===void 0)return;let t=this.getBoundingClientRect(),r=this.type==="horizontal"?(i.y-t.top)/t.height:(i.x-t.left)/t.width;c(this,this.separator,r*100)}function L(e,i){if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Escape","Home"].includes(i.key)||(e.type==="horizontal"?["ArrowLeft","ArrowRight"]:["ArrowDown","ArrowUp"]).includes(i.key))return;let{values:r}=o.get(e);if(r===void 0)return;let n;switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{n=Math.round(e.value+(["ArrowLeft","ArrowUp"].includes(i.key)?-1:1));break}case"End":case"Home":{n=i.key==="End"?r.maximum:r.minimum;break}case"Escape":{n=r.initial??r.original,r.initial=void 0;break}default:break}c(e,e.separator,n,r)}function $(e,i){let{key:t,separator:r,setFlex:n}=i,s=i.values??o.get(e)?.values,a=h(i.value);s===void 0||Number.isNaN(a)||a===s[t]||t==="maximum"&&a<s.minimum||t==="minimum"&&a>s.maximum||(t==="maximum"&&a>100?a=100:t==="minimum"&&a<0&&(a=0),s[i.key]=a,r.setAttribute(t==="maximum"?"aria-valuemax":"aria-valuemin",a),n&&(t==="maximum"&&a<s.current||t==="minimum"&&a>s.current)&&c(e,r,a,s))}function g(e,i){let t=o.get(e);if(t===void 0)return;i&&(t.values.initial=Number(t.values.current));let r=i?"addEventListener":"removeEventListener";document[r]("keydown",t.callbacks.keydown,l.passive),document[r](w,t.callbacks.pointerEnd,l.passive),document[r](A,t.callbacks.pointerMove,l.passive),t.dragging=i}function c(e,i){let{separator:t}=i,r=i.values??o.get(e)?.values,n=h(i.value);r===void 0||Number.isNaN(n)||n===r.current||(n<r.minimum?n=r.minimum:n>r.maximum&&(n=r.maximum),(i.setOriginal??!1)&&(r.original=n),t.ariaValueNow=n,e.primary.style.flex=`${n/100}`,e.secondary.style.flex=`${(100-n)/100}`,r.current=n,e.dispatchEvent(new CustomEvent("change",{detail:{value:n}})))}var f=class extends HTMLElement{constructor(){super();u(this,"handle");u(this,"primary");u(this,"secondary");u(this,"separator");if(this.children.length!==2)throw new Error(`A <${p}> must have exactly two direct children`);let t={callbacks:{keydown:T.bind(this),pointerEnd:M.bind(this),pointerMove:C.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};o.set(this,t),this.primary=this.children[0],this.secondary=this.children[1];let r=this.getAttribute("className");d(r)&&(r=p),this.handle=_(this,r),this.separator=N(this,t.values,r),this.primary?.insertAdjacentElement("afterend",this.separator)}get max(){return o.get(this)?.values.maximum}set max(t){this.setAttribute("max",t)}get min(){return o.get(this)?.values.minimum}set min(t){this.setAttribute("min",t)}get type(){let t=this.getAttribute("type")??"vertical";return E.has(t)?t:"vertical"}set type(t){this.setAttribute("type",t)}get value(){return o.get(this)?.values.current}set value(t){this.setAttribute("value",t)}attributeChangedCallback(t,r,n){switch(t){case"max":case"min":{$(this,{key:t==="max"?"maximum":"minimum",separator:this.separator,setFlex:!0,value:n});break}case"value":{c(this,{separator:this.separator,setOriginal:!0,value:n});break}default:break}}};u(f,"observedAttributes",["max","min","value"]);customElements.define(p,f);})();
