"use strict";(()=>{var _=Object.defineProperty;var ee=(i,e,t)=>e in i?_(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var l=(i,e,t)=>(ee(i,typeof e!="symbol"?e+"":e,t),t);var W=Math.round(16.666666666666668),te=cancelAnimationFrame!=null?cancelAnimationFrame:function(i){clearTimeout==null||clearTimeout(i)},j=requestAnimationFrame!=null?requestAnimationFrame:function(i){var e;return(e=setTimeout==null?void 0:setTimeout(()=>{i(Date.now())},W))!=null?e:-1},O=class{constructor(i,e,t){l(this,"callback");l(this,"count");l(this,"frame");l(this,"running",!1);l(this,"time");let n=this instanceof C,s=n?"repeated":"waited";if(typeof i!="function")throw new Error(`A ${s} timer must have a callback function`);if(typeof e!="number"||e<0)throw new Error(`A ${s} timer must have a non-negative number as its time`);if(n&&(typeof t!="number"||t<2))throw new Error("A repeated timer must have a number above 1 as its repeat count");this.callback=i,this.count=t,this.time=e}get active(){return this.running}static run(i){i.running=!0;let e=0,t;function n(s){if(!i.running)return;t!=null||(t=s);let o=s-t,r=o-W,a=o+W;if(r<i.time&&i.time<a)if(i.running&&i.callback(i instanceof C?e:void 0),e+=1,i instanceof C&&e<i.count)t=void 0;else{i.stop();return}i.frame=j(n)}i.frame=j(n)}restart(){return this.stop(),O.run(this),this}start(){return this.running?this:(O.run(this),this)}stop(){return this.running=!1,typeof this.frame=="undefined"?this:(te(this.frame),this.frame=void 0,this)}},C=class extends O{},ie=class extends O{constructor(i,e){super(i,e,1)}};function G(i,e,t){return new C(i,e,t).start()}function g(i,e){return new ie(i,e).start()}var u={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},ne=['[contenteditable]:not([contenteditable="false"])',"[href]","[tabindex]:not(slot)","audio[controls]","button","details","details[open] > summary","embed","iframe","input","object","select","textarea","video[controls]"],B=ne.map(i=>`${i}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function V(i,e,t){Object.defineProperty(i,e,{value:t,writable:!1})}function w(i,e){let t=typeof e=="string";if(t?i.matches(e):e(i))return i;let n=i==null?void 0:i.parentElement;for(;n!=null;){if(n===document.body)return;if(t?n.matches(e):e(n))break;n=n.parentElement}return n!=null?n:void 0}function T(i,e,t){let n=i.getAttribute(e);return n==null||n.trim().length===0?t:n}function S(i){var n;let e=[],t=Array.from(i.querySelectorAll(B));for(let s of t){let o=(n=globalThis.getComputedStyle)==null?void 0:n.call(globalThis,s);(o==null||o.display!=="none"&&o.visibility!=="hidden")&&e.push(s)}return e}function K(i){return i==null?!0:i.trim().length===0}function c(i,e,t){t==null?i.removeAttribute(e):i.setAttribute(e,String(t))}function m(i,e,t){i.setAttribute(e,String(typeof t=="boolean"?t:!1))}var d=class{static destroyList(e){var o;let{children:t,observer:n,open:s}=f.list;t.delete(e),s.delete(e),(o=n.get(e))==null||o.disconnect(),n.delete(e)}static getChildren(e){return Array.from(e.querySelectorAll(":scope > delicious-details > details, :scope > details"))}static initializeList(e){var o;let{children:t,observer:n,open:s}=f.list;t.set(e,d.getChildren(e)),s.set(e,[]),n.set(e,new MutationObserver(r=>{M.callback(e,r)})),(o=n.get(e))==null||o.observe(e,M.options),d.open(e,T(e,"open",""))}static onGlobalKeydown(e){if(e.key!=="Escape")return;let{containers:t}=f.details,n=w(document.activeElement,s=>{var o,r;return t.has(s)&&((r=(o=t.get(s))==null?void 0:o.open)!=null?r:!0)});n instanceof P&&d.onToggle.call(n,!1)}static onLocalKeydown(e){var b;if(e.isComposing||e.key!=="ArrowDown"&&e.key!=="ArrowUp"||!(this instanceof $))return;let{target:t}=e;if(!(t instanceof HTMLElement))return;let n=(b=f.list.children.get(this))!=null?b:[],s=t.parentElement,o=n.indexOf(s);if(o===-1)return;let r=o+(e.key==="ArrowDown"?1:-1);r<0?r=n.length-1:r>=n.length&&(r=0);let a=n[r],p=a==null?void 0:a.querySelector(":scope > summary");p==null||p.focus()}static onToggle(e){var o;if(!(this instanceof P))return;let{buttons:t,containers:n}=f.details,s=n.get(this);s!=null&&(s.open=e!=null?e:!s.open,s.open||(o=t.get(this))==null||o.focus())}static open(e,t){if(t==null){d.update(e,[]);return}if(t.length>0&&!/^[\s\d,]+$/.test(t))throw new Error("The 'selected'-attribute of a 'delicious-details-list'-element must be a comma-separated string of numbers, e.g. '', '0' or '0,1,2'");let n=t.length>0?t.split(",").filter(s=>s.trim().length>0).map(s=>Number.parseInt(s,10)):[];d.update(e,n)}static update(e,t){var b,v;if(typeof t=="undefined")return;let{children:n,observer:s,open:o}=f.list,r=t.filter((h,y,D)=>D.indexOf(h)===y).sort((h,y)=>h-y);e.multiple||(r=r.length>0&&r[0]!=null?r.length>1?[r[0]]:r:[]);let a=e.open;if(r.length===a.length&&r.every((h,y)=>a[y]===h))return;(b=s.get(e))==null||b.disconnect();let p=(v=n.get(e))!=null?v:[];for(let h of p)r.includes(p.indexOf(h))!==h.open&&(h.open=!h.open);g(()=>{o.set(e,r),c(e,"open",r.length===0?null:r),e.dispatchEvent(new Event("toggle")),g(()=>{var h;return(h=s.get(e))==null?void 0:h.observe(e,M.options)},0)},0)}},M=class{static callback(e,t){var h,y,D;if(t.length===0)return;let{children:n}=f.list,s=t[0],o=Array.from((h=s==null?void 0:s.addedNodes)!=null?h:[]),r=Array.from((y=s==null?void 0:s.removedNodes)!=null?y:[]);if(o.concat(r).some(q=>q.parentElement===e)){n.set(e,d.getChildren(e));return}if((s==null?void 0:s.type)!=="attributes"||!((s==null?void 0:s.target)instanceof HTMLDetailsElement))return;let a=s.target,b=((D=n.get(e))!=null?D:[]).indexOf(a);if(b===-1)return;let v=[];e.multiple?v=a.open?e.open.concat([b]):e.open.filter(q=>q!==b):v=a.open?[b]:[],d.update(e,v)}};l(M,"options",{attributeFilter:["open"],attributes:!0,childList:!0,subtree:!0});var f=class{};l(f,"details",{buttons:new WeakMap,containers:new WeakMap}),l(f,"list",{children:new WeakMap,observer:new WeakMap,open:new WeakMap});var P=class extends HTMLElement{get open(){var e,t;return(t=(e=f.details.containers.get(this))==null?void 0:e.open)!=null?t:!1}set open(e){d.onToggle.call(this,e)}connectedCallback(){let e=this.querySelector(":scope > details"),t=e==null?void 0:e.querySelector(":scope > summary");f.details.buttons.set(this,t),f.details.containers.set(this,e)}disconnectedCallback(){f.details.buttons.delete(this),f.details.containers.delete(this)}toggle(){d.onToggle.call(this)}},$=class extends HTMLElement{static get observedAttributes(){return["multiple","open"]}get multiple(){return this.getAttribute("multiple")!=null}set multiple(e){c(this,"multiple",e?"":null)}get open(){var e;return(e=f.list.open.get(this))!=null?e:[]}set open(e){d.update(this,e)}constructor(){super(),this.addEventListener("keydown",d.onLocalKeydown.bind(this),u.passive)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"multiple":d.open(this,T(this,"open",""));break;case"open":d.open(this,n);break;default:break}}connectedCallback(){d.initializeList(this)}disconnectedCallback(){d.destroyList(this)}};globalThis.addEventListener("keydown",d.onGlobalKeydown,u.passive);globalThis.customElements.define("delicious-details",P);globalThis.customElements.define("delicious-details-list",$);var E="formal-focus-trap",R=new WeakMap;function se(i,e,t){var r;let n=S(e);if(t===e){g(()=>{var a;((a=n[i.shiftKey?n.length-1:0])!=null?a:e).focus()},0);return}let s=n.indexOf(t),o=e;if(s>-1){let a=s+(i.shiftKey?-1:1);a<0?a=n.length-1:a>=n.length&&(a=0),o=(r=n[a])!=null?r:e}g(()=>{o.focus()},0)}function oe(i){for(let e of i){if(e.type!=="attributes")continue;let t=e.target;t.getAttribute(E)==null?H.destroy(t):H.create(t)}}function re(i){if(i.key!=="Tab")return;let e=i.target,t=w(e,`[${E}]`);t!=null&&(i.preventDefault(),i.stopImmediatePropagation(),se(i,t,e))}var H=class{constructor(e){l(this,"tabIndex");this.tabIndex=e.tabIndex,c(e,"tabindex","-1")}static create(e){R.has(e)||R.set(e,new H(e))}static destroy(e){let t=R.get(e);t!=null&&(c(e,"tabindex",t.tabIndex),R.delete(e))}};(()=>{if(typeof globalThis._formalFocusTrap!="undefined")return;globalThis._formalFocusTrap=null,new MutationObserver(oe).observe(document,{attributeFilter:[E],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0}),g(()=>{let e=Array.from(document.querySelectorAll(`[${E}]`));for(let t of e)t.setAttribute(E,"")},0),document.addEventListener("keydown",re,u.active)})();var U=["above","above-left","above-right","below","below-left","below-right","horizontal","left","right","vertical"];function ae(i,e){let{left:t,right:n}=i.anchor,{width:s}=i.floater;switch(e){case"above":case"below":case"vertical":return t+i.anchor.width/2-s/2;case"above-left":case"below-left":return t;case"above-right":case"below-right":return n-s;case"horizontal":return n+s>globalThis.innerWidth?t-s<0?n:t-s:n;case"left":return t-s;case"right":return n;default:return 0}}function le(i,e){let{bottom:t,top:n}=i.anchor,{height:s}=i.floater;switch(e){case"above":case"above-left":case"above-right":return n-s;case"below":case"below-left":case"below-right":return t;case"horizontal":case"left":case"right":return n+i.anchor.height/2-s/2;case"vertical":return t+s>globalThis.innerHeight?n-s<0?t:n-s:t;default:return 0}}function ce(i,e){var s;if(i==null)return e;let t=i.trim().toLowerCase(),n=U.indexOf(t);return n>-1&&(s=U[n])!=null?s:e}function F(i,e){let{anchor:t,floater:n,parent:s}=i;return document.body.appendChild(n),n.hidden=!1,G(()=>{var v;if(n.hidden){t.insertAdjacentElement("afterend",n);return}let o=ce((v=(s!=null?s:t).getAttribute(e.attribute))!=null?v:"",e.value);n.setAttribute("position",o);let r={anchor:t.getBoundingClientRect(),floater:n.getBoundingClientRect()},a=le(r,o),b=`matrix(1, 0, 0, 1, ${ae(r,o)}, ${a})`;n.style.position="fixed",n.style.inset="0 auto auto 0",n.style.transform=b},0,1/0)}var Q=new WeakMap,X=new WeakMap,ue=0;function J(i,e){var t,n,s;de(i,e),e&&i.content?((n=(t=S(i.content))==null?void 0:t[0])!=null?n:i.content).focus():(s=i.button)==null||s.focus()}function de(i,e){let t=Q.get(i),n=X.get(i);if(t==null||n==null)return;let s=e?"addEventListener":"removeEventListener";document[s]("click",t,u.passive),document[s]("keydown",n,u.passive)}function Y(i,e,t){let{button:n,content:s}=e;if(n==null||s==null)return;let o=w(t,"[polite-popover-content]");if(o==null){z(e,!1);return}i.stopPropagation();let r=Array.from(document.body.children);r.indexOf(o)-r.indexOf(s)<(i instanceof KeyboardEvent?1:0)&&z(e,!1)}function z(i,e){var n,s;let t=typeof e=="boolean"?!e:i.open;m(i.button,"aria-expanded",!t),t?(i.content.hidden=!0,(n=i.timer)==null||n.stop(),J(i,!1)):((s=i.timer)==null||s.stop(),i.timer=F({anchor:i.button,floater:i.content,parent:i},{attribute:"position",value:"below-left"}),g(()=>{J(i,!0)},50)),i.dispatchEvent(new Event("toggle"))}function fe(i,e,t){t.hidden=!0,K(i.id)&&c(i,"id",`polite_popover_${++ue}`),K(e.id)&&c(e,"id",`${i.id}_button`),K(t.id)&&c(t,"id",`${i.id}_content`),c(e,"aria-controls",t.id),m(e,"aria-expanded",!1),c(e,"aria-haspopup","dialog"),e instanceof HTMLButtonElement||c(e,"tabindex","0"),c(t,E,""),c(t,"role","dialog"),c(t,"aria-modal","false"),Q.set(i,he.bind(i)),X.set(i,be.bind(i)),e.addEventListener("click",N.bind(i),u.passive)}function he(i){this instanceof A&&this.open&&Y(i,this,i.target)}function be(i){this instanceof A&&this.open&&i instanceof KeyboardEvent&&i.key==="Escape"&&Y(i,this,document.activeElement)}function N(i){this instanceof A&&z(this,i)}var A=class extends HTMLElement{constructor(){super();l(this,"button");l(this,"content");l(this,"timer");let t=this.querySelector(":scope > [polite-popover-button]"),n=this.querySelector(":scope > [polite-popover-content]");if(t==null||!(t instanceof HTMLButtonElement||t instanceof HTMLElement&&t.getAttribute("role")==="button"))throw new Error("<polite-popover> must have a <button>-element (or button-like element) with the attribute 'polite-popover-button'");if(n==null||!(n instanceof HTMLElement))throw new Error("<polite-popover> must have an element with the attribute 'polite-popover-content'");V(this,"button",t),V(this,"content",n),fe(this,t,n)}get open(){var t;return((t=this.button)==null?void 0:t.getAttribute("aria-expanded"))==="true"}set open(t){N.call(this,t)}toggle(){this.button&&this.content&&N.call(this)}};globalThis.customElements.define("polite-popover",A);function me(i,e,t){var o,r,a;(o=e.parentElement)==null||o.removeChild(e),(r=t.parentElement)==null||r.removeChild(t),m(i,"aria-checked",t.checked||i.checked),m(i,"aria-disabled",t.disabled||i.disabled),m(i,"aria-readonly",t.readOnly||i.readonly),i.setAttribute("aria-labelledby",`${t.id}_label`),i.setAttribute("id",t.id),i.setAttribute("name",(a=t.name)!=null?a:t.id),i.setAttribute("role","switch"),i.setAttribute("tabindex","0"),i.setAttribute("value",t.value);let n=T(i,"swanky-switch-off","Off"),s=T(i,"swanky-switch-on","On");i.insertAdjacentHTML("afterbegin",pe(t.id,e,n,s)),i.addEventListener("click",ve.bind(i),u.passive),i.addEventListener("keydown",ge.bind(i),u.passive)}function ge(i){(i.key===" "||i.key==="Enter")&&this instanceof x&&Z(this)}function ve(){this instanceof x&&Z(this)}function pe(i,e,t,n){return`<swanky-switch-label id="${i}_label">${e.innerHTML}</swanky-switch-label>
<swanky-switch-status aria-hidden="true">
	<swanky-switch-status-indicator></swanky-switch-status-indicator>
</swanky-switch-status>
<swanky-switch-text aria-hidden="true">
	<swanky-switch-text-off>${t}</swanky-switch-text-off>
	<swanky-switch-text-on>${n}</swanky-switch-text-on>
</swanky-switch-text>`}function Z(i){i.disabled||i.readonly||(i.checked=!i.checked,i.dispatchEvent(new Event("change")))}var x=class extends HTMLElement{constructor(){var s;super();l(this,"internals");this.internals=(s=this.attachInternals)==null?void 0:s.call(this);let t=this.querySelector("[swanky-switch-input]"),n=this.querySelector("[swanky-switch-label]");if(typeof t=="undefined"||!(t instanceof HTMLInputElement)||t.type!=="checkbox")throw new Error("<swanky-switch> must have an <input>-element with type 'checkbox' and the attribute 'swanky-switch-input'");if(typeof n=="undefined"||!(n instanceof HTMLElement))throw new Error("<swanky-switch> must have a <label>-element with the attribute 'swanky-switch-label'");me(this,n,t)}get checked(){return this.getAttribute("aria-checked")==="true"}set checked(t){m(this,"aria-checked",t)}get disabled(){return this.getAttribute("aria-disabled")==="true"}set disabled(t){m(this,"aria-disabled",t)}get form(){var t,n;return(n=(t=this.internals)==null?void 0:t.form)!=null?n:void 0}get labels(){var t;return(t=this.internals)==null?void 0:t.labels}get name(){var t;return(t=this.getAttribute("name"))!=null?t:""}set name(t){c(this,"name",t)}get readonly(){return this.getAttribute("aria-readonly")==="true"}set readonly(t){m(this,"aria-readonly",t)}get validationMessage(){var t,n;return(n=(t=this.internals)==null?void 0:t.validationMessage)!=null?n:""}get validity(){var t;return(t=this.internals)==null?void 0:t.validity}get value(){var t;return((t=this.getAttribute("value"))!=null?t:this.checked)?"on":"off"}get willValidate(){var t,n;return(n=(t=this.internals)==null?void 0:t.willValidate)!=null?n:!0}checkValidity(){var t,n;return(n=(t=this.internals)==null?void 0:t.checkValidity())!=null?n:!0}reportValidity(){var t,n;return(n=(t=this.internals)==null?void 0:t.reportValidity())!=null?n:!0}};l(x,"formAssociated",!0);globalThis.customElements.define("swanky-switch",x);var k="toasty-tooltip",ye=`${k}-content`,we=`${k}-position`,I=new WeakMap;function Ee(i){for(let e of i){if(e.type!=="attributes")continue;let t=e.target;t.getAttribute(k)==null?L.destroy(t):L.create(t)}}var L=class{constructor(e){this.anchor=e;l(this,"callbacks",{click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)});l(this,"floater");l(this,"focusable");l(this,"timer");this.focusable=e.matches(B),this.floater=L.createFloater(e),this.handleCallbacks(!0)}static create(e){I.has(e)||I.set(e,new L(e))}static destroy(e){let t=I.get(e);typeof t!="undefined"&&(t.handleCallbacks(!1),I.delete(e))}static createFloater(e){var s;let t=(s=e.getAttribute("aria-describedby"))!=null?s:e.getAttribute("aria-labelledby"),n=t==null?null:document.getElementById(t);if(n==null)throw new Error(`A '${k}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return n.hidden=!0,c(n,ye,""),c(n,"role","tooltip"),m(n,"aria-hidden",!0),n}onClick(e){w(e.target,t=>[this.anchor,this.floater].includes(t))==null&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(e){var n,s;let t=e?"addEventListener":"removeEventListener";document[t]("click",this.callbacks.click,u.passive),document[t]("keydown",this.callbacks.keydown,u.passive),e?((n=this.timer)==null||n.stop(),this.timer=F(this,{attribute:we,value:"above"})):(this.floater.hidden=!0,(s=this.timer)==null||s.stop())}handleCallbacks(e){let{anchor:t,floater:n,focusable:s}=this,o=e?"addEventListener":"removeEventListener";for(let r of[t,n])r[o]("mouseenter",this.callbacks.show,u.passive),r[o]("mouseleave",this.callbacks.hide,u.passive),r[o]("touchstart",this.callbacks.show,u.passive);s&&(t[o]("blur",this.callbacks.hide,u.passive),t[o]("focus",this.callbacks.show,u.passive))}},ke=new MutationObserver(Ee);ke.observe(document,{attributeFilter:[k],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});g(()=>{let i=Array.from(document.querySelectorAll(`[${k}]`));for(let e of i)e.setAttribute(k,"")},0);})();
