"use strict";(()=>{var _=Object.defineProperty;var ee=(t,e,i)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var l=(t,e,i)=>(ee(t,typeof e!="symbol"?e+"":e,i),i);var I=Math.round(16.666666666666668),te=cancelAnimationFrame!=null?cancelAnimationFrame:function(t){clearTimeout==null||clearTimeout(t)},G=requestAnimationFrame!=null?requestAnimationFrame:function(t){var e;return(e=setTimeout==null?void 0:setTimeout(()=>{t(Date.now())},I))!=null?e:-1},C=class{constructor(t,e,i){l(this,"callback");l(this,"count");l(this,"frame");l(this,"running",!1);l(this,"time");let n=this instanceof O,s=n?"repeated":"waited";if(typeof t!="function")throw new Error(`A ${s} timer must have a callback function`);if(typeof e!="number"||e<0)throw new Error(`A ${s} timer must have a non-negative number as its time`);if(n&&(typeof i!="number"||i<2))throw new Error("A repeated timer must have a number above 1 as its repeat count");this.callback=t,this.count=i,this.time=e}get active(){return this.running}static run(t){t.running=!0;let e=0,i;function n(s){if(!t.running)return;i!=null||(i=s);let o=s-i,r=o-I,a=o+I;if(r<t.time&&t.time<a)if(t.running&&t.callback(t instanceof O?e:void 0),e+=1,t instanceof O&&e<t.count)i=void 0;else{t.stop();return}t.frame=G(n)}t.frame=G(n)}restart(){return this.stop(),C.run(this),this}start(){return this.running?this:(C.run(this),this)}stop(){return this.running=!1,typeof this.frame=="undefined"?this:(te(this.frame),this.frame=void 0,this)}},O=class extends C{},ie=class extends C{constructor(t,e){super(t,e,1)}};function U(t,e,i){return new O(t,e,i).start()}function g(t,e){return new ie(t,e).start()}var c={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},ne=['[contenteditable]:not([contenteditable="false"])',"[href]","[tabindex]:not(slot)","audio[controls]","button","details","details[open] > summary","embed","iframe","input","object","select","textarea","video[controls]"],B=ne.map(t=>`${t}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function z(t,e,i){Object.defineProperty(t,e,{value:i,writable:!1})}function w(t,e){let i=typeof e=="string";if(i?t.matches(e):e(t))return t;let n=t==null?void 0:t.parentElement;for(;n!=null;){if(n===document.body)return;if(i?n.matches(e):e(n))break;n=n.parentElement}return n!=null?n:void 0}function T(t,e,i){let n=t.getAttribute(e);return n==null||n.trim().length===0?i:n}function S(t){var n;let e=[],i=Array.from(t.querySelectorAll(B));for(let s of i){let o=(n=globalThis.getComputedStyle)==null?void 0:n.call(globalThis,s);(o==null||o.display!=="none"&&o.visibility!=="hidden")&&e.push(s)}return e}function K(t){return t==null?!0:t.trim().length===0}function u(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,String(i))}function m(t,e,i){t.setAttribute(e,String(typeof i=="boolean"?i:!1))}var d=class{static destroyList(e){var o;let{children:i,observer:n,open:s}=f.list;i.delete(e),s.delete(e),(o=n.get(e))==null||o.disconnect(),n.delete(e)}static getChildren(e){return Array.from(e.querySelectorAll(":scope > delicious-details > details, :scope > details"))}static initializeList(e){var o;let{children:i,observer:n,open:s}=f.list;i.set(e,d.getChildren(e)),s.set(e,[]),n.set(e,new MutationObserver(r=>{M.callback(e,r)})),(o=n.get(e))==null||o.observe(e,M.options),d.open(e,T(e,"open",""))}static onGlobalKeydown(e){if(e.key!=="Escape")return;let{containers:i}=f.details,n=w(document.activeElement,s=>{var o,r;return i.has(s)&&((r=(o=i.get(s))==null?void 0:o.open)!=null?r:!0)});n instanceof A&&d.onToggle.call(n,!1)}static onLocalKeydown(e){var b;if(e.isComposing||e.key!=="ArrowDown"&&e.key!=="ArrowUp"||!(this instanceof $))return;let{target:i}=e;if(!(i instanceof HTMLElement))return;let n=(b=f.list.children.get(this))!=null?b:[],s=i.parentElement,o=n.indexOf(s);if(o===-1)return;let r=o+(e.key==="ArrowDown"?1:-1);r<0?r=n.length-1:r>=n.length&&(r=0);let a=n[r],p=a==null?void 0:a.querySelector(":scope > summary");p==null||p.focus()}static onToggle(e){var o;if(!(this instanceof A))return;let{buttons:i,containers:n}=f.details,s=n.get(this);s!=null&&(s.open=e!=null?e:!s.open,s.open||(o=i.get(this))==null||o.focus())}static open(e,i){if(i==null){d.update(e,[]);return}if(i.length>0&&!/^[\s\d,]+$/.test(i))throw new Error("The 'selected'-attribute of a 'delicious-details-list'-element must be a comma-separated string of numbers, e.g. '', '0' or '0,1,2'");let n=i.length>0?i.split(",").filter(s=>s.trim().length>0).map(s=>Number.parseInt(s,10)):[];d.update(e,n)}static update(e,i){var b,v;if(typeof i=="undefined")return;let{children:n,observer:s,open:o}=f.list,r=i.filter((h,y,D)=>D.indexOf(h)===y).sort((h,y)=>h-y);e.multiple||(r=r.length>0&&r[0]!=null?r.length>1?[r[0]]:r:[]);let a=e.open;if(r.length===a.length&&r.every((h,y)=>a[y]===h))return;(b=s.get(e))==null||b.disconnect();let p=(v=n.get(e))!=null?v:[];for(let h of p)r.includes(p.indexOf(h))!==h.open&&(h.open=!h.open);g(()=>{o.set(e,r),u(e,"open",r.length===0?null:r),e.dispatchEvent(new Event("toggle")),g(()=>{var h;return(h=s.get(e))==null?void 0:h.observe(e,M.options)},0)},0)}},M=class{static callback(e,i){var h,y,D;if(i.length===0)return;let{children:n}=f.list,s=i[0],o=Array.from((h=s==null?void 0:s.addedNodes)!=null?h:[]),r=Array.from((y=s==null?void 0:s.removedNodes)!=null?y:[]);if(o.concat(r).some(W=>W.parentElement===e)){n.set(e,d.getChildren(e));return}if((s==null?void 0:s.type)!=="attributes"||!((s==null?void 0:s.target)instanceof HTMLDetailsElement))return;let a=s.target,b=((D=n.get(e))!=null?D:[]).indexOf(a);if(b===-1)return;let v=[];e.multiple?v=a.open?e.open.concat([b]):e.open.filter(W=>W!==b):v=a.open?[b]:[],d.update(e,v)}};l(M,"options",{attributeFilter:["open"],attributes:!0,childList:!0,subtree:!0});var f=class{};l(f,"details",{buttons:new WeakMap,containers:new WeakMap}),l(f,"list",{children:new WeakMap,observer:new WeakMap,open:new WeakMap});var A=class extends HTMLElement{get open(){var e,i;return(i=(e=f.details.containers.get(this))==null?void 0:e.open)!=null?i:!1}set open(e){d.onToggle.call(this,e)}connectedCallback(){let e=this.querySelector(":scope > details"),i=e==null?void 0:e.querySelector(":scope > summary");f.details.buttons.set(this,i),f.details.containers.set(this,e)}disconnectedCallback(){f.details.buttons.delete(this),f.details.containers.delete(this)}toggle(){d.onToggle.call(this)}},$=class extends HTMLElement{static get observedAttributes(){return["multiple","open"]}get multiple(){return this.getAttribute("multiple")!=null}set multiple(e){u(this,"multiple",e?"":null)}get open(){var e;return(e=f.list.open.get(this))!=null?e:[]}set open(e){d.update(this,e)}constructor(){super(),this.addEventListener("keydown",d.onLocalKeydown.bind(this),c.passive)}attributeChangedCallback(e,i,n){if(i!==n)switch(e){case"multiple":d.open(this,T(this,"open",""));break;case"open":d.open(this,n);break;default:break}}connectedCallback(){d.initializeList(this)}disconnectedCallback(){d.destroyList(this)}};globalThis.addEventListener("keydown",d.onGlobalKeydown,c.passive);globalThis.customElements.define("delicious-details",A);globalThis.customElements.define("delicious-details-list",$);var E="formal-focus-trap",R=new WeakMap;function se(t,e,i){var r;let n=S(e);if(i===e){g(()=>{var a;((a=n[t.shiftKey?n.length-1:0])!=null?a:e).focus()},0);return}let s=n.indexOf(i),o=e;if(s>-1){let a=s+(t.shiftKey?-1:1);a<0?a=n.length-1:a>=n.length&&(a=0),o=(r=n[a])!=null?r:e}g(()=>{o.focus()},0)}function oe(t){for(let e of t){if(e.type!=="attributes")continue;let i=e.target;i.getAttribute(E)==null?H.destroy(i):H.create(i)}}function re(t){if(t.key!=="Tab")return;let e=t.target,i=w(e,`[${E}]`);i!=null&&(t.preventDefault(),t.stopImmediatePropagation(),se(t,i,e))}var H=class{constructor(e){l(this,"tabIndex");this.tabIndex=e.tabIndex,u(e,"tabindex","-1")}static create(e){R.has(e)||R.set(e,new H(e))}static destroy(e){let i=R.get(e);i!=null&&(u(e,"tabindex",i.tabIndex),R.delete(e))}};(()=>{if(typeof globalThis._formalFocusTrap!="undefined")return;globalThis._formalFocusTrap=null,new MutationObserver(oe).observe(document,{attributeFilter:[E],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0}),g(()=>{let e=Array.from(document.querySelectorAll(`[${E}]`));for(let i of e)i.setAttribute(E,"")},0),document.addEventListener("keydown",re,c.active)})();var V=["above","above-left","above-right","below","below-left","below-right","horizontal","left","right","vertical"];function ae(t,e){let{left:i,right:n}=t.anchor,{width:s}=t.floater;switch(e){case"above":case"below":case"vertical":return i+t.anchor.width/2-s/2;case"above-left":case"below-left":return i;case"above-right":case"below-right":return n-s;case"horizontal":return n+s>globalThis.innerWidth?i-s<0?n:i-s:n;case"left":return i-s;case"right":return n;default:return 0}}function le(t,e){let{bottom:i,top:n}=t.anchor,{height:s}=t.floater;switch(e){case"above":case"above-left":case"above-right":return n-s;case"below":case"below-left":case"below-right":return i;case"horizontal":case"left":case"right":return n+t.anchor.height/2-s/2;case"vertical":return i+s>globalThis.innerHeight?n-s<0?i:n-s:i;default:return 0}}function ce(t,e){var s;if(t==null)return e;let i=t.trim().toLowerCase(),n=V.indexOf(i);return n>-1&&(s=V[n])!=null?s:e}function F(t,e){let{anchor:i,floater:n,parent:s}=t;return document.body.appendChild(n),n.hidden=!1,U(()=>{var v;if(n.hidden){i.insertAdjacentElement("afterend",n);return}let o=ce((v=(s!=null?s:i).getAttribute(e.attribute))!=null?v:"",e.value);n.setAttribute("position",o);let r={anchor:i.getBoundingClientRect(),floater:n.getBoundingClientRect()},a=le(r,o),b=`matrix(1, 0, 0, 1, ${ae(r,o)}, ${a})`;n.style.position="fixed",n.style.inset="0 auto auto 0",n.style.transform=b},0,1/0)}var Q=new WeakMap,X=new WeakMap,ue=0;function J(t,e){var i,n,s;de(t,e),e&&t.content?((n=(i=S(t.content))==null?void 0:i[0])!=null?n:t.content).focus():(s=t.button)==null||s.focus()}function de(t,e){let i=Q.get(t),n=X.get(t);if(i==null||n==null)return;let s=e?"addEventListener":"removeEventListener";document[s]("click",i,c.passive),document[s]("keydown",n,c.passive)}function Y(t,e,i){let{button:n,content:s}=e;if(n==null||s==null)return;let o=w(i,"[polite-popover-content]");if(o==null){j(e,!1);return}t.stopPropagation();let r=Array.from(document.body.children);r.indexOf(o)-r.indexOf(s)<(t instanceof KeyboardEvent?1:0)&&j(e,!1)}function j(t,e){var n,s;let i=typeof e=="boolean"?!e:t.open;m(t.button,"aria-expanded",!i),i?(t.content.hidden=!0,(n=t.timer)==null||n.stop(),J(t,!1)):((s=t.timer)==null||s.stop(),t.timer=F({anchor:t.button,floater:t.content,parent:t},{attribute:"position",value:"below-left"}),g(()=>{J(t,!0)},50)),t.dispatchEvent(new Event("toggle"))}function fe(t,e,i){i.hidden=!0,K(t.id)&&u(t,"id",`polite_popover_${++ue}`),K(e.id)&&u(e,"id",`${t.id}_button`),K(i.id)&&u(i,"id",`${t.id}_content`),u(e,"aria-controls",i.id),m(e,"aria-expanded",!1),u(e,"aria-haspopup","dialog"),e instanceof HTMLButtonElement||u(e,"tabindex","0"),u(i,E,""),u(i,"role","dialog"),u(i,"aria-modal","false"),Q.set(t,he.bind(t)),X.set(t,be.bind(t)),e.addEventListener("click",N.bind(t),c.passive)}function he(t){this instanceof x&&this.open&&Y(t,this,t.target)}function be(t){this instanceof x&&this.open&&t instanceof KeyboardEvent&&t.key==="Escape"&&Y(t,this,document.activeElement)}function N(t){this instanceof x&&j(this,t)}var x=class extends HTMLElement{constructor(){super();l(this,"button");l(this,"content");l(this,"timer");let i=this.querySelector(":scope > [polite-popover-button]"),n=this.querySelector(":scope > [polite-popover-content]");if(i==null||!(i instanceof HTMLButtonElement||i instanceof HTMLElement&&i.getAttribute("role")==="button"))throw new Error("<polite-popover> must have a <button>-element (or button-like element) with the attribute 'polite-popover-button'");if(n==null||!(n instanceof HTMLElement))throw new Error("<polite-popover> must have an element with the attribute 'polite-popover-content'");z(this,"button",i),z(this,"content",n),fe(this,i,n)}get open(){var i;return((i=this.button)==null?void 0:i.getAttribute("aria-expanded"))==="true"}set open(i){N.call(this,i)}toggle(){this.button&&this.content&&N.call(this)}};globalThis.customElements.define("polite-popover",x);function me(t,e,i){var o,r,a;(o=e.parentElement)==null||o.removeChild(e),(r=i.parentElement)==null||r.removeChild(i),m(t,"aria-checked",i.checked||t.checked),m(t,"aria-disabled",i.disabled||t.disabled),m(t,"aria-readonly",i.readOnly||t.readOnly),t.setAttribute("aria-labelledby",`${i.id}_label`),t.setAttribute("id",i.id),t.setAttribute("name",(a=i.name)!=null?a:i.id),t.setAttribute("role","switch"),t.setAttribute("tabindex","0"),t.setAttribute("value",i.value);let n=T(t,"swanky-switch-off","Off"),s=T(t,"swanky-switch-on","On");t.insertAdjacentHTML("afterbegin",pe(i.id,e,n,s)),t.addEventListener("click",ve.bind(t),c.passive),t.addEventListener("keydown",ge.bind(t),c.passive)}function ge(t){(t.key===" "||t.key==="Enter")&&this instanceof P&&Z(this)}function ve(){this instanceof P&&Z(this)}function pe(t,e,i,n){return`<swanky-switch-label id="${t}_label">${e.innerHTML}</swanky-switch-label>
<swanky-switch-status aria-hidden="true">
	<swanky-switch-status-indicator></swanky-switch-status-indicator>
</swanky-switch-status>
<swanky-switch-text aria-hidden="true">
	<swanky-switch-text-off>${i}</swanky-switch-text-off>
	<swanky-switch-text-on>${n}</swanky-switch-text-on>
</swanky-switch-text>`}function Z(t){t.disabled||t.readOnly||(t.checked=!t.checked,t.dispatchEvent(new Event("change")))}var P=class extends HTMLElement{get checked(){return this.getAttribute("aria-checked")==="true"}set checked(e){m(this,"aria-checked",e)}get disabled(){return this.getAttribute("aria-disabled")==="true"}set disabled(e){m(this,"aria-disabled",e)}get readOnly(){return this.getAttribute("aria-readonly")==="true"}set readOnly(e){m(this,"aria-readonly",e)}get value(){return this.checked?"on":"off"}constructor(){super();let e=this.querySelector("[swanky-switch-input]"),i=this.querySelector("[swanky-switch-label]");if(typeof e=="undefined"||!(e instanceof HTMLInputElement)||e.type!=="checkbox")throw new Error("<swanky-switch> must have an <input>-element with type 'checkbox' and the attribute 'swanky-switch-input'");if(typeof i=="undefined"||!(i instanceof HTMLElement))throw new Error("<swanky-switch> must have a <label>-element with the attribute 'swanky-switch-label'");me(this,i,e)}};globalThis.customElements.define("swanky-switch",P);var k="toasty-tooltip",ye=`${k}-content`,we=`${k}-position`,q=new WeakMap;function Ee(t){for(let e of t){if(e.type!=="attributes")continue;let i=e.target;i.getAttribute(k)==null?L.destroy(i):L.create(i)}}var L=class{constructor(e){this.anchor=e;l(this,"callbacks",{click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)});l(this,"floater");l(this,"focusable");l(this,"timer");this.focusable=e.matches(B),this.floater=L.createFloater(e),this.handleCallbacks(!0)}static create(e){q.has(e)||q.set(e,new L(e))}static destroy(e){let i=q.get(e);typeof i!="undefined"&&(i.handleCallbacks(!1),q.delete(e))}static createFloater(e){var s;let i=(s=e.getAttribute("aria-describedby"))!=null?s:e.getAttribute("aria-labelledby"),n=i==null?null:document.getElementById(i);if(n==null)throw new Error(`A '${k}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return n.hidden=!0,u(n,ye,""),u(n,"role","tooltip"),m(n,"aria-hidden",!0),n}onClick(e){w(e.target,i=>[this.anchor,this.floater].includes(i))==null&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(e){var n,s;let i=e?"addEventListener":"removeEventListener";document[i]("click",this.callbacks.click,c.passive),document[i]("keydown",this.callbacks.keydown,c.passive),e?((n=this.timer)==null||n.stop(),this.timer=F(this,{attribute:we,value:"above"})):(this.floater.hidden=!0,(s=this.timer)==null||s.stop())}handleCallbacks(e){let{anchor:i,floater:n,focusable:s}=this,o=e?"addEventListener":"removeEventListener";for(let r of[i,n])r[o]("mouseenter",this.callbacks.show,c.passive),r[o]("mouseleave",this.callbacks.hide,c.passive),r[o]("touchstart",this.callbacks.show,c.passive);s&&(i[o]("blur",this.callbacks.hide,c.passive),i[o]("focus",this.callbacks.show,c.passive))}},ke=new MutationObserver(Ee);ke.observe(document,{attributeFilter:[k],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});g(()=>{let t=Array.from(document.querySelectorAll(`[${k}]`));for(let e of t)e.setAttribute(k,"")},125);})();
