(()=>{function I(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};let t=e.touches[0]?.clientX,n=e.touches[0]?.clientY;return t===void 0||n===void 0?void 0:{x:t,y:n}}function a(e,t){return{capture:t??!1,passive:e??!0}}var De=new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"]),E=new WeakMap;function Ce(e,t){if(document.activeElement?.getAttribute("palmer-disclosure-button")===void 0||!De.has(t.key))return;let n=E.get(e);if((n?.elements?.length??0)===0)return;let i=n.elements.indexOf(document.activeElement.parentElement);if(i===-1)return;t.preventDefault();let r=-1;switch(t.key){case"ArrowDown":case"ArrowRight":{r=i+1;break}case"ArrowLeft":case"ArrowUp":{r=i-1;break}case"End":{r=n.elements.length-1;break}case"Home":{r=0;break}default:return}r<0?r=n.elements.length-1:r>=n.elements.length&&(r=0),r!==i&&n.elements[r]?.button.focus()}function Ne(e,t){t.open&&!e.multiple&&R(e,t)}function ie(e){let t=E.get(e);if(t!==void 0){t.elements=[...e.querySelectorAll(":scope > palmer-disclosure")];for(let n of t.elements)n.addEventListener("toggle",()=>Ne(e,n))}}function R(e,t){let n=E.get(e);if(n!==void 0)for(let i of n.elements)i!==t&&i.open&&(i.open=!1)}var O=class extends HTMLElement{get multiple(){return this.getAttribute("multiple")!=="false"}set multiple(t){this.setAttribute("multiple",t)}constructor(){super();let t={elements:[],observer:new MutationObserver(n=>ie(this))};E.set(this,t),ie(this),this.addEventListener("keydown",n=>Ce(this,n),a(!1)),this.multiple||R(this,t.elements.find(n=>n.open))}attributeChangedCallback(t){t==="multiple"&&!this.multiple&&R(this,E.get(this)?.elements.find(n=>n.open))}connectedCallback(){E.get(this)?.observer.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){E.get(this)?.observer.disconnect()}};O.observedAttributes=["max","min","value"];customElements.define("palmer-accordion",O);var m=(()=>{let e=!1;try{if("matchMedia"in window){let t=matchMedia("(pointer: coarse)");typeof t?.matches=="boolean"&&(e=t.matches)}e||(e="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints??0)>0)}catch{e=!1}return e})(),f={begin:m?"touchstart":"mousedown",end:m?"touchend":"mouseup",move:m?"touchmove":"mousemove"};var We=["linear-gradient(to bottom","hsl(0 0% 100%) 0%","hsl(0 0% 100% / 0) 50%","hsl(0 0% 0% / 0) 50%","hsl(0 0% 0%) 100%)","linear-gradient(to right","hsl(0 0% 50%) 0%","hsl(0 0% 50% / 0) 100%)"],F=new WeakMap,c="palmer-colour-picker";function qe(e,t){e.hidden=!1,t.type="range",t.max=360,t.min=0}function Ke(e,t){e.hidden=!1,e.style.backgroundColor="hsl(var(--hue-value) 100% 50%)",e.style.backgroundImage=We,e.style.position="relative",t.tabIndex=0,t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.transform="translate3d(-50%, -50%, 0)"}function oe(e,t){let n=ue(e);return Ue(n)?(n.length===3&&(n=n.split("").map(i=>`${i}${i}`).join("")),n):t}function ae(e){let t=oe(e);if(t===void 0)return;let n=t.match(/^([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i),i=[];for(let r=0;r<3;r+=1)i.push(Number.parseInt(n[r+1],16));return{red:i[0],green:i[1],blue:i[2]}}function le(e){function t(s){let o=(s+n/30)%12,l=i*Math.min(r,1-r);return r-l*Math.max(-1,Math.min(o-3,9-o,1))}let{hue:n,saturation:i,lightness:r}=e;return n%=360,n<0&&(n+=360),i/=100,r/=100,{red:Math.round(t(0)*255),green:Math.round(t(8)*255),blue:Math.round(t(4)*255)}}function ue(e){return e?.replace(/^(#|\s)|\s$/g,"")??""}function Re(e){e.key==="Escape"&&(e.stopPropagation(),be(this,!0))}function Fe(){be(this,!1)}function re(e){m&&e.preventDefault();let{height:t,left:n,top:i,width:r}=this.well.getBoundingClientRect(),{x:s,y:o}=I(e),l=100-Math.round((o-i)/t*100),u=Math.round((s-n)/r*100);fe(this,u,l)}function Ve(){this.hsl.hue=Number.parseInt(this.hue.value,10),L(this)}function Pe(e){if(e.key!=="Enter")return;e.preventDefault();let t=ae(this.input.value);if(t===void 0)return;let n=ce(t);this.hsl.hue=n.hue,this.hsl.saturation=n.saturation,this.hsl.lightness=n.lightness,L(this)}function Be(e){if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key))return;e.preventDefault();let{lightness:t,saturation:n}=this.hsl;switch(e.key){case"ArrowDown":{t-=1;break}case"ArrowLeft":{n-=1;break}case"ArrowRight":{n+=1;break}case"ArrowUp":{t+=1;break}default:return}fe(this,n,t)}function se(e){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.button>0)return;e.stopPropagation(),re.call(this,e);let t={callbacks:{onKeydown:Re.bind(this),onPointerEnd:Fe.bind(this),onPointerMove:re.bind(this)},hsl:{hue:this.hsl.hue,saturation:this.hsl.saturation,lightness:this.hsl.lightness}};he(t.callbacks,!0),F.set(this,t)}function de(e){return`#${(e.blue|e.green<<8|e.red<<16|1<<24).toString(16).slice(1)}`}function ce(e){let{red:t,green:n,blue:i}=e;t/=255,n/=255,i/=255;let r=Math.min(t,n,i),s=Math.max(t,n,i),o=s-r,l=s-o/2,u=0,A=0;switch(o){case t:{u=(n-i)/o%6;break}case n:{u=(i-t)/o+2;break}case i:{u=(t-n)/o+2;break}default:break}return A=s===0||l===0||l===0?0:(s-l)/Math.min(l,1-l),u*=60,u<0&&(u+=360),{hue:Math.round(u),saturation:Math.round(A*100),lightness:Math.round(l*100)}}function he(e,t){let n=t?"addEventListener":"removeEventListener";document[n]("keydown",e.onKeydown,a(!0,!0)),document[n](f.end,e.onPointerEnd,a()),document[n](f.move,e.onPointerMove,a(!m)),ze(t)}function ze(e){document.body.style.userSelect=e?"none":null,document.body.style.webkitUserSelect=e?"none":null}function fe(e,t,n){e.hsl.saturation=t<0?0:t>100?100:t,e.hsl.lightness=n<0?0:n>100?100:n,L(e)}function be(e,t){let n=F.get(e);n!==void 0&&(he(n.callbacks,!1),t&&(e.hsl.hue=n.hsl.hue,e.hsl.lightness=n.hsl.lightness,e.hsl.saturation=n.hsl.saturation,L(e)),F.delete(e),e.handle.focus())}function Ue(e){return/^([\da-f]{3}){1,2}$/i.test(ue(e))}function L(e){e.hue.value=e.hsl.hue,je(e),Ye(e),e.input.value=de(le(e.hsl)),e.input.dispatchEvent(new Event("change"))}function je(e){let{hue:t,lightness:n,saturation:i}=e.hsl;for(let r of[e,e.hue,e.well])r.style.setProperty("--hue-handle",`${t/360*100}%`),r.style.setProperty("--hue-value",t),r.style.setProperty("--value",`hsl(${t} ${i}% ${n}%)`)}function Ye(e){let{handle:t,hsl:n}=e;t.style.top=`${100-n.lightness}%`,t.style.left=`${n.saturation}%`}var V=class extends HTMLElement{get value(){let t=le(this.hsl);return{rgb:t,hex:de(t),hsl:this.hsl}}constructor(){super();let t=this.querySelector(`[${c}-hue]`),n=t?.querySelector(`[${c}-hue-input]`);if(!(t instanceof HTMLElement))throw new TypeError(`<${c}> needs an element with the attribute '${c}-hue' to hold the hue input`);if(!(n instanceof HTMLInputElement))throw new TypeError(`<${c}> needs an <input>-element with the attribute '${c}-hue-input'`);let i=this.querySelector(`[${c}-input]`);if(!(i instanceof HTMLInputElement)||!/^(color|text)$/i.test(i.type))throw new TypeError(`<${c}> needs an <input>-element with the attribute '${c}-input'`);let r=this.querySelector(`[${c}-well]`),s=r?.querySelector(`[${c}-well-handle]`);if([r,s].some(u=>!(u instanceof HTMLElement)))throw new TypeError(`<${c}> needs two elements for the colour well: one wrapping element with the attribute '${c}-well', and one within it with the attribute '${c}-well-handle'`);this.handle=s,this.hue=n,this.input=i,this.well=r,i.pattern="#?([\\da-fA-F]{3}){1,2}",i.type="text";let o=oe(i.getAttribute("value")??this.getAttribute("value"),"000000"),l=ae(o);this.hsl=ce(l),qe(t,n),Ke(r,s),this.input.addEventListener("keydown",Pe.bind(this),a(!1)),this.handle.addEventListener("keydown",Be.bind(this),a(!1)),this.handle.addEventListener(f.begin,se.bind(this),a()),r.addEventListener(f.begin,se.bind(this),a()),this.hue.addEventListener("input",Ve.bind(this),a()),L(this)}};customElements.define(c,V);function $(e,t){let n=typeof t=="string";if(n?e.matches(t):t(e))return e;let i=e?.parentElement;for(;i!==null;){if(i===document.body)return;if(n?i.matches(t):t(i))break;i=i.parentElement}return i??void 0}function P(e){return typeof e=="number"?e:Number.parseInt(typeof e=="string"?e:String(e),10)}function me(e){return getComputedStyle?.(e)?.direction==="rtl"?"rtl":"ltr"}function d(e){return(e??"").trim().length===0}var k="palmer-disclosure",Xe=0;function H(e,t){e.button.ariaExpanded=t,e.content.hidden=!t,e.dispatchEvent(new CustomEvent("toggle",{detail:t})),e.button.focus()}var B=class extends HTMLElement{get open(){return/^true$/i.test(this.button.ariaExpanded)}set open(t){typeof t=="boolean"&&t!==this.open&&H(this,t)}constructor(){super();let t=this.querySelector(`[${k}-button]`),n=this.querySelector(`[${k}-content]`);if(!(t instanceof HTMLButtonElement))throw new TypeError(`<${k}> needs a <button>-element with the attribute '${k}-button'`);if(!(n instanceof HTMLElement))throw new TypeError(`<${k}> needs an element with the attribute '${k}-content'`);this.button=t,this.content=n;let{open:i}=this;t.hidden=!1,n.hidden=!i;let{id:r}=n;d(r)&&(r=`palmer_disclosure_${++Xe}`),t.ariaExpanded=i,n.id=r,t.setAttribute("aria-controls",r),t.addEventListener("click",s=>H(this,!this.open),a())}hide(){this.open&&H(this,!1)}show(){this.open||H(this,!0)}toggle(){H(this,!this.open)}};customElements.define(k,B);var z=Math.round(16.666666666666668),pe=requestAnimationFrame??function(e){return setTimeout?.(()=>{e(Date.now())},z)};function ge(e){e.state.active=!0,e.state.finished=!1;let t=e instanceof _,n=0,i;function r(s){if(!e.state.active)return;i??(i=s);let o=s-i,l=o-z,u=o+z;if(l<e.configuration.time&&e.configuration.time<u)if(e.state.active&&e.callbacks.default(t?n:void 0),n+=1,t&&n<e.configuration.count)i=void 0;else{e.state.finished=!0,e.stop();return}e.state.frame=pe(r)}e.state.frame=pe(r)}var ye=class{get active(){return this.state.active}get finished(){return!this.active&&this.state.finished}constructor(e,t,n,i){let r=this instanceof _,s=r?"repeated":"waited";if(typeof e!="function")throw new TypeError(`A ${s} timer must have a callback function`);if(typeof t!="number"||t<0)throw new TypeError(`A ${s} timer must have a non-negative number as its time`);if(r&&(typeof n!="number"||n<2))throw new TypeError("A repeated timer must have a number above 1 as its repeat count");if(r&&i!==void 0&&typeof i!="function")throw new TypeError("A repeated timer's after-callback must be a function");this.configuration={count:n,time:t},this.callbacks={after:i,default:e},this.state={active:!1,finished:!1,frame:null}}restart(){return this.stop(),ge(this),this}start(){return this.state.active||ge(this),this}stop(){return this.state.active=!1,this.state.frame===void 0?this:((cancelAnimationFrame??clearTimeout)?.(this.state.frame),this.callbacks.after?.(this.finished),this.state.frame=void 0,this)}},_=class extends ye{},Ge=class extends ye{constructor(e,t){super(e,t,1,null)}};function y(e,t){return new Ge(e,t).start()}var Je=[et,rt,ke,it,st],Qe=['[contenteditable]:not([contenteditable="false"])',"[tabindex]:not(slot)","a[href]","audio[controls]","button","details","details > summary:first-of-type","iframe","input","select","textarea","video[controls]"].map(e=>`${e}:not([inert])`).join(",");function T(e){let t=Array.from(e.querySelectorAll(Qe)).map(i=>({element:i,tabIndex:we(i)})).filter(i=>Ee(i)),n=[];for(let i of t)n[i.tabIndex]===void 0?n[i.tabIndex]=[i.element]:n[i.tabIndex].push(i.element);return n.flat()}function we(e){return e.tabIndex>-1?e.tabIndex:/^(audio|details|video)$/i.test(e.tagName)||nt(e)?Ze(e)?-1:0:-1}function Ze(e){return!Number.isNaN(Number.parseInt(e.getAttribute("tabindex"),10))}function et(e){return/^(button|input|select|textarea)$/i.test(e.element.tagName)&&tt(e.element)?!0:(e.element.disabled??!1)||e.element.ariaDisabled==="true"}function tt(e){let t=e.parentElement;for(;t!==null;){if(/^fieldset$/i.test(t.tagName)&&t.disabled){let n=Array.from(t.children);for(let i of n)if(/^legend$/i.test(i.tagName))return t.matches("fieldset[disabled] *")?!0:!i.contains(e);return!0}t=t.parentElement}return!1}function nt(e){return/^(|true)$/i.test(e.getAttribute("contenteditable"))}function ve(e){return Ee({element:e,tabIndex:we(e)})}function Ee(e){return!Je.some(t=>t(e))}function it(e){if(e.element.hidden||e.element instanceof HTMLInputElement&&e.element.type==="hidden")return!0;let t=getComputedStyle(e.element);if(t.display==="none"||t.visibility==="hidden")return!0;let{height:n,width:i}=e.element.getBoundingClientRect();return n===0&&i===0}function ke(e){return(e.element.inert??!1)||/^(|true)$/i.test(e.element.getAttribute("inert"))||e.element.parentElement!==null&&ke({element:e.element.parentElement})}function rt(e){return e.tabIndex<0}function st(e){return/^details$/i.test(e.element.tagName)&&Array.from(e.element.children).some(t=>/^summary$/i.test(t.tagName))}var p="palmer-focus-trap",D=new WeakMap;function ot(e){D.has(e)||D.set(e,new U(e))}function at(e){let t=D.get(e);t!==void 0&&(e.tabIndex=t.tabIndex,D.delete(e))}function lt(e,t,n){let i=T(t);if(n===t){y(()=>{(i[e.shiftKey?i.length-1:0]??t).focus()},0);return}let r=i.indexOf(n),s=t;if(r>-1){let o=r+(e.shiftKey?-1:1);o<0?o=i.length-1:o>=i.length&&(o=0),s=i[o]??t}y(()=>{s.focus()},0)}function ut(e){for(let t of e)t.type==="attributes"&&(t.target.getAttribute(p)===void 0?at(t.target):ot(t.target))}function dt(e){if(e.key!=="Tab")return;let t=$(e.target,`[${p}]`);t!==void 0&&(e.preventDefault(),e.stopImmediatePropagation(),lt(e,t,e.target))}var U=class{constructor(t){this.tabIndex=t.tabIndex,t.tabIndex=-1}},ct=new MutationObserver(ut);ct.observe(document,{attributeFilter:[p],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});y(()=>{let e=Array.from(document.querySelectorAll(`[${p}]`));for(let t of e)t.setAttribute(p,"")},0);document.addEventListener("keydown",dt,a(!1));var h="palmer-modal",G=`${h}-open`,j=new WeakMap,xe=new WeakMap;function Ae(e){e.hidden=!0,xe.get(e)?.append(e),j.get(e)?.focus(),j.delete(e),e.dispatchEvent(new Event("close"))}function $e(e){e.addEventListener("click",ft,a())}function Y(){Ae(this)}function ht(e){e.key==="Escape"&&Y.call(this)}function ft(){let e=document.querySelector(`#${this.getAttribute(G)}`);e!==void 0&&(j.set(e,this),Te(e))}function Te(e){e.hidden=!1,document.body.append(e),(T(e)[0]??e).focus(),e.dispatchEvent(new Event("open"))}var X=class extends HTMLElement{get open(){return this.parentElement===document.body&&!this.hidden}set open(t){typeof t!="boolean"||this.open===t||(t?Te(this):Ae(this))}constructor(){super(),this.hidden=!0;let{id:t}=this;if(t===void 0||t.trim().length===0)throw new TypeError(`<${h}> must have an ID`);if(d(this.getAttribute("aria-label"))&&d(this.getAttribute("aria-labelledby")))throw new TypeError(`<${h}> should be labelled by either the 'aria-label' or 'aria-labelledby'-attribute`);let n=this.querySelector(`[${h}-close]`);if(!(n instanceof HTMLButtonElement))throw new TypeError(`<${h}> must have a <button>-element with the attribute '${h}-close'`);if(!(this.querySelector(`:scope > [${h}-content]`)instanceof HTMLElement))throw new TypeError(`<${h}> must have an element with the attribuet '${h}-content'`);let i=this.querySelector(`:scope > [${h}-overlay]`);if(!(i instanceof HTMLElement))throw new TypeError(`<${h}> must have an element with the attribuet '${h}-overlay'`);xe.set(this,this.parentElement),this.role="dialog",this.setAttribute("aria-modal",!0),this.setAttribute(p,""),this.addEventListener("keydown",ht.bind(this),a()),n.addEventListener("click",Y.bind(this),a()),i.addEventListener("click",Y.bind(this),a())}hide(){this.open=!1}show(){this.open=!0}};customElements.define(h,X);var bt=new MutationObserver(e=>{for(let t of e)t.type==="attributes"&&t.target instanceof HTMLButtonElement&&$e(t.target)});bt.observe(document,{attributeFilter:[G],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});setTimeout(()=>{let e=Array.from(document.querySelectorAll(`[${G}]`));for(let t of e)$e(t)},0);var Me=["above","above-left","above-right","below","below-left","below-right","horizontal","horizontal-bottom","horizontal-top","left","left-bottom","left-top","right","right-bottom","right-top","vertical","vertical-left","vertical-right"],mt=["bottom","height","left","right","top","width"];function pt(e,t,n,i){let r=Le(!0,e,t,n);return{top:Le(!1,e,t,i),left:r}}function gt(e){let t=e.end+e.offset,n=e.start-e.offset;return e.preferMin?n>=0||t>e.max?n:e.end:e.max<=t||n<0?e.end:n}function yt(e,t,n,i){let{anchor:r,floater:s}=n;if((e?["above","below","vertical"]:["horizontal","left","right"]).includes(t)){let o=(e?r.width:r.height)/2,l=(e?s.width:s.height)/2;return(e?r.left:r.top)+o-l}if(e?t.startsWith("horizontal"):t.startsWith("vertical"))return gt({preferMin:i,end:e?r.right:r.bottom,max:e?innerWidth:innerHeight,offset:e?s.width:s.height,start:e?r.left:r.top})}function wt(e,t){if(e===null)return t;let n=e.trim().toLowerCase(),i=Me.indexOf(n);return i>-1?Me[i]??t:t}function Le(e,t,n,i){let{anchor:r,floater:s}=n;return(e?t.startsWith("right"):t.endsWith("top"))?e?r.right:r.top:(e?t.startsWith("left"):t.endsWith("bottom"))?(e?r.left:r.bottom)-(e?s.width:s.height):(e?t.endsWith("right"):t.startsWith("above"))?(e?r.right:r.top)-(e?s.width:s.height):yt(e,t,n,i)??e?r.left:r.bottom}function C(e){let{anchor:t,floater:n,parent:i}=e.elements,r=me(n)==="rtl",s,o;function l(){t.after(n)}function u(){let A=wt((i??t).getAttribute(e.position.attribute)??"",e.position.defaultValue),K=t.getBoundingClientRect();if(s===A&&mt.every(ne=>o?.[ne]===K[ne]))return;s=A,o=K;let _e={anchor:K,floater:n.getBoundingClientRect()},ee=pt(A,_e,r,e.position.preferAbove),te=`matrix(1, 0, 0, 1, ${ee.left}, ${ee.top})`;n.style.transform!==te&&(n.style.position="fixed",n.style.inset="0 auto auto 0",n.style.transform=te)}return document.body.append(n),n.hidden=!1,new _(u,0,Number.POSITIVE_INFINITY,l).start()}var g="palmer-popover",Se=new WeakMap,vt=0;function He(e,t){Et(e,t),t&&e.content?(T(e.content)?.[0]??e.content).focus():e.button?.focus()}function Et(e,t){let n=Se.get(e);if(n===void 0)return;let i=t?"addEventListener":"removeEventListener";document[i](f.begin,n.pointer,a()),document[i]("keydown",n.keydown,a())}function Ie(e,t,n){let{button:i,content:r}=t;if(i===void 0||r===void 0)return;let s=$(n,`[${g}-content]`);if(s===void 0){M(t,!1);return}e.stopPropagation();let o=Array.from(document.body.children);o.indexOf(s)-o.indexOf(r)<(e instanceof KeyboardEvent?1:0)&&M(t,!1)}function M(e,t){let n=typeof t=="boolean"?!t:e.open;e.button.ariaExpanded=!n,n?(e.content.hidden=!0,e.timer?.stop(),He(e,!1)):(e.timer?.stop(),e.timer=C({elements:{anchor:e.button,floater:e.content,parent:e},position:{attribute:"position",defaultValue:"vertical",preferAbove:!1}}),y(()=>{He(e,!0)},50)),e.dispatchEvent(new CustomEvent("toggle",{detail:e.open}))}function kt(e){(!(e instanceof KeyboardEvent)||[" ","Enter"].includes(e.key))&&M(this,!1)}function xt(e){this.open&&e instanceof KeyboardEvent&&e.key==="Escape"&&Ie(e,this,document.activeElement)}function At(e){this.open&&Ie(e,this,e.target)}function $t(){M(this)}function Tt(e){e.button.addEventListener("click",$t.bind(e),a());let t=Array.from(e.querySelectorAll(`[${g}-close]`));for(let n of t)n.addEventListener("click",kt.bind(e),a())}var J=class extends HTMLElement{get open(){return/^true$/i.test(this.button.ariaExpanded)}set open(t){typeof t=="boolean"&&t!==this.open&&M(this,open)}constructor(){super();let t=this.querySelector(`[${g}-button]`),n=this.querySelector(`[${g}-content]`);if(!(t instanceof HTMLButtonElement))throw new TypeError(`<${g}> must have a <button>-element with the attribute '${g}-button`);if(!(n instanceof HTMLElement))throw new TypeError(`<${g}> must have an element with the attribute '${g}-content'`);this.button=t,this.content=n,this.timer=void 0,n.hidden=!0,d(this.id)&&(this.id=`palmer_popover_${++vt}`),d(t.id)&&(t.id=`${this.id}_button`),d(n.id)&&(n.id=`${this.id}_content`),t.ariaExpanded=!1,t.ariaHasPopup="dialog",t.setAttribute("aria-controls",n.id),n.role="dialog",n.ariaModal=!1,n.setAttribute(p,""),Se.set(this,{keydown:xt.bind(this),pointer:At.bind(this)}),Tt(this)}hide(){this.open=!1}show(){this.open=!0}toggle(){M(this)}};customElements.define(g,J);var b="palmer-splitter",Mt=new Set(["horizontal","vertical"]),w=new WeakMap,Lt=0;function Ht(e){e.key==="Escape"&&Q(this,!1)}function St(e){Q(e,!0)}function It(){Q(this,!1)}function Ot(e){m&&e.preventDefault();let t=I(e);if(t===void 0)return;let n=this.getBoundingClientRect(),i=this.type==="horizontal"?(t.y-n.top)/n.height:(t.x-n.left)/n.width;S(this,{separator:this.separator,value:i*100})}function _t(e,t){if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Escape","Home"].includes(t.key)||(e.type==="horizontal"?["ArrowLeft","ArrowRight"]:["ArrowDown","ArrowUp"]).includes(t.key))return;let{values:i}=w.get(e);if(i===void 0)return;let r;switch(t.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{r=Math.round(e.value+(["ArrowLeft","ArrowUp"].includes(t.key)?-1:1));break}case"End":case"Home":{r=t.key==="End"?i.maximum:i.minimum;break}case"Escape":{r=i.initial??i.original,i.initial=void 0;break}default:break}S(e,{value:r,values:i,separator:e.separator})}function Dt(e,t){let{key:n,separator:i,setFlex:r}=t,s=t.values??w.get(e)?.values,o=P(t.value);s===void 0||Number.isNaN(o)||o===s[n]||n==="maximum"&&o<s.minimum||n==="minimum"&&o>s.maximum||(n==="maximum"&&o>100?o=100:n==="minimum"&&o<0&&(o=0),s[t.key]=o,i.setAttribute(n==="maximum"?"aria-valuemax":"aria-valuemin",o),r&&(n==="maximum"&&o<s.current||n==="minimum"&&o>s.current)&&S(e,{separator:i,value:o,values:s}))}function Q(e,t){let n=w.get(e);if(n===void 0)return;t&&(n.values.initial=Number(n.values.current));let i=t?"addEventListener":"removeEventListener";document[i]("keydown",n.callbacks.keydown,a()),document[i](f.end,n.callbacks.pointerEnd,a()),document[i](f.move,n.callbacks.pointerMove,a(!m)),n.dragging=t,document.body.style.userSelect=t?"none":null,document.body.style.webkitUserSelect=t?"none":null}function S(e,t){let{separator:n}=t,i=t.values??w.get(e)?.values,r=P(t.value);i===void 0||Number.isNaN(r)||r===i.current||(r<i.minimum?r=i.minimum:r>i.maximum&&(r=i.maximum),(t.setOriginal??!1)&&(i.original=r),n.ariaValueNow=r,e.primary.style.flex=`${r/100}`,e.secondary.style.flex=`${(100-r)/100}`,i.current=r,e.dispatchEvent(new CustomEvent("change",{detail:r})))}function Ct(e){let{handle:t}=e;t.ariaHidden="true",t.hidden=!1,t.addEventListener(f.begin,()=>St(e),a())}function Nt(e){let{separator:t}=e;t.hidden=!1,t.role="separator",t.tabIndex=0,t.ariaValueMax=100,t.ariaValueMin=0,t.ariaValueNow=50,t.setAttribute("aria-controls",e.primary.id),d(e.getAttribute("value"))&&S(e,{separator:t,value:50}),t.addEventListener("keydown",n=>_t(e,n),a())}var N=class extends HTMLElement{get max(){return w.get(this)?.values.maximum}set max(t){this.setAttribute("max",t)}get min(){return w.get(this)?.values.minimum}set min(t){this.setAttribute("min",t)}get type(){let t=this.getAttribute("type")??"vertical";return Mt.has(t)?t:"vertical"}set type(t){this.setAttribute("type",t)}get value(){return w.get(this)?.values.current}set value(t){this.setAttribute("value",t)}constructor(){super();let t=Array.from(this.querySelectorAll(`:scope > [${b}-panel]`));if(t.length!==2||t.some(u=>!(u instanceof HTMLElement)))throw new TypeError(`<${b}> must have two direct child elements with the attribute '${b}-panel'`);let n=this.querySelector(`:scope > [${b}-separator]`),i=n?.querySelector(`:scope > [${b}-separator-handle]`);if([n,i].some(u=>!(u instanceof HTMLElement)))throw new TypeError(`<${b}> must have a separator element with the attribute '${b}-separator', and it must have a child element with the attribute '${b}-separator-handle'`);let r=t[0],s=t[1],o=Array.from(this.children);if(!(o.indexOf(r)<o.indexOf(n)&&o.indexOf(n)<o.indexOf(s)))throw new TypeError(`<${b}> must have elements with the order of: panel, separator, panel`);let l={callbacks:{keydown:Ht.bind(this),pointerEnd:It.bind(this),pointerMove:Ot.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};w.set(this,l),this.primary=r,this.secondary=s,this.handle=i,this.separator=n,d(r.id)&&(r.id=`palmer_splitter_primary_panel_${++Lt}`),Nt(this),Ct(this)}attributeChangedCallback(t,n,i){switch(t){case"max":case"min":{Dt(this,{key:t==="max"?"maximum":"minimum",separator:this.separator,setFlex:!0,value:i});break}case"value":{S(this,{separator:this.separator,setOriginal:!0,value:i});break}default:break}}};N.observedAttributes=["max","min","value"];customElements.define(b,N);var v="palmer-switch";function Wt(e,t,n){t.remove(),n.remove(),e.ariaChecked=n.checked||e.checked,e.ariaDisabled=n.disabled||e.disabled,e.ariaReadOnly=n.readOnly||e.readonly,e.setAttribute("aria-labelledby",`${n.id}_label`),e.setAttribute("value",n.value),e.id=n.id,e.name=n.name??n.id,e.role="switch",e.tabIndex=0;let i=e.getAttribute("classNames"),r=e.getAttribute("off"),s=e.getAttribute("on");d(i)&&(i=v),d(r)&&(r="Off"),d(s)&&(s="On"),e.insertAdjacentHTML("afterbegin",Rt(e.id,i,{off:r,on:s,label:t.innerHTML})),e.addEventListener("click",Kt.bind(e),a()),e.addEventListener("keydown",qt.bind(e),a(!1))}function qt(e){[" ","Enter"].includes(e.key)&&(e.preventDefault(),Oe(this))}function Kt(){Oe(this)}function Rt(e,t,n){return`<span class="${t}__label" id="${e}_label" aria-hidden="true">${n.label}</span><div class="${t}__status" aria-hidden="true"><span class="${t}__status__indicator"></span></div><div class="${t}__text" aria-hidden="true"><span class="${t}__text__off">${n.off}</span><span class="${t}__text__on">${n.on}</span></div>`}function Oe(e){e.disabled||e.readonly||(e.checked=!e.checked,e.dispatchEvent(new Event("change")))}var W=class extends HTMLElement{get checked(){return this.getAttribute("aria-checked")==="true"}set checked(t){this.setAttribute("aria-checked",t)}get disabled(){return this.getAttribute("aria-disabled")==="true"}set disabled(t){this.setAttribute("aria-disabled",t)}get form(){return this.internals?.form}get labels(){return this.internals?.labels}get name(){return this.getAttribute("name")??""}set name(t){this.setAttribute("name",t)}get readonly(){return this.getAttribute("aria-readonly")==="true"}set readonly(t){this.setAttribute("aria-readonly",t)}get validationMessage(){return this.internals?.validationMessage??""}get validity(){return this.internals?.validity}get value(){return this.getAttribute("value")??(this.checked?"on":"off")}get willValidate(){return this.internals?.willValidate??!0}constructor(){super(),this.internals=this.attachInternals?.();let t=this.querySelector(`[${v}-input]`),n=this.querySelector(`[${v}-label]`);if(!(t instanceof HTMLInputElement)||t.type!=="checkbox")throw new TypeError(`<${v}> must have an <input>-element with type 'checkbox' and the attribute '${v}-input'`);if(!(n instanceof HTMLElement))throw new TypeError(`<${v}> must have an element with the attribute '${v}-label'`);Wt(this,n,t)}checkValidity(){return this.internals?.checkValidity()??!0}reportValidity(){return this.internals?.reportValidity()??!0}};W.formAssociated=!0;customElements.define(v,W);var x="palmer-tooltip",Ft=`${x}-position`,q=new WeakMap;function Vt(e){let t=e.getAttribute("aria-describedby")??e.getAttribute("aria-labelledby"),n=t===null?null:document.querySelector(`#${t}`);if(n===null)throw new TypeError(`A '${x}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return n.setAttribute(`${x}-content`,""),n.ariaHidden="true",n.hidden=!0,n.role="tooltip",n}function Pt(e){q.has(e)||q.set(e,new Z(e))}function Bt(e){let t=q.get(e);t!==void 0&&(t.handleCallbacks(!1),q.delete(e))}function zt(e){for(let t of e)t.type==="attributes"&&(t.target.getAttribute(x)===null?Bt(t.target):Pt(t.target))}var Z=class{constructor(t){this.anchor=t,this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)},this.focusable=ve(t),this.floater=Vt(t),this.timer=void 0,this.handleCallbacks(!0)}onClick(t){$(t.target,n=>[this.anchor,this.floater].includes(n))===void 0&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(t){t instanceof KeyboardEvent&&t.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(t){let n=t?"addEventListener":"removeEventListener";document[n]("click",this.callbacks.click,a()),document[n]("keydown",this.callbacks.keydown,a()),t?(this.timer?.stop(),this.timer=C({elements:{anchor:this.anchor,floater:this.floater},position:{attribute:Ft,defaultValue:"vertical",preferAbove:!0}})):(this.floater.hidden=!0,this.timer?.stop())}handleCallbacks(t){let{anchor:n,floater:i,focusable:r}=this,s=t?"addEventListener":"removeEventListener";for(let o of[n,i])o[s]("mouseenter",this.callbacks.show,a()),o[s]("mouseleave",this.callbacks.hide,a()),o[s]("touchstart",this.callbacks.show,a());r&&(n[s]("blur",this.callbacks.hide,a()),n[s]("focus",this.callbacks.show,a()))}},Ut=new MutationObserver(zt);Ut.observe(document,{attributeFilter:[x],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});y(()=>{let e=Array.from(document.querySelectorAll(`[${x}]`));for(let t of e)t.setAttribute(x,"")},0);})();
