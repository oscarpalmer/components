(()=>{function M(t){if(t instanceof MouseEvent)return{x:t.clientX,y:t.clientY};let e=t.touches[0]?.clientX,i=t.touches[0]?.clientY;return e===void 0||i===void 0?void 0:{x:e,y:i}}function o(t,e){return{capture:e??!1,passive:t??!0}}var Mt=new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"]),y=new WeakMap;function Lt(t,e){if(document.activeElement?.tagName!=="SUMMARY"||!Mt.has(e.key))return;let i=y.get(t);if((i?.elements?.length??0)===0)return;let n=i.elements.indexOf(document.activeElement.parentElement);if(n===-1)return;e.preventDefault();let r=-1;switch(e.key){case"ArrowDown":case"ArrowRight":{r=n+1;break}case"ArrowLeft":case"ArrowUp":{r=n-1;break}case"End":{r=i.elements.length-1;break}case"Home":{r=0;break}default:return}if(r<0?r=i.elements.length-1:r>=i.elements.length&&(r=0),r===n)return;i.elements[r]?.querySelector(":scope > summary")?.focus?.()}function Tt(t,e){e.open&&!t.multiple&&D(t,e)}function Z(t){let e=y.get(t);if(e!==void 0){e.elements=[...t.querySelectorAll(":scope > details")];for(let i of e.elements)i.addEventListener("toggle",()=>Tt(t,i))}}function D(t,e){let i=y.get(t);if(i!==void 0)for(let n of i.elements)n!==e&&n.open&&(n.open=!1)}var L=class extends HTMLElement{get multiple(){return this.getAttribute("multiple")!=="false"}set multiple(e){typeof e=="boolean"&&this.setAttribute("multiple",e)}constructor(){super();let e={elements:[],observer:new MutationObserver(i=>Z(this))};y.set(this,e),Z(this),this.addEventListener("keydown",i=>Lt(this,i),o(!1)),this.multiple||D(this,e.elements.find(i=>i.open))}attributeChangedCallback(e){e==="multiple"&&!this.multiple&&D(this,y.get(this)?.elements.find(i=>i.open))}connectedCallback(){y.get(this)?.observer.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){y.get(this)?.observer.disconnect()}};L.observedAttributes=["max","min","value"];customElements.define("palmer-accordion",L);var m=(()=>{let t=!1;try{if("matchMedia"in window){let e=matchMedia("(pointer: coarse)");typeof e?.matches=="boolean"&&(t=e.matches)}t||(t="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints??0)>0)}catch{t=!1}return t})(),h={begin:m?"touchstart":"mousedown",end:m?"touchend":"mouseup",move:m?"touchmove":"mousemove"};var It=["linear-gradient(to bottom","hsl(0 0% 100%) 0%","hsl(0 0% 100% / 0) 50%","hsl(0 0% 0% / 0) 50%","hsl(0 0% 0%) 100%)","linear-gradient(to right","hsl(0 0% 50%) 0%","hsl(0 0% 50% / 0) 100%)"],K=new WeakMap,d="palmer-colour-picker";function Ht(t,e){t.hidden=!1,e.type="range",e.max=360,e.min=0}function _t(t,e){t.hidden=!1,t.style.backgroundColor="hsl(var(--hue-value) 100% 50%)",t.style.backgroundImage=It,t.style.position="relative",e.tabIndex=0,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.transform="translate3d(-50%, -50%, 0)"}function it(t,e){let i=st(t);return Rt(i)?(i.length===3&&(i=i.split("").map(n=>`${n}${n}`).join("")),i):e}function nt(t){let e=it(t);if(e===void 0)return;let i=e.match(/^([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i),n=[];for(let r=0;r<3;r+=1)n.push(Number.parseInt(i[r+1],16));return{red:n[0],green:n[1],blue:n[2]}}function rt(t){function e(s){let a=(s+i/30)%12,l=n*Math.min(r,1-r);return r-l*Math.max(-1,Math.min(a-3,9-a,1))}let{hue:i,saturation:n,lightness:r}=t;return i%=360,i<0&&(i+=360),n/=100,r/=100,{red:Math.round(e(0)*255),green:Math.round(e(8)*255),blue:Math.round(e(4)*255)}}function st(t){return t?.replace(/^(#|\s)|\s$/g,"")??""}function St(t){t.key==="Escape"&&(t.stopPropagation(),dt(this,!0))}function Nt(){dt(this,!1)}function tt(t){m&&t.preventDefault();let{height:e,left:i,top:n,width:r}=this.well.getBoundingClientRect(),{x:s,y:a}=M(t),l=100-Math.round((a-n)/e*100),u=Math.round((s-i)/r*100);ut(this,u,l)}function Ot(){this.hsl.hue=Number.parseInt(this.hue.value,10),x(this)}function Ct(t){if(t.key!=="Enter")return;t.preventDefault();let e=nt(this.input.value);if(e===void 0)return;let i=ot(e);this.hsl.hue=i.hue,this.hsl.saturation=i.saturation,this.hsl.lightness=i.lightness,x(this)}function Dt(t){if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(t.key))return;t.preventDefault();let{lightness:e,saturation:i}=this.hsl;switch(t.key){case"ArrowDown":{e-=1;break}case"ArrowLeft":{i-=1;break}case"ArrowRight":{i+=1;break}case"ArrowUp":{e+=1;break}default:return}ut(this,i,e)}function et(t){if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||t.button>0)return;t.stopPropagation(),tt.call(this,t);let e={callbacks:{onKeydown:St.bind(this),onPointerEnd:Nt.bind(this),onPointerMove:tt.bind(this)},hsl:{hue:this.hsl.hue,saturation:this.hsl.saturation,lightness:this.hsl.lightness}};lt(e.callbacks,!0),K.set(this,e)}function at(t){return`#${(t.blue|t.green<<8|t.red<<16|1<<24).toString(16).slice(1)}`}function ot(t){let{red:e,green:i,blue:n}=t;e/=255,i/=255,n/=255;let r=Math.min(e,i,n),s=Math.max(e,i,n),a=s-r,l=s-a/2,u=0,k=0;switch(a){case e:{u=(i-n)/a%6;break}case i:{u=(n-e)/a+2;break}case n:{u=(e-i)/a+2;break}default:break}return k=s===0||l===0||l===0?0:(s-l)/Math.min(l,1-l),u*=60,u<0&&(u+=360),{hue:Math.round(u),saturation:Math.round(k*100),lightness:Math.round(l*100)}}function lt(t,e){let i=e?"addEventListener":"removeEventListener";document[i]("keydown",t.onKeydown,o(!0,!0)),document[i](h.end,t.onPointerEnd,o()),document[i](h.move,t.onPointerMove,o(!m)),Kt(e)}function Kt(t){document.body.style.userSelect=t?"none":null,document.body.style.webkitUserSelect=t?"none":null}function ut(t,e,i){t.hsl.saturation=e<0?0:e>100?100:e,t.hsl.lightness=i<0?0:i>100?100:i,x(t)}function dt(t,e){let i=K.get(t);i!==void 0&&(lt(i.callbacks,!1),e&&(t.hsl.hue=i.hsl.hue,t.hsl.lightness=i.hsl.lightness,t.hsl.saturation=i.hsl.saturation,x(t)),K.delete(t),t.handle.focus())}function Rt(t){return/^([\da-f]{3}){1,2}$/i.test(st(t))}function x(t){t.hue.value=t.hsl.hue,Wt(t),Ft(t),t.input.value=at(rt(t.hsl)),t.input.dispatchEvent(new Event("change"))}function Wt(t){let{hue:e,lightness:i,saturation:n}=t.hsl;for(let r of[t,t.hue,t.well])r.style.setProperty("--hue-handle",`${e/360*100}%`),r.style.setProperty("--hue-value",e),r.style.setProperty("--value",`hsl(${e} ${n}% ${i}%)`)}function Ft(t){let{handle:e,hsl:i}=t;e.style.top=`${100-i.lightness}%`,e.style.left=`${i.saturation}%`}var R=class extends HTMLElement{get value(){let e=rt(this.hsl);return{rgb:e,hex:at(e),hsl:this.hsl}}constructor(){super();let e=this.querySelector(`[${d}-hue]`),i=e?.querySelector(`[${d}-hue-input]`);if(!(e instanceof HTMLElement))throw new TypeError(`<${d}> needs an element with the attribute '${d}-hue' to hold the hue input`);if(!(i instanceof HTMLInputElement))throw new TypeError(`<${d}> needs an <input>-element with the attribute '${d}-hue-input'`);let n=this.querySelector(`[${d}-input]`);if(!(n instanceof HTMLInputElement)||!/^(color|text)$/i.test(n.type))throw new TypeError(`<${d}> needs an <input>-element with the attribute '${d}-input'`);let r=this.querySelector(`[${d}-well]`),s=r?.querySelector(`[${d}-well-handle]`);if([r,s].some(u=>!(u instanceof HTMLElement)))throw new TypeError(`<${d}> needs two elements for the colour well: one wrapping element with the attribute '${d}-well', and one within it with the attribute '${d}-well-handle'`);this.handle=s,this.hue=i,this.input=n,this.well=r,n.pattern="#?([\\da-fA-F]{3}){1,2}",n.type="text";let a=it(n.getAttribute("value")??this.getAttribute("value"),"000000"),l=nt(a);this.hsl=ot(l),Ht(e,i),_t(r,s),this.input.addEventListener("keydown",Ct.bind(this),o(!1)),this.handle.addEventListener("keydown",Dt.bind(this),o(!1)),this.handle.addEventListener(h.begin,et.bind(this),o()),r.addEventListener(h.begin,et.bind(this),o()),this.hue.addEventListener("input",Ot.bind(this),o()),x(this)}};customElements.define(d,R);var W=Math.round(16.666666666666668),ct=requestAnimationFrame??function(t){return setTimeout?.(()=>{t(Date.now())},W)};function ht(t){t.state.active=!0,t.state.finished=!1;let e=t instanceof T,i=0,n;function r(s){if(!t.state.active)return;n??(n=s);let a=s-n,l=a-W,u=a+W;if(l<t.configuration.time&&t.configuration.time<u)if(t.state.active&&t.callbacks.default(e?i:void 0),i+=1,e&&i<t.configuration.count)n=void 0;else{t.state.finished=!0,t.stop();return}t.state.frame=ct(r)}t.state.frame=ct(r)}var ft=class{get active(){return this.state.active}get finished(){return!this.active&&this.state.finished}constructor(t,e,i,n){let r=this instanceof T,s=r?"repeated":"waited";if(typeof t!="function")throw new TypeError(`A ${s} timer must have a callback function`);if(typeof e!="number"||e<0)throw new TypeError(`A ${s} timer must have a non-negative number as its time`);if(r&&(typeof i!="number"||i<2))throw new TypeError("A repeated timer must have a number above 1 as its repeat count");if(r&&n!==void 0&&typeof n!="function")throw new TypeError("A repeated timer's after-callback must be a function");this.configuration={count:i,time:e},this.callbacks={after:n,default:t},this.state={active:!1,finished:!1,frame:null}}restart(){return this.stop(),ht(this),this}start(){return this.state.active||ht(this),this}stop(){return this.state.active=!1,this.state.frame===void 0?this:((cancelAnimationFrame??clearTimeout)?.(this.state.frame),this.callbacks.after?.(this.finished),this.state.frame=void 0,this)}},T=class extends ft{},Pt=class extends ft{constructor(t,e){super(t,e,1,null)}};function f(t,e){return new Pt(t,e).start()}var E="palmer-details",F=new WeakMap;function qt(t){F.has(t)||F.set(t,new P(t))}function Vt(t){F.delete(t)}function Ut(t){for(let e of t)if(e.type==="attributes"){if(!(e.target instanceof HTMLDetailsElement))throw new TypeError(`An element with the '${E}'-attribute must be a <details>-element`);e.target.getAttribute(E)===null?Vt(e.target):qt(e.target)}}var P=class{constructor(e){this.details=e,this.summary=e.querySelector(":scope > summary")??void 0,this.callbacks={onKeydown:this.onKeydown.bind(this),onToggle:this.onToggle.bind(this)},this.details.addEventListener("toggle",this.callbacks.onToggle,o())}onKeydown(e){e.key!=="Escape"||!this.details.open||(e.stopPropagation(),[...this.details.querySelectorAll(`[${E}][open]`)].some(n=>n.contains(document.activeElement))||!this.details.contains(document.activeElement))||(this.details.open=!1,f(()=>this.summary?.focus(),0))}onToggle(){document[this.details.open?"addEventListener":"removeEventListener"]?.("keydown",this.callbacks.onKeydown,o())}},zt=new MutationObserver(Ut);zt.observe(document,{attributeFilter:[E],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});f(()=>{let t=Array.from(document.querySelectorAll(`[${E}]`));for(let e of t)e.setAttribute(E,"")},0);function A(t,e){let i=typeof e=="string";if(i?t.matches(e):e(t))return t;let n=t?.parentElement;for(;n!==null;){if(n===document.body)return;if(i?n.matches(e):e(n))break;n=n.parentElement}return n??void 0}function q(t){return typeof t=="number"?t:Number.parseInt(typeof t=="string"?t:String(t),10)}function mt(t){return getComputedStyle?.(t)?.direction==="rtl"?"rtl":"ltr"}function c(t){return(t??"").trim().length===0}var Bt=[Xt,Zt,yt,Qt,te],jt=['[contenteditable]:not([contenteditable="false"])',"[tabindex]:not(slot)","a[href]","audio[controls]","button","details","details > summary:first-of-type","iframe","input","select","textarea","video[controls]"].map(t=>`${t}:not([inert])`).join(",");function I(t){let e=Array.from(t.querySelectorAll(jt)).map(n=>({element:n,tabIndex:bt(n)})).filter(n=>pt(n)),i=[];for(let n of e)i[n.tabIndex]===void 0?i[n.tabIndex]=[n.element]:i[n.tabIndex].push(n.element);return i.flat()}function bt(t){return t.tabIndex>-1?t.tabIndex:/^(audio|details|video)$/i.test(t.tagName)||Jt(t)?Yt(t)?-1:0:-1}function Yt(t){return!Number.isNaN(Number.parseInt(t.getAttribute("tabindex"),10))}function Xt(t){return/^(button|input|select|textarea)$/i.test(t.element.tagName)&&Gt(t.element)?!0:(t.element.disabled??!1)||t.element.ariaDisabled==="true"}function Gt(t){let e=t.parentElement;for(;e!==null;){if(/^fieldset$/i.test(e.tagName)&&e.disabled){let i=Array.from(e.children);for(let n of i)if(/^legend$/i.test(n.tagName))return e.matches("fieldset[disabled] *")?!0:!n.contains(t);return!0}e=e.parentElement}return!1}function Jt(t){return/^(|true)$/i.test(t.getAttribute("contenteditable"))}function gt(t){return pt({element:t,tabIndex:bt(t)})}function pt(t){return!Bt.some(e=>e(t))}function Qt(t){if(t.element.hidden||t.element instanceof HTMLInputElement&&t.element.type==="hidden")return!0;let e=getComputedStyle(t.element);if(e.display==="none"||e.visibility==="hidden")return!0;let{height:i,width:n}=t.element.getBoundingClientRect();return i===0&&n===0}function yt(t){return(t.element.inert??!1)||/^(|true)$/i.test(t.element.getAttribute("inert"))||t.element.parentElement!==null&&yt({element:t.element.parentElement})}function Zt(t){return t.tabIndex<0}function te(t){return/^details$/i.test(t.element.tagName)&&Array.from(t.element.children).some(e=>/^summary$/i.test(e.tagName))}var w="palmer-focus-trap",H=new WeakMap;function ee(t){H.has(t)||H.set(t,new V(t))}function ie(t){let e=H.get(t);e!==void 0&&(t.tabIndex=e.tabIndex,H.delete(t))}function ne(t,e,i){let n=I(e);if(i===e){f(()=>{(n[t.shiftKey?n.length-1:0]??e).focus()},0);return}let r=n.indexOf(i),s=e;if(r>-1){let a=r+(t.shiftKey?-1:1);a<0?a=n.length-1:a>=n.length&&(a=0),s=n[a]??e}f(()=>{s.focus()},0)}function re(t){for(let e of t)e.type==="attributes"&&(e.target.getAttribute(w)===void 0?ie(e.target):ee(e.target))}function se(t){if(t.key!=="Tab")return;let e=A(t.target,`[${w}]`);e!==void 0&&(t.preventDefault(),t.stopImmediatePropagation(),ne(t,e,t.target))}var V=class{constructor(e){this.tabIndex=e.tabIndex,e.tabIndex=-1}},ae=new MutationObserver(re);ae.observe(document,{attributeFilter:[w],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});f(()=>{let t=Array.from(document.querySelectorAll(`[${w}]`));for(let e of t)e.setAttribute(w,"")},0);document.addEventListener("keydown",se,o(!1));var wt=["above","above-left","above-right","below","below-left","below-right","horizontal","horizontal-bottom","horizontal-top","left","left-bottom","left-top","right","right-bottom","right-top","vertical","vertical-left","vertical-right"],oe=["bottom","height","left","right","top","width"];function le(t,e,i,n){let r=vt(!0,t,e,i);return{top:vt(!1,t,e,n),left:r}}function ue(t){let e=t.end+t.offset,i=t.start-t.offset;return t.preferMin?i<0?e>t.max?i:t.end:i:e>t.max?i<0?t.end:i:t.end}function de(t,e){if(t===null)return e;let i=t.trim().toLowerCase(),n=wt.indexOf(i);return n>-1?wt[n]??e:e}function vt(t,e,i,n){let{anchor:r,floater:s}=i;return(t?e.startsWith("right"):e.endsWith("top"))?t?r.right:r.top:(t?e.startsWith("left"):e.endsWith("bottom"))?(t?r.left:r.bottom)-(t?s.width:s.height):(t?e.endsWith("right"):e.startsWith("above"))?(t?r.right:r.top)-(t?s.width:s.height):(t?["above","below","vertical"]:["horizontal","left","right"]).includes(e)?(t?r.left:r.top)+(t?r.width:r.height)/2-(t?s.width:s.height)/2:(t?e.startsWith("horizontal"):e.startsWith("vertical"))?ue({preferMin:n,end:t?r.right:r.bottom,max:t?innerWidth:innerHeight,offset:t?s.width:s.height,start:t?r.left:r.top}):t?r.left:r.bottom}function _(t){let{anchor:e,floater:i,parent:n}=t.elements,r=mt(i)==="rtl",s,a;function l(){e.after(i)}function u(){let k=de((n??e).getAttribute(t.position.attribute)??"",t.position.defaultValue),C=e.getBoundingClientRect();if(s===k&&oe.every(Q=>a?.[Q]===C[Q]))return;s=k,a=C;let $t={anchor:C,floater:i.getBoundingClientRect()},G=le(k,$t,r,t.position.preferAbove),J=`matrix(1, 0, 0, 1, ${G.left}, ${G.top})`;i.style.transform!==J&&(i.style.position="fixed",i.style.inset="0 auto auto 0",i.style.transform=J)}return document.body.append(i),i.hidden=!1,new T(u,0,Number.POSITIVE_INFINITY,l).start()}var g="palmer-popover",Et=new WeakMap,ce=0;function kt(t,e){he(t,e),e&&t.content?(I(t.content)?.[0]??t.content).focus():t.button?.focus()}function he(t,e){let i=Et.get(t);if(i===void 0)return;let n=e?"addEventListener":"removeEventListener";document[n](h.begin,i.pointer,o()),document[n]("keydown",i.keydown,o())}function At(t,e,i){let{button:n,content:r}=e;if(n===void 0||r===void 0)return;let s=A(i,`[${g}-content]`);if(s===void 0){U(e,!1);return}t.stopPropagation();let a=Array.from(document.body.children);a.indexOf(s)-a.indexOf(r)<(t instanceof KeyboardEvent?1:0)&&U(e,!1)}function U(t,e){let i=typeof e=="boolean"?!e:t.open;t.button.setAttribute("aria-expanded",!i),i?(t.content.hidden=!0,t.timer?.stop(),kt(t,!1)):(t.timer?.stop(),t.timer=_({elements:{anchor:t.button,floater:t.content,parent:t},position:{attribute:"position",defaultValue:"vertical",preferAbove:!1}}),f(()=>{kt(t,!0)},50)),t.dispatchEvent(new Event("toggle"))}function fe(t,e,i){i.hidden=!0,c(t.id)&&(t.id=`palmer_popover_${++ce}`),c(e.id)&&(e.id=`${t.id}_button`),c(i.id)&&(i.id=`${t.id}_content`),e.setAttribute("aria-controls",i.id),e.ariaExpanded="false",e.ariaHasPopup="dialog",e instanceof HTMLButtonElement||(e.tabIndex=0),i.setAttribute(w,""),i.role="dialog",i.ariaModal="false",Et.set(t,{keydown:be.bind(t),pointer:ge.bind(t)}),e.addEventListener("click",z.bind(t),o())}function me(t){return t===null?!1:t instanceof HTMLButtonElement?!0:t instanceof HTMLElement&&t.getAttribute("role")==="button"}function be(t){this.open&&t instanceof KeyboardEvent&&t.key==="Escape"&&At(t,this,document.activeElement)}function ge(t){this.open&&At(t,this,t.target)}function z(t){U(this,t)}var B=class extends HTMLElement{get open(){return this.button?.getAttribute("aria-expanded")==="true"}set open(e){z.call(this,e)}constructor(){super();let e=this.querySelector(`:scope > [${g}-button]`),i=this.querySelector(`:scope > [${g}-content]`);if(!me(e))throw new Error(`<${g}> must have a <button>-element (or button-like element) with the attribute '${g}-button`);if(i===null||!(i instanceof HTMLElement))throw new Error(`<${g}> must have an element with the attribute '${g}-content'`);this.button=e,this.content=i,this.timer=void 0,fe(this,e,i)}toggle(){this.button&&this.content&&z.call(this)}};customElements.define(g,B);var j="palmer-splitter",pe=new Set(["horizontal","vertical"]),b=new WeakMap,ye=0;function we(t,e){let i=document.createElement("span");return i.className=`${e}__separator__handle`,i.ariaHidden="true",i.textContent=t.type==="horizontal"?"\u2195":"\u2194",i.addEventListener(h.begin,()=>Ee(t)),i}function ve(t,e,i){if((e??b.get(t)?.values)===void 0)return;let r=document.createElement("div");c(t.primary.id)&&(t.primary.id=`palmer_splitter_primary_panel_${++ye}`),r.className=`${i}__separator`,r.role="separator",r.tabIndex=0,r.setAttribute("aria-controls",t.primary.id),r.setAttribute("aria-valuemax","100"),r.setAttribute("aria-valuemin","0"),r.setAttribute("aria-valuenow","50");let s=t.getAttribute("value");return c(s)&&$(t,{separator:r,value:50}),r.append(t.handle),r.addEventListener("keydown",a=>$e(t,a),o()),r}function ke(t){t.key==="Escape"&&Y(this,!1)}function Ee(t){Y(t,!0)}function Ae(){Y(this,!1)}function xe(t){m&&t.preventDefault();let e=M(t);if(e===void 0)return;let i=this.getBoundingClientRect(),n=this.type==="horizontal"?(e.y-i.top)/i.height:(e.x-i.left)/i.width;$(this,{separator:this.separator,value:n*100})}function $e(t,e){if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Escape","Home"].includes(e.key)||(t.type==="horizontal"?["ArrowLeft","ArrowRight"]:["ArrowDown","ArrowUp"]).includes(e.key))return;let{values:n}=b.get(t);if(n===void 0)return;let r;switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{r=Math.round(t.value+(["ArrowLeft","ArrowUp"].includes(e.key)?-1:1));break}case"End":case"Home":{r=e.key==="End"?n.maximum:n.minimum;break}case"Escape":{r=n.initial??n.original,n.initial=void 0;break}default:break}$(t,{value:r,values:n,separator:t.separator})}function Me(t,e){let{key:i,separator:n,setFlex:r}=e,s=e.values??b.get(t)?.values,a=q(e.value);s===void 0||Number.isNaN(a)||a===s[i]||i==="maximum"&&a<s.minimum||i==="minimum"&&a>s.maximum||(i==="maximum"&&a>100?a=100:i==="minimum"&&a<0&&(a=0),s[e.key]=a,n.setAttribute(i==="maximum"?"aria-valuemax":"aria-valuemin",a),r&&(i==="maximum"&&a<s.current||i==="minimum"&&a>s.current)&&$(t,{separator:n,value:a,values:s}))}function Y(t,e){let i=b.get(t);if(i===void 0)return;e&&(i.values.initial=Number(i.values.current));let n=e?"addEventListener":"removeEventListener";document[n]("keydown",i.callbacks.keydown,o()),document[n](h.end,i.callbacks.pointerEnd,o()),document[n](h.move,i.callbacks.pointerMove,o(!m)),i.dragging=e,document.body.style.userSelect=e?"none":null,document.body.style.webkitUserSelect=e?"none":null}function $(t,e){let{separator:i}=e,n=e.values??b.get(t)?.values,r=q(e.value);n===void 0||Number.isNaN(r)||r===n.current||(r<n.minimum?r=n.minimum:r>n.maximum&&(r=n.maximum),(e.setOriginal??!1)&&(n.original=r),i.ariaValueNow=r,t.primary.style.flex=`${r/100}`,t.secondary.style.flex=`${(100-r)/100}`,n.current=r,t.dispatchEvent(new CustomEvent("change",{detail:{value:r}})))}var S=class extends HTMLElement{get max(){return b.get(this)?.values.maximum}set max(e){this.setAttribute("max",e)}get min(){return b.get(this)?.values.minimum}set min(e){this.setAttribute("min",e)}get type(){let e=this.getAttribute("type")??"vertical";return pe.has(e)?e:"vertical"}set type(e){this.setAttribute("type",e)}get value(){return b.get(this)?.values.current}set value(e){this.setAttribute("value",e)}constructor(){if(super(),this.children.length!==2)throw new Error(`A <${j}> must have exactly two direct children`);let e={callbacks:{keydown:ke.bind(this),pointerEnd:Ae.bind(this),pointerMove:xe.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};b.set(this,e),this.primary=this.children[0],this.secondary=this.children[1];let i=this.getAttribute("className");c(i)&&(i=j);let n=`${i}__panel`;this.primary.classList.add(n),this.secondary.classList.add(n),this.handle=we(this,i),this.separator=ve(this,e.values,i),this.primary?.insertAdjacentElement("afterend",this.separator)}attributeChangedCallback(e,i,n){switch(e){case"max":case"min":{Me(this,{key:e==="max"?"maximum":"minimum",separator:this.separator,setFlex:!0,value:n});break}case"value":{$(this,{separator:this.separator,setOriginal:!0,value:n});break}default:break}}};S.observedAttributes=["max","min","value"];customElements.define(j,S);var p="palmer-switch";function Le(t,e,i){e.parentElement?.removeChild(e),i.parentElement?.removeChild(i),t.setAttribute("aria-checked",i.checked||t.checked),t.setAttribute("aria-disabled",i.disabled||t.disabled),t.setAttribute("aria-labelledby",`${i.id}_label`),t.setAttribute("aria-readonly",i.readOnly||t.readonly),t.setAttribute("value",i.value),t.id=i.id,t.name=i.name??i.id,t.role="switch",t.tabIndex=0;let n=t.getAttribute("classNames"),r=t.getAttribute("off"),s=t.getAttribute("on");c(n)&&(n=p),c(r)&&(r="Off"),c(s)&&(s="On"),t.insertAdjacentHTML("afterbegin",He(t.id,n,{off:r,on:s,label:e.innerHTML})),t.addEventListener("click",Ie.bind(t),o()),t.addEventListener("keydown",Te.bind(t),o(!1))}function Te(t){[" ","Enter"].includes(t.key)&&(t.preventDefault(),xt(this))}function Ie(){xt(this)}function He(t,e,i){return`<span class="${e}__label" id="${t}_label" aria-hidden="true">${i.label}</span><div class="${e}__status" aria-hidden="true"><span class="${e}__status__indicator"></span></div><div class="${e}__text" aria-hidden="true"><span class="${e}__text__off">${i.off}</span><span class="${e}__text__on">${i.on}</span></div>`}function xt(t){t.disabled||t.readonly||(t.checked=!t.checked,t.dispatchEvent(new Event("change")))}var N=class extends HTMLElement{get checked(){return this.getAttribute("aria-checked")==="true"}set checked(e){this.setAttribute("aria-checked",e)}get disabled(){return this.getAttribute("aria-disabled")==="true"}set disabled(e){this.setAttribute("aria-disabled",e)}get form(){return this.internals?.form}get labels(){return this.internals?.labels}get name(){return this.getAttribute("name")??""}set name(e){this.setAttribute("name",e)}get readonly(){return this.getAttribute("aria-readonly")==="true"}set readonly(e){this.setAttribute("aria-readonly",e)}get validationMessage(){return this.internals?.validationMessage??""}get validity(){return this.internals?.validity}get value(){return this.getAttribute("value")??(this.checked?"on":"off")}get willValidate(){return this.internals?.willValidate??!0}constructor(){super(),this.internals=this.attachInternals?.();let e=this.querySelector(`[${p}-input]`),i=this.querySelector(`[${p}-label]`);if(!(e instanceof HTMLInputElement)||e.type!=="checkbox")throw new TypeError(`<${p}> must have an <input>-element with type 'checkbox' and the attribute '${p}-input'`);if(!(i instanceof HTMLElement))throw new TypeError(`<${p}> must have an element with the attribute '${p}-label'`);Le(this,i,e)}checkValidity(){return this.internals?.checkValidity()??!0}reportValidity(){return this.internals?.reportValidity()??!0}};N.formAssociated=!0;customElements.define(p,N);var v="palmer-tooltip",_e=`${v}-position`,O=new WeakMap;function Se(t){let e=t.getAttribute("aria-describedby")??t.getAttribute("aria-labelledby"),i=e===null?null:document.querySelector(`#${e}`);if(i===null)throw new TypeError(`A '${v}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return i.setAttribute(`${v}-content`,""),i.ariaHidden="true",i.hidden=!0,i.role="tooltip",i}function Ne(t){O.has(t)||O.set(t,new X(t))}function Oe(t){let e=O.get(t);e!==void 0&&(e.handleCallbacks(!1),O.delete(t))}function Ce(t){for(let e of t)e.type==="attributes"&&(e.target.getAttribute(v)===null?Oe(e.target):Ne(e.target))}var X=class{constructor(e){this.anchor=e,this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)},this.focusable=gt(e),this.floater=Se(e),this.timer=void 0,this.handleCallbacks(!0)}onClick(e){A(e.target,i=>[this.anchor,this.floater].includes(i))===void 0&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(e){let i=e?"addEventListener":"removeEventListener";document[i]("click",this.callbacks.click,o()),document[i]("keydown",this.callbacks.keydown,o()),e?(this.timer?.stop(),this.timer=_({elements:{anchor:this.anchor,floater:this.floater},position:{attribute:_e,defaultValue:"vertical",preferAbove:!0}})):(this.floater.hidden=!0,this.timer?.stop())}handleCallbacks(e){let{anchor:i,floater:n,focusable:r}=this,s=e?"addEventListener":"removeEventListener";for(let a of[i,n])a[s]("mouseenter",this.callbacks.show,o()),a[s]("mouseleave",this.callbacks.hide,o()),a[s]("touchstart",this.callbacks.show,o());r&&(i[s]("blur",this.callbacks.hide,o()),i[s]("focus",this.callbacks.show,o()))}},De=new MutationObserver(Ce);De.observe(document,{attributeFilter:[v],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});f(()=>{let t=Array.from(document.querySelectorAll(`[${v}]`));for(let e of t)e.setAttribute(v,"")},0);})();
