"use strict";(()=>{var J=Object.defineProperty;var Q=(o,e,t)=>e in o?J(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var p=(o,e,t)=>(Q(o,typeof e!="symbol"?e+"":e,t),t);var c={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},X=['[contenteditable]:not([contenteditable="false"])',"[href]","[tabindex]:not(slot)","audio[controls]","button","details","details[open] > summary","input","select","textarea","video[controls]"],j=X.map(o=>`${o}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function v(o){var e,t,i;return(i=(e=globalThis.requestAnimationFrame)==null?void 0:e.call(globalThis,o))!=null?i:(t=globalThis.setTimeout)==null?void 0:t.call(globalThis,()=>{o(Date.now())},16)}function L(o,e){let t=typeof e=="string";if(t?o.matches(e):e(o))return o;let i=o==null?void 0:o.parentElement;for(;i!=null;){if(i===document.body)return;if(t?i.matches(e):e(i))break;i=i.parentElement}return i!=null?i:void 0}function x(o,e,t){let i=o.getAttribute(e);return i==null||i.trim().length===0?t:i}function z(o){var i;let e=[],t=Array.from(o.querySelectorAll(j));for(let s of t){let n=(i=globalThis.getComputedStyle)==null?void 0:i.call(globalThis,s);(n==null||n.display!=="none"&&n.visibility!=="hidden")&&e.push(s)}return e}function I(o){return o==null?!0:o.trim().length===0}function D(o,e){return o.replace(/\{\{(\w+)\}\}/g,(t,...i)=>{var s;return i==null||i.length===0?t:String((s=e==null?void 0:e[i[0]])!=null?s:t)})}function h(o,e,t){t==null?o.removeAttribute(e):o.setAttribute(e,String(t))}function y(o,e,t){o.setAttribute(e,String(typeof t=="boolean"?t:!1))}var d=class{static destroyList(e){var n;let{children:t,observer:i,open:s}=f.list;t.delete(e),s.delete(e),(n=i.get(e))==null||n.disconnect(),i.delete(e)}static getChildren(e){return Array.from(e.querySelectorAll(":scope > delicious-details > details, :scope > details"))}static initializeList(e){var n;let{children:t,observer:i,open:s}=f.list;t.set(e,d.getChildren(e)),s.set(e,[]),i.set(e,new MutationObserver(l=>{P.callback(e,l)})),(n=i.get(e))==null||n.observe(e,P.options),d.open(e,x(e,"open",""))}static onGlobalKeydown(e){if(e.key!=="Escape")return;let{containers:t}=f.details,i=L(document.activeElement,s=>{var n,l;return t.has(s)&&((l=(n=t.get(s))==null?void 0:n.open)!=null?l:!0)});i instanceof $&&d.onToggle.call(i,!1)}static onLocalKeydown(e){var g;if(e.isComposing||e.key!=="ArrowDown"&&e.key!=="ArrowUp"||!(this instanceof F))return;let{target:t}=e;if(!(t instanceof HTMLElement))return;let i=(g=f.list.children.get(this))!=null?g:[],s=t.parentElement,n=i.indexOf(s);if(n===-1)return;let l=n+(e.key==="ArrowDown"?1:-1);l<0?l=i.length-1:l>=i.length&&(l=0);let a=i[l],r=a==null?void 0:a.querySelector(":scope > summary");r==null||r.focus()}static onToggle(e){var n;if(!(this instanceof $))return;let{buttons:t,containers:i}=f.details,s=i.get(this);s!=null&&(s.open=e!=null?e:!s.open,s.open||(n=t.get(this))==null||n.focus())}static open(e,t){if(t==null){d.update(e,[]);return}if(t.length>0&&!/^[\s\d,]+$/.test(t))throw new Error("The 'selected'-attribute of a 'delicious-details-list'-element must be a comma-separated string of numbers, e.g. '', '0' or '0,1,2'");let i=t.length>0?t.split(",").filter(s=>s.trim().length>0).map(s=>Number.parseInt(s,10)):[];d.update(e,i)}static update(e,t){var g,T;if(typeof t=="undefined")return;let{children:i,observer:s,open:n}=f.list,l=t.filter((u,m,W)=>W.indexOf(u)===m).sort((u,m)=>u-m);e.multiple||(l=l.length>0&&l[0]!=null?l.length>1?[l[0]]:l:[]);let a=e.open;if(l.length===a.length&&l.every((u,m)=>a[m]===u))return;(g=s.get(e))==null||g.disconnect();let r=(T=i.get(e))!=null?T:[];for(let u of r)l.includes(r.indexOf(u))!==u.open&&(u.open=!u.open);v(()=>{n.set(e,l),h(e,"open",l.length===0?null:l),e.dispatchEvent(new Event("toggle")),v(()=>{var u;return(u=s.get(e))==null?void 0:u.observe(e,P.options)})})}},P=class{static callback(e,t){var u,m,W;if(t.length===0)return;let{children:i}=f.list,s=t[0],n=Array.from((u=s==null?void 0:s.addedNodes)!=null?u:[]),l=Array.from((m=s==null?void 0:s.removedNodes)!=null?m:[]);if(n.concat(l).some(N=>N.parentElement===e)){i.set(e,d.getChildren(e));return}if((s==null?void 0:s.type)!=="attributes"||!((s==null?void 0:s.target)instanceof HTMLDetailsElement))return;let a=s.target,g=((W=i.get(e))!=null?W:[]).indexOf(a);if(g===-1)return;let T=[];e.multiple?T=a.open?e.open.concat([g]):e.open.filter(N=>N!==g):T=a.open?[g]:[],d.update(e,T)}};p(P,"options",{attributeFilter:["open"],attributes:!0,childList:!0,subtree:!0});var f=class{};p(f,"details",{buttons:new WeakMap,containers:new WeakMap}),p(f,"list",{children:new WeakMap,observer:new WeakMap,open:new WeakMap});var $=class extends HTMLElement{get open(){var e,t;return(t=(e=f.details.containers.get(this))==null?void 0:e.open)!=null?t:!1}set open(e){d.onToggle.call(this,e)}connectedCallback(){let e=this.querySelector(":scope > details"),t=e==null?void 0:e.querySelector(":scope > summary");f.details.buttons.set(this,t),f.details.containers.set(this,e)}disconnectedCallback(){f.details.buttons.delete(this),f.details.containers.delete(this)}toggle(){d.onToggle.call(this)}},F=class extends HTMLElement{static get observedAttributes(){return["multiple","open"]}get multiple(){return this.getAttribute("multiple")!=null}set multiple(e){h(this,"multiple",e?"":null)}get open(){var e;return(e=f.list.open.get(this))!=null?e:[]}set open(e){d.update(this,e)}constructor(){super(),this.addEventListener("keydown",d.onLocalKeydown.bind(this),c.passive)}attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"multiple":d.open(this,x(this,"open",""));break;case"open":d.open(this,i);break;default:break}}connectedCallback(){d.initializeList(this)}disconnectedCallback(){d.destroyList(this)}};globalThis.addEventListener("keydown",d.onGlobalKeydown,c.passive);globalThis.customElements.define("delicious-details",$);globalThis.customElements.define("delicious-details-list",F);var H="formal-focus-trap",B=new WeakMap,C=class{static observer(e){for(let t of e){if(t.type!=="attributes")continue;let i=t.target;i.getAttribute(H)==null?O.destroy(i):O.create(i)}}static onKeydown(e){if(e.key!=="Tab")return;let t=e.target,i=L(t,`[${H}]`);i!=null&&(e.preventDefault(),e.stopImmediatePropagation(),C.handle(e,i,t))}static handle(e,t,i){var a;let s=z(t);if(i===t){v(()=>{var r;((r=s[e.shiftKey?s.length-1:0])!=null?r:t).focus()});return}let n=s.indexOf(i),l=t;if(n>-1){let r=n+(e.shiftKey?-1:1);r<0?r=s.length-1:r>=s.length&&(r=0),l=(a=s[r])!=null?a:t}v(()=>{l.focus()})}},O=class{constructor(e){p(this,"tabIndex");this.tabIndex=e.tabIndex,h(e,"tabindex","-1")}static create(e){B.has(e)||B.set(e,new O(e))}static destroy(e){let t=B.get(e);t!=null&&(h(e,"tabindex",t.tabIndex),B.delete(e))}};(()=>{if(typeof globalThis._formalFocusTrap!="undefined")return;globalThis._formalFocusTrap=null,new MutationObserver(C.observer).observe(document,{attributeFilter:[H],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0}),v(()=>{let e=Array.from(document.querySelectorAll(`[${H}]`));for(let t of e)t.setAttribute(H,"")}),document.addEventListener("keydown",C.onKeydown,c.active)})();var V=["above","above-left","above-right","below","below-left","below-right","horizontal","left","right","vertical"],k=class{static update(e,t){let{anchor:i,floater:s,parent:n}=e;function l(){var m;if(s.hidden){i.insertAdjacentElement("afterend",s);return}let a=k.getPosition((m=(n!=null?n:i).getAttribute("position"))!=null?m:"",t),r={anchor:i.getBoundingClientRect(),floater:s.getBoundingClientRect()},g=k.getTop(r,a),u=`matrix(1, 0, 0, 1, ${k.getLeft(r,a)}, ${g})`;s.style.position="fixed",s.style.inset="0 auto auto 0",s.style.transform=u,v(l)}document.body.appendChild(s),s.hidden=!1,v(l)}static getLeft(e,t){let{left:i,right:s}=e.anchor,{width:n}=e.floater;switch(t){case"above":case"below":case"vertical":return i+e.anchor.width/2-n/2;case"above-left":case"below-left":return i;case"above-right":case"below-right":return s-n;case"horizontal":return s+n>globalThis.innerWidth?i-n<0?s:i-n:s;case"left":return i-n;case"right":return s;default:return 0}}static getTop(e,t){let{bottom:i,top:s}=e.anchor,{height:n}=e.floater;switch(t){case"above":case"above-left":case"above-right":return s-n;case"below":case"below-left":case"below-right":return i;case"horizontal":case"left":case"right":return s+e.anchor.height/2-n/2;case"vertical":return i+n>globalThis.innerHeight?s-n<0?i:s-n:i;default:return 0}}static getPosition(e,t){var n;if(e==null)return t;let i=e.trim().toLowerCase(),s=V.indexOf(i);return s>-1&&(n=V[s])!=null?n:t}};var Y=0,b=class{static initialize(e,t,i){i.hidden=!0,I(e.id)&&h(e,"id",`polite_popover_${Y++}`),I(t.id)&&h(t,"id",`${e.id}_button`),I(i.id)&&h(i,"id",`${e.id}_content`),h(t,"aria-controls",i.id),y(t,"aria-expanded",!1),h(t,"aria-haspopup","dialog"),h(i,H,""),h(i,"role","dialog"),h(i,"aria-modal","false"),t.addEventListener("click",b.toggle.bind(e),c.passive)}static onClick(e){this instanceof S&&this.open&&b.handleGlobalEvent(e,this,e.target)}static onKeydown(e){this instanceof S&&this.open&&e instanceof KeyboardEvent&&e.key==="Escape"&&b.handleGlobalEvent(e,this,document.activeElement)}static toggle(e){let t=this instanceof S?E.elements.get(this):null;t!=null&&b.handleToggle(this,t,e)}static afterToggle(e,t,i){var s,n;b.handleCallbacks(e,i),i?((n=(s=z(t.floater))==null?void 0:s[0])!=null?n:t.floater).focus():t.anchor.focus()}static handleCallbacks(e,t){let i=E.callbacks.get(e);if(i==null)return;let s=t?"addEventListener":"removeEventListener";document[s]("click",i.click,c.passive),document[s]("keydown",i.keydown,c.passive)}static handleGlobalEvent(e,t,i){let s=E.elements.get(t);if(s==null)return;let n=L(i,"[polite-popover-content]");if(n==null){this.handleToggle(t,s,!1);return}e.stopPropagation();let l=Array.from(document.body.children);l.indexOf(n)-l.indexOf(s.floater)<(e instanceof KeyboardEvent?1:0)&&b.handleToggle(t,s,!1)}static handleToggle(e,t,i){let s=typeof i=="boolean"?!i:e.open;y(t.anchor,"aria-expanded",!s),s?(t.floater.hidden=!0,b.afterToggle(e,t,!1)):(k.update({anchor:t.anchor,floater:t.floater,parent:e},"below-left"),v(()=>{b.afterToggle(e,t,!0)})),e.dispatchEvent(new Event("toggle"))}},M=class{static add(e){let t=e.querySelector(":scope > [polite-popover-button]"),i=e.querySelector(":scope > [polite-popover-content]");t==null||i==null||(M.callbacks.set(e,{click:b.onClick.bind(e),keydown:b.onKeydown.bind(e)}),M.elements.set(e,{anchor:t,floater:i}))}static remove(e){var i;let t=M.elements.get(e);(t==null?void 0:t.floater)instanceof HTMLElement&&(t.floater.hidden=!0,(i=t.anchor)==null||i.insertAdjacentElement("afterend",t.floater)),M.callbacks.delete(e),M.elements.delete(e)}},E=M;p(E,"callbacks",new WeakMap),p(E,"elements",new WeakMap);var S=class extends HTMLElement{get button(){var e;return(e=E.elements.get(this))==null?void 0:e.anchor}get content(){var e;return(e=E.elements.get(this))==null?void 0:e.floater}get open(){var e;return((e=this.button)==null?void 0:e.getAttribute("aria-expanded"))==="true"}set open(e){b.toggle.call(this,e)}constructor(){super();let e=this.querySelector(":scope > [polite-popover-button]"),t=this.querySelector(":scope > [polite-popover-content]");if(e==null||!(e instanceof HTMLButtonElement||e instanceof HTMLElement&&e.getAttribute("role")==="button"))throw new Error("<polite-popover> must have a <button>-element (or button-like element) with the attribute 'polite-popover-button'");if(t==null||!(t instanceof HTMLElement))throw new Error("<polite-popover> must have an element with the attribute 'polite-popover-content'");b.initialize(this,e,t)}connectedCallback(){E.add(this)}disconnectedCallback(){E.remove(this)}toggle(){b.toggle.call(this)}};globalThis.customElements.define("polite-popover",S);var K={full:"{{label}}{{indicator}}{{status}}",indicator:'<div class="swanky-switch__indicator" aria-hidden="true"><span class="swanky-switch__indicator__value"></span></div>',label:'<div id="{{id}}" class="swanky-switch__label">{{html}}</div>',status:{item:'<span class="swanky-switch__status__{{type}}">{{html}}</span>',wrapper:'<div class="swanky-switch__status" aria-hidden="true">{{off}}{{on}}</div>'}},w=class{static addListeners(e){e.addEventListener("click",w.onToggle.bind(e),c.passive),e.addEventListener("keydown",w.onKey.bind(e),c.passive)}static initialize(e,t,i){var l,a,r;(l=t.parentElement)==null||l.removeChild(t),(a=i.parentElement)==null||a.removeChild(i),y(e,"aria-checked",i.checked||e.checked),y(e,"aria-disabled",i.disabled||e.disabled),y(e,"aria-readonly",i.readOnly||e.readOnly),e.setAttribute("aria-labelledby",`${i.id}_label`),e.setAttribute("id",i.id),e.setAttribute("name",(r=i.name)!=null?r:i.id),e.setAttribute("role","switch"),e.setAttribute("tabindex","0"),e.setAttribute("value",i.value);let s=x(e,"swanky-switch-off","Off"),n=x(e,"swanky-switch-on","On");e.insertAdjacentHTML("afterbegin",w.render(i.id,t,s,n)),w.addListeners(e)}static onKey(e){(e.key===" "||e.key==="Enter")&&this instanceof R&&w.toggle(this)}static onToggle(){this instanceof R&&w.toggle(this)}static render(e,t,i,s){return D(K.full,{indicator:K.indicator,label:D(K.label,{html:t.innerHTML,id:`${e}_label`}),status:D(K.status.wrapper,{off:D(K.status.item,{html:i,type:"off"}),on:D(K.status.item,{html:s,type:"on"})})})}static toggle(e){e.disabled||e.readOnly||(e.checked=!e.checked,e.dispatchEvent(new Event("change")))}},R=class extends HTMLElement{get checked(){return this.getAttribute("aria-checked")==="true"}set checked(e){y(this,"aria-checked",e)}get disabled(){return this.getAttribute("aria-disabled")==="true"}set disabled(e){y(this,"aria-disabled",e)}get readOnly(){return this.getAttribute("aria-readonly")==="true"}set readOnly(e){y(this,"aria-readonly",e)}get value(){return this.checked?"on":"off"}constructor(){if(super(),this.querySelector(".swanky-switch__label")!=null){w.addListeners(this);return}let e=this.querySelector("[swanky-switch-input]"),t=this.querySelector("[swanky-switch-label]");if(typeof e=="undefined"||!(e instanceof HTMLInputElement)||e.type!=="checkbox")throw new Error("<swanky-switch> must have an <input>-element with type 'checkbox' and the attribute 'swanky-switch-input'");if(typeof t=="undefined"||!(t instanceof HTMLElement))throw new Error("<swanky-switch> must have a <label>-element with the attribute 'swanky-switch-label'");w.initialize(this,t,e)}};globalThis.customElements.define("swanky-switch",R);var q="toasty-tooltip",Z=`${q}-content`,G=new WeakMap,U=class{static observer(e){for(let t of e){if(t.type!=="attributes")continue;let i=t.target;i.getAttribute(q)==null?A.destroy(i):A.create(i)}}},A=class{constructor(e){this.anchor=e;p(this,"callbacks",{click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)});p(this,"floater");p(this,"focusable");this.focusable=e.matches(j),this.floater=A.createFloater(e),this.handleCallbacks(!0)}static create(e){G.has(e)||G.set(e,new A(e))}static destroy(e){let t=G.get(e);typeof t!="undefined"&&(t.handleCallbacks(!1),G.delete(e))}static createFloater(e){var s;let t=(s=e.getAttribute("aria-describedby"))!=null?s:e.getAttribute("aria-labelledby"),i=t==null?null:document.getElementById(t);if(i==null)throw new Error(`A '${q}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return i.hidden=!0,h(i,Z,""),h(i,"role","tooltip"),y(i,"aria-hidden",!0),i}onClick(e){L(e.target,t=>[this.anchor,this.floater].includes(t))==null&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(e){let t=e?"addEventListener":"removeEventListener";document[t]("click",this.callbacks.click,c.passive),document[t]("keydown",this.callbacks.keydown,c.passive),e?k.update(this,"above"):this.floater.hidden=!0}handleCallbacks(e){let{anchor:t,floater:i,focusable:s}=this,n=e?"addEventListener":"removeEventListener";for(let l of[t,i])l[n]("mouseenter",this.callbacks.show,c.passive),l[n]("mouseleave",this.callbacks.hide,c.passive),l[n]("touchstart",this.callbacks.show,c.passive);s&&(t[n]("blur",this.callbacks.hide,c.passive),t[n]("focus",this.callbacks.show,c.passive))}},_=new MutationObserver(U.observer);_.observe(document,{attributeFilter:[q],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});v(()=>{let o=Array.from(document.querySelectorAll(`[${q}]`));for(let e of o)e.setAttribute(q,"")});})();
