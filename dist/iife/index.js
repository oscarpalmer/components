(()=>{var ue=Object.defineProperty;var de=(e,t,i)=>t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var o=(e,t,i)=>(de(e,typeof t!="symbol"?t+"":t,i),i);var l={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}};function T(){if(typeof globalThis.oscarpalmer_components_isTouchScreen=="boolean")return globalThis.oscarpalmer_components_isTouchScreen;let e=!1;try{if("matchMedia"in window){let t=matchMedia("(pointer: coarse)");typeof t?.matches=="boolean"&&(e=t.matches)}e||(e="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints??0)>0)}catch{e=!1}return globalThis.oscarpalmer_components_isTouchScreen=e,e}function v(e,t){let i=typeof t=="string";if(i?e.matches(t):t(e))return e;let r=e?.parentElement;for(;r!==null;){if(r===document.body)return;if(i?r.matches(t):t(r))break;r=r.parentElement}return r??void 0}function J(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};let t=e.touches[0]?.clientX,i=e.touches[0]?.clientY;return t===null||i===null?void 0:{x:t,y:i}}function _(e){let t=[],i=Array.from(e.querySelectorAll(F()));for(let r of i){let n=getComputedStyle?.(r);(n===null||n.display!=="none"&&n.visibility!=="hidden")&&t.push(r)}return t}function F(){return globalThis.oscapalmer_components_focusableSelector===null&&(globalThis.oscapalmer_components_focusableSelector=['[contenteditable]:not([contenteditable="false"])',"[href]","[tabindex]:not(slot)","audio[controls]","button","details","details[open] > summary","embed","iframe","input","object","select","textarea","video[controls]"].map(e=>`${e}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",")),globalThis.oscapalmer_components_focusableSelector}function K(e){return typeof e=="number"?e:Number.parseInt(typeof e=="string"?e:String(e),10)}function Q(e){return getComputedStyle?.(e)?.direction==="rtl"?"rtl":"ltr"}function c(e){return(e??"").trim().length===0}var fe=new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"]),h=new WeakMap;function he(e,t){if(document.activeElement?.tagName!=="SUMMARY"||!fe.has(t.key))return;let i=h.get(e);if((i?.elements?.length??0)===0)return;let r=i.elements.indexOf(document.activeElement.parentElement);if(r===-1)return;t.preventDefault();let n=-1;switch(t.key){case"ArrowDown":case"ArrowRight":{n=r+1;break}case"ArrowLeft":case"ArrowUp":{n=r-1;break}case"End":{n=i.elements.length-1;break}case"Home":{n=0;break}default:return}if(n<0?n=i.elements.length-1:n>=i.elements.length&&(n=0),n===r)return;i.elements[n]?.querySelector(":scope > summary")?.focus?.()}function me(e,t){t.open&&!e.multiple&&V(e,t)}function Z(e){let t=h.get(e);if(t!==void 0){t.elements=[...e.querySelectorAll(":scope > details")];for(let i of t.elements)i.addEventListener("toggle",()=>me(e,i))}}function V(e,t){let i=h.get(e);if(i!==void 0)for(let r of i.elements)r!==t&&r.open&&(r.open=!1)}var L=class extends HTMLElement{get multiple(){return this.getAttribute("multiple")!=="false"}set multiple(t){typeof t=="boolean"&&this.setAttribute("multiple",t)}constructor(){super();let t={elements:[],observer:new MutationObserver(i=>Z(this))};h.set(this,t),Z(this),this.addEventListener("keydown",i=>he(this,i),l.active),this.multiple||V(this,t.elements.find(i=>i.open))}attributeChangedCallback(t){t==="multiple"&&!this.multiple&&V(this,h.get(this)?.elements.find(i=>i.open))}connectedCallback(){h.get(this)?.observer.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){h.get(this)?.observer.disconnect()}};o(L,"observedAttributes",["max","min","value"]);customElements.define("palmer-accordion",L);var be=Object.defineProperty,pe=(e,t,i)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,z=(e,t,i)=>(pe(e,typeof t!="symbol"?t+"":t,i),i),D=Math.round(1e3/60),ee=globalThis.requestAnimationFrame??function(e){return setTimeout?.(()=>{e(Date.now())},D)};function te(e){e.state.active=!0,e.state.finished=!1;let t=e instanceof M,i=0,r;function n(s){if(!e.state.active)return;r??(r=s);let a=s-r,g=a-D,E=a+D;if(g<e.configuration.time&&e.configuration.time<E)if(e.state.active&&e.callbacks.default(t?i:void 0),i+=1,t&&i<e.configuration.count)r=void 0;else{e.state.finished=!0,e.stop();return}e.state.frame=ee(n)}e.state.frame=ee(n)}var ie=class{constructor(e,t,i,r){z(this,"callbacks"),z(this,"configuration"),z(this,"state");let n=this instanceof M,s=n?"repeated":"waited";if(typeof e!="function")throw new TypeError(`A ${s} timer must have a callback function`);if(typeof t!="number"||t<0)throw new TypeError(`A ${s} timer must have a non-negative number as its time`);if(n&&(typeof i!="number"||i<2))throw new TypeError("A repeated timer must have a number above 1 as its repeat count");if(n&&r!==void 0&&typeof r!="function")throw new TypeError("A repeated timer's after-callback must be a function");this.configuration={count:i,time:t},this.callbacks={after:r,default:e},this.state={active:!1,finished:!1,frame:null}}get active(){return this.state.active}get finished(){return!this.active&&this.state.finished}restart(){return this.stop(),te(this),this}start(){return this.state.active||te(this),this}stop(){return this.state.active=!1,this.state.frame===void 0?this:((globalThis.cancelAnimationFrame??clearTimeout)?.(this.state.frame),this.callbacks.after?.(this.finished),this.state.frame=void 0,this)}},M=class extends ie{},ge=class extends ie{constructor(e,t){super(e,t,1,null)}};function u(e,t){return new ge(e,t).start()}var y="palmer-details",q=new WeakMap;function ve(e){for(let t of e)if(t.type==="attributes"){if(!(t.target instanceof HTMLDetailsElement))throw new TypeError(`An element with the '${y}'-attribute must be a <details>-element`);t.target.getAttribute(y)===void 0?w.destroy(t.target):w.create(t.target)}}var w=class{constructor(t){o(this,"callbacks");o(this,"details");o(this,"summary");this.details=t,this.summary=t.querySelector(":scope > summary")??void 0,this.callbacks={onKeydown:this.onKeydown.bind(this),onToggle:this.onToggle.bind(this)},this.details.addEventListener("toggle",this.callbacks.onToggle,l.passive)}onKeydown(t){t.key!=="Escape"||!this.details.open||[...this.details.querySelectorAll(`[${y}][open]`)].some(r=>r.contains(globalThis.document.activeElement))||!this.details.contains(globalThis.document.activeElement)||(this.details.open=!1,u(()=>this.summary?.focus(),0))}onToggle(){globalThis.document[this.details.open?"addEventListener":"removeEventListener"]?.("keydown",this.callbacks.onKeydown,l.passive)}static create(t){q.has(t)||q.set(t,new w(t))}static destroy(t){q.delete(t)}},ye=new MutationObserver(ve);ye.observe(globalThis.document,{attributeFilter:[y],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});u(()=>{let e=Array.from(globalThis.document.querySelectorAll(`[${y}]`));for(let t of e)t.setAttribute(y,"")},0);var m="palmer-focus-trap",$=new WeakMap;function we(e,t,i){let r=_(t);if(i===t){u(()=>{(r[e.shiftKey?r.length-1:0]??t).focus()},0);return}let n=r.indexOf(i),s=t;if(n>-1){let a=n+(e.shiftKey?-1:1);a<0?a=r.length-1:a>=r.length&&(a=0),s=r[a]??t}u(()=>{s.focus()},0)}function Ae(e){for(let t of e)t.type==="attributes"&&(t.target.getAttribute(m)===void 0?A.destroy(t.target):A.create(t.target))}function Ee(e){if(e.key!=="Tab")return;let t=v(e.target,`[${m}]`);t!==void 0&&(e.preventDefault(),e.stopImmediatePropagation(),we(e,t,e.target))}var A=class{constructor(t){o(this,"tabIndex");this.tabIndex=t.tabIndex,t.tabIndex=-1}static create(t){$.has(t)||$.set(t,new A(t))}static destroy(t){let i=$.get(t);i!==void 0&&(t.tabIndex=i.tabIndex,$.delete(t))}};(()=>{if(globalThis.oscarpalmer_components_focusTrap!==null)return;globalThis.oscarpalmer_components_focusTrap=1,new MutationObserver(Ae).observe(document,{attributeFilter:[m],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0}),u(()=>{let t=Array.from(document.querySelectorAll(`[${m}]`));for(let i of t)i.setAttribute(m,"")},0),document.addEventListener("keydown",Ee,l.active)})();var re=["above","above-left","above-right","any","below","below-left","below-right","horizontal","horizontal-bottom","horizontal-top","left","left-bottom","left-top","right","right-bottom","right-top","vertical","vertical-left","vertical-right"],ke=["bottom","height","left","right","top","width"],ne=new Set(["left","horizontal","right"]),xe=new Set(["above","any","below","vertical",...Array.from(ne.values)]);function Te(e,t,i,r){if(e!=="any"){let E=Le(t,e,i);return{top:Oe(t,e,r),left:E}}let{anchor:n,floater:s}=t,a=S(n.right,n.left,s.width,innerWidth,i),g=S(n.top,n.bottom,s.height,innerHeight,r);return{left:a,top:g}}function S(e){let t=e.end+e.offset,i=e.start-e.offset;return e.preferMin?i<0?t>e.max?i:e.end:i:t>e.max?i<0?e.end:i:e.end}function _e(e,t,i){if(!xe.has(e))return e;let r=ne.has(e);return[$e(t,i,r),Se(t,i,r)].filter(n=>n!==void 0).join("-")}function Le(e,t,i){let{anchor:r,floater:n}=e;switch(t){case"above":case"below":case"vertical":return r.left+r.width/2-n.width/2;case"above-left":case"below-left":case"vertical-left":return r.left;case"above-right":case"below-right":case"vertical-right":return r.right-n.width;case"horizontal":case"horizontal-bottom":case"horizontal-top":return S(r.left,r.right,n.width,innerWidth,i);case"left":case"left-bottom":case"left-top":return r.left-n.width;case"right":case"right-bottom":case"right-top":return r.right;default:return r.left}}function Me(e,t){if(e===null)return t;let i=e.trim().toLowerCase(),r=re.indexOf(i);return r>-1?re[r]??t:t}function $e(e,t,i){return i?t.left===e.anchor.right?"right":t.left===e.anchor.left-e.floater.width?"left":void 0:t.top===e.anchor.bottom?"below":t.top===e.anchor.top-e.floater.height?"above":void 0}function Se(e,t,i){return i?t.top===e.anchor.top?"top":t.top===e.anchor.bottom-e.floater.height?"bottom":void 0:t.left===e.anchor.left?"left":t.left===e.anchor.right-e.floater.width?"right":void 0}function Oe(e,t,i){let{anchor:r,floater:n}=e;switch(t){case"above":case"above-left":case"above-right":return r.top-n.height;case"horizontal":case"left":case"right":return r.top+r.height/2-n.height/2;case"below":case"below-left":case"below-right":return r.bottom;case"horizontal-bottom":case"left-bottom":case"right-bottom":return r.bottom-n.height;case"horizontal-top":case"left-top":case"right-top":return r.top;case"vertical":case"vertical-left":case"vertical-right":return S(r.top,r.bottom,n.height,innerHeight,i);default:return r.bottom}}function O(e){let{anchor:t,floater:i,parent:r}=e.elements,n=Q(i)==="rtl",s,a;function g(){t.after("afterend",i)}function E(){let k=Me((r??t).getAttribute(e.position.attribute)??"",e.position.defaultValue),I=t.getBoundingClientRect();if(s===k&&ke.every(G=>a?.[G]===I[G]))return;s=k,a=I;let Y={anchor:I,floater:i.getBoundingClientRect()},R=Te(k,Y,n,e.position.preferAbove),X=`matrix(1, 0, 0, 1, ${R.left}, ${R.top})`;i.style.transform!==X&&(i.style.position="fixed",i.style.inset="0 auto auto 0",i.style.transform=X,i.setAttribute("position",_e(k,Y,R)))}return document.body.append(i),i.hidden=!1,new M(E,0,Number.POSITIVE_INFINITY,g).start()}var f="palmer-popover",ae=new WeakMap,He=0;function se(e,t){Ne(e,t),t&&e.content?(_(e.content)?.[0]??e.content).focus():e.button?.focus()}function Ne(e,t){let i=ae.get(e);if(i===void 0)return;let r=t?"addEventListener":"removeEventListener";document[r]("click",i.click,l.passive),document[r]("keydown",i.keydown,l.passive)}function oe(e,t,i){let{button:r,content:n}=t;if(r===void 0||n===void 0)return;let s=v(i,`[${f}-content]`);if(s===void 0){W(t,!1);return}e.stopPropagation();let a=Array.from(document.body.children);a.indexOf(s)-a.indexOf(n)<(e instanceof KeyboardEvent?1:0)&&W(t,!1)}function W(e,t){let i=typeof t=="boolean"?!t:e.open;e.button.setAttribute("aria-expanded",!i),i?(e.content.hidden=!0,e.timer?.stop(),se(e,!1)):(e.timer?.stop(),e.timer=O({elements:{anchor:e.button,floater:e.content,parent:e},position:{attribute:"position",defaultValue:"vertical",preferAbove:!1}}),u(()=>{se(e,!0)},50)),e.dispatchEvent(new Event("toggle"))}function Ce(e,t,i){i.hidden=!0,c(e.id)&&(e.id=`palmer_popover_${++He}`),c(t.id)&&(t.id=`${e.id}_button`),c(i.id)&&(i.id=`${e.id}_content`),t.setAttribute("aria-controls",i.id),t.ariaExpanded="false",t.ariaHasPopup="dialog",t instanceof HTMLButtonElement||(t.tabIndex=0),i.setAttribute(m,""),i.role="dialog",i.ariaModal="false",ae.set(e,{click:Re.bind(e),keydown:Fe.bind(e)}),t.addEventListener("click",P.bind(e),l.passive)}function Ie(e){return e===null?!1:e instanceof HTMLButtonElement?!0:e instanceof HTMLElement&&e.getAttribute("role")==="button"}function Re(e){this.open&&oe(e,this,e.target)}function Fe(e){this.open&&e instanceof KeyboardEvent&&e.key==="Escape"&&oe(e,this,document.activeElement)}function P(e){W(this,e)}var B=class extends HTMLElement{constructor(){super();o(this,"button");o(this,"content");o(this,"timer");let i=this.querySelector(`:scope > [${f}-button]`),r=this.querySelector(`:scope > [${f}-content]`);if(!Ie(i))throw new Error(`<${f}> must have a <button>-element (or button-like element) with the attribute '${f}-button`);if(r===null||!(r instanceof HTMLElement))throw new Error(`<${f}> must have an element with the attribute '${f}-content'`);this.button=i,this.content=r,Ce(this,i,r)}get open(){return this.button?.getAttribute("aria-expanded")==="true"}set open(i){P.call(this,i)}toggle(){this.button&&this.content&&P.call(this)}};customElements.define(f,B);var Ke=T()?"touchstart":"mousedown",Ve=T()?"touchend":"mouseup",ze=T()?"touchmove":"mousemove",U="palmer-splitter",De=new Set(["horizontal","vertical"]),d=new WeakMap,qe=0;function We(e,t){let i=document.createElement("span");return i.className=`${t}__separator__handle`,i.ariaHidden="true",i.textContent=e.type==="horizontal"?"\u2195":"\u2194",i.addEventListener(Ke,()=>Ue(e)),i}function Pe(e,t,i){if((t??d.get(e)?.values)===void 0)return;let n=document.createElement("div");c(e.primary.id)&&(e.primary.id=`palmer_splitter_primary_panel_${++qe}`),n.className=`${i}__separator`,n.role="separator",n.tabIndex=0,n.setAttribute("aria-controls",e.primary.id),n.setAttribute("aria-valuemax","100"),n.setAttribute("aria-valuemin","0"),n.setAttribute("aria-valuenow","50");let s=e.getAttribute("value");return c(s)&&x(e,n,50),n.append(e.handle),n.addEventListener("keydown",a=>Xe(e,a),l.passive),n}function Be(e){e.key==="Escape"&&j(this,!1)}function Ue(e){j(e,!0)}function je(){j(this,!1)}function Ye(e){let t=J(e);if(t===void 0)return;let i=this.getBoundingClientRect(),r=this.type==="horizontal"?(t.y-i.top)/i.height:(t.x-i.left)/i.width;x(this,this.separator,r*100)}function Xe(e,t){if(!["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Escape","Home"].includes(t.key)||(e.type==="horizontal"?["ArrowLeft","ArrowRight"]:["ArrowDown","ArrowUp"]).includes(t.key))return;let{values:r}=d.get(e);if(r===void 0)return;let n;switch(t.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{n=Math.round(e.value+(["ArrowLeft","ArrowUp"].includes(t.key)?-1:1));break}case"End":case"Home":{n=t.key==="End"?r.maximum:r.minimum;break}case"Escape":{n=r.initial??r.original,r.initial=void 0;break}default:break}x(e,e.separator,n,r)}function Ge(e,t){let{key:i,separator:r,setFlex:n}=t,s=t.values??d.get(e)?.values,a=K(t.value);s===void 0||Number.isNaN(a)||a===s[i]||i==="maximum"&&a<s.minimum||i==="minimum"&&a>s.maximum||(i==="maximum"&&a>100?a=100:i==="minimum"&&a<0&&(a=0),s[t.key]=a,r.setAttribute(i==="maximum"?"aria-valuemax":"aria-valuemin",a),n&&(i==="maximum"&&a<s.current||i==="minimum"&&a>s.current)&&x(e,r,a,s))}function j(e,t){let i=d.get(e);if(i===void 0)return;t&&(i.values.initial=Number(i.values.current));let r=t?"addEventListener":"removeEventListener";document[r]("keydown",i.callbacks.keydown,l.passive),document[r](Ve,i.callbacks.pointerEnd,l.passive),document[r](ze,i.callbacks.pointerMove,l.passive),i.dragging=t}function x(e,t){let{separator:i}=t,r=t.values??d.get(e)?.values,n=K(t.value);r===void 0||Number.isNaN(n)||n===r.current||(n<r.minimum?n=r.minimum:n>r.maximum&&(n=r.maximum),(t.setOriginal??!1)&&(r.original=n),i.ariaValueNow=n,e.primary.style.flex=`${n/100}`,e.secondary.style.flex=`${(100-n)/100}`,r.current=n,e.dispatchEvent(new CustomEvent("change",{detail:{value:n}})))}var H=class extends HTMLElement{constructor(){super();o(this,"handle");o(this,"primary");o(this,"secondary");o(this,"separator");if(this.children.length!==2)throw new Error(`A <${U}> must have exactly two direct children`);let i={callbacks:{keydown:Be.bind(this),pointerEnd:je.bind(this),pointerMove:Ye.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};d.set(this,i),this.primary=this.children[0],this.secondary=this.children[1];let r=this.getAttribute("className");c(r)&&(r=U),this.handle=We(this,r),this.separator=Pe(this,i.values,r),this.primary?.insertAdjacentElement("afterend",this.separator)}get max(){return d.get(this)?.values.maximum}set max(i){this.setAttribute("max",i)}get min(){return d.get(this)?.values.minimum}set min(i){this.setAttribute("min",i)}get type(){let i=this.getAttribute("type")??"vertical";return De.has(i)?i:"vertical"}set type(i){this.setAttribute("type",i)}get value(){return d.get(this)?.values.current}set value(i){this.setAttribute("value",i)}attributeChangedCallback(i,r,n){switch(i){case"max":case"min":{Ge(this,{key:i==="max"?"maximum":"minimum",separator:this.separator,setFlex:!0,value:n});break}case"value":{x(this,{separator:this.separator,setOriginal:!0,value:n});break}default:break}}};o(H,"observedAttributes",["max","min","value"]);customElements.define(U,H);function Je(e,t,i){let r=document.createElement("span");return r.ariaHidden=!0,r.className=`${t}__label`,r.id=`${e}_label`,r.innerHTML=i,r}function Qe(e){let t=document.createElement("span");t.ariaHidden=!0,t.className=`${e}__status`;let i=document.createElement("span");return i.className=`${e}__status__indicator`,t.append(i),t}function Ze(e,t,i){let r=document.createElement("span");return r.ariaHidden=!0,r.className=`${e}__text`,r.append(le("off",e,i)),r.append(le("on",e,t)),r}function le(e,t,i){let r=document.createElement("span");return r.className=`${t}__text__${e}`,r.innerHTML=i,r}function et(e,t,i){t.parentElement?.removeChild(t),i.parentElement?.removeChild(i),e.setAttribute("aria-checked",i.checked||e.checked),e.setAttribute("aria-disabled",i.disabled||e.disabled),e.setAttribute("aria-labelledby",`${i.id}_label`),e.setAttribute("aria-readonly",i.readOnly||e.readonly),e.setAttribute("value",i.value),e.id=i.id,e.name=i.name??i.id,e.role="switch",e.tabIndex=0;let r=e.getAttribute("classNames"),n=e.getAttribute("off"),s=e.getAttribute("on");c(r)&&(r="palmer-switch"),c(n)&&(n="Off"),c(s)&&(s="On"),e.insertAdjacentElement("beforeend",Je(e.id,r,t.innerHTML)),e.insertAdjacentElement("beforeend",Qe(r)),e.insertAdjacentElement("beforeend",Ze(r,s,n)),e.addEventListener("click",it.bind(e),l.passive),e.addEventListener("keydown",tt.bind(e),l.active)}function tt(e){[" ","Enter"].includes(e.key)&&(e.preventDefault(),ce(this))}function it(){ce(this)}function ce(e){e.disabled||e.readonly||(e.checked=!e.checked,e.dispatchEvent(new Event("change")))}var N=class extends HTMLElement{constructor(){super();o(this,"internals");this.internals=this.attachInternals?.();let i=this.querySelector("[palmer-switch-input]"),r=this.querySelector("[palmer-switch-label]");if(i===null||!(i instanceof HTMLInputElement)||i.type!=="checkbox")throw new TypeError("<palmer-switch> must have an <input>-element with type 'checkbox' and the attribute 'palmer-switch-input'");if(r===null||!(r instanceof HTMLElement))throw new TypeError("<palmer-switch> must have an element with the attribute 'palmer-switch-label'");et(this,r,i)}get checked(){return this.getAttribute("aria-checked")==="true"}set checked(i){this.setAttribute("aria-checked",i)}get disabled(){return this.getAttribute("aria-disabled")==="true"}set disabled(i){this.setAttribute("aria-disabled",i)}get form(){return this.internals?.form}get labels(){return this.internals?.labels}get name(){return this.getAttribute("name")??""}set name(i){this.setAttribute("name",i)}get readonly(){return this.getAttribute("aria-readonly")==="true"}set readonly(i){this.setAttribute("aria-readonly",i)}get validationMessage(){return this.internals?.validationMessage??""}get validity(){return this.internals?.validity}get value(){return this.getAttribute("value")??(this.checked?"on":"off")}get willValidate(){return this.internals?.willValidate??!0}checkValidity(){return this.internals?.checkValidity()??!0}reportValidity(){return this.internals?.reportValidity()??!0}};o(N,"formAssociated",!0);customElements.define("palmer-switch",N);var b="palmer-tooltip",rt=`${b}-content`,nt=`${b}-position`,C=new WeakMap;function st(e){for(let t of e)t.type==="attributes"&&(t.target.getAttribute(b)===null?p.destroy(t.target):p.create(t.target))}var p=class{constructor(t){o(this,"anchor");o(this,"callbacks",{click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)});o(this,"floater");o(this,"focusable");o(this,"timer");this.anchor=t,this.focusable=t.matches(F()),this.floater=p.createFloater(t),this.handleCallbacks(!0)}static create(t){C.has(t)||C.set(t,new p(t))}static destroy(t){let i=C.get(t);i!==void 0&&(i.handleCallbacks(!1),C.delete(t))}static createFloater(t){let i=t.getAttribute("aria-describedby")??t.getAttribute("aria-labelledby"),r=i===null?null:document.querySelector(`#${i}`);if(r===null)throw new TypeError(`A '${b}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return r.hidden=!0,r.setAttribute(rt,""),r.ariaHidden="true",r.role="tooltip",r}onClick(t){v(t.target,i=>[this.anchor,this.floater].includes(i))===void 0&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(t){t instanceof KeyboardEvent&&t.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(t){let i=t?"addEventListener":"removeEventListener";document[i]("click",this.callbacks.click,l.passive),document[i]("keydown",this.callbacks.keydown,l.passive),t?(this.timer?.stop(),this.timer=O({elements:{anchor:this.anchor,floater:this.floater},position:{attribute:nt,defaultValue:"vertical",preferAbove:!0}})):(this.floater.hidden=!0,this.timer?.stop())}handleCallbacks(t){let{anchor:i,floater:r,focusable:n}=this,s=t?"addEventListener":"removeEventListener";for(let a of[i,r])a[s]("mouseenter",this.callbacks.show,l.passive),a[s]("mouseleave",this.callbacks.hide,l.passive),a[s]("touchstart",this.callbacks.show,l.passive);n&&(i[s]("blur",this.callbacks.hide,l.passive),i[s]("focus",this.callbacks.show,l.passive))}},at=new MutationObserver(st);at.observe(document,{attributeFilter:[b],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});u(()=>{let e=Array.from(document.querySelectorAll(`[${b}]`));for(let t of e)t.setAttribute(b,"")},0);})();
