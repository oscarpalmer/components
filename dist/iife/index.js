(()=>{var st="closed",ot="open";function I(t){if(t instanceof MouseEvent)return{x:t.clientX,y:t.clientY};let e=t.touches[0]?.clientX,n=t.touches[0]?.clientY;return typeof e=="number"&&typeof n=="number"?{x:e,y:n}:void 0}function a(t,e){return{capture:e??!1,passive:t??!0}}function L(t){return{newState:t?ot:st,oldState:t?st:ot}}var Pt=new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"]),z=new WeakSet,y=new WeakMap;function zt(t,e){if(document.activeElement?.getAttribute("palmer-disclosure-button")===void 0||!Pt.has(e.key))return;let n=y.get(t);if((n?.elements?.length??0)===0)return;let i=n.elements.indexOf(document.activeElement.parentElement);if(i===-1)return;e.preventDefault();let r=-1;switch(e.key){case"ArrowDown":case"ArrowRight":{r=i+1;break}case"ArrowLeft":case"ArrowUp":{r=i-1;break}case"End":{r=n.elements.length-1;break}case"Home":{r=0;break}default:return}r<0?r=n.elements.length-1:r>=n.elements.length&&(r=0),r!==i&&n.elements[r]?.button.focus()}function at(t,e){if(t.multiple===e||z.has(t)){z.delete(t);return}if(z.add(t),e){t.setAttribute("multiple","");return}t.removeAttribute("multiple"),_(t,y.get(t)?.elements.find(n=>n.open))}function lt(t){let e=y.get(t);if(e!==void 0){e.elements=[...t.querySelectorAll(":scope > palmer-disclosure")];for(let n of e.elements)n.addEventListener("toggle",i=>{i.detail.newState==="open"&&_(t,n)})}}function _(t,e){if(t.multiple)return;let n=y.get(t);if(n!==void 0)for(let i of n.elements)i!==e&&i.open&&i.hide()}var O=class extends HTMLElement{get multiple(){let e=this.getAttribute("multiple");return!(e===null||e==="false")}set multiple(e){at(this,e)}constructor(){super();let e={elements:[],observer:new MutationObserver(n=>lt(this))};y.set(this,e),lt(this),this.addEventListener("keydown",n=>zt(this,n),a(!1)),at(this,this.multiple)}attributeChangedCallback(e){e==="multiple"&&_(this,y.get(this)?.elements.find(n=>n.open))}connectedCallback(){y.get(this)?.observer.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){y.get(this)?.observer.disconnect()}};O.observedAttributes=["multiple"];customElements.define("palmer-accordion",O);var p=(()=>{let t=!1;try{if("matchMedia"in window){let e=matchMedia("(pointer: coarse)");typeof e?.matches=="boolean"&&(t=e.matches)}t||(t="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints??0)>0)}catch{t=!1}return t})(),f={begin:p?"touchstart":"mousedown",end:p?"touchend":"mouseup",move:p?"touchmove":"mousemove"};var _t=/^arrow(?:(down)|(left)|(right)|(up))/i,Bt=["linear-gradient(to bottom","hsl(0 0% 100%) 0%","hsl(0 0% 100% / 0) 50%","hsl(0 0% 0% / 0) 50%","hsl(0 0% 0%) 100%)","linear-gradient(to right","hsl(0 0% 50%) 0%","hsl(0 0% 50% / 0) 100%)"],Vt=/^([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i,Ut=/^([\da-f]{3}){1,2}$/i,B=new WeakMap,c="palmer-colour-picker";function Yt(t,e){t.hidden=!1,e.type="range",e.max=360,e.min=0}function Xt(t,e){t.hidden=!1,t.style.backgroundColor="hsl(var(--hue-value) 100% 50%)",t.style.backgroundImage=Bt,t.style.position="relative",e.tabIndex=0,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.transform="translate3d(-50%, -50%, 0)"}function dt(t,e){let n=mt(t);return ee(n)?(n.length===3&&(n=n.split("").map(i=>`${i}${i}`).join("")),n):e}function ht(t){let e=dt(t);if(e===void 0)return;let n=e.match(Vt),i=[];for(let r=0;r<3;r+=1)i.push(Number.parseInt(n[r+1],16));return{red:i[0],green:i[1],blue:i[2]}}function ft(t){function e(o){let s=(o+n/30)%12,l=i*Math.min(r,1-r);return r-l*Math.max(-1,Math.min(s-3,9-s,1))}let{hue:n,saturation:i,lightness:r}=t;return n%=360,n<0&&(n+=360),i/=100,r/=100,{red:Math.round(e(0)*255),green:Math.round(e(8)*255),blue:Math.round(e(4)*255)}}function mt(t){return t?.replace(/^(#|\s)|\s$/g,"")??""}function jt(t){t.key==="Escape"&&(t.stopPropagation(),wt(this,!0))}function Gt(){wt(this,!1)}function ut(t){p&&t.preventDefault();let{height:e,left:n,top:i,width:r}=this.well.getBoundingClientRect(),{x:o,y:s}=I(t),l=100-Math.round((s-i)/e*100),u=Math.round((o-n)/r*100);yt(this,u,l)}function Jt(){this.hsl.hue=Number.parseInt(this.hueInput.value,10),S(this)}function Qt(t){if(t.key!=="Enter")return;t.preventDefault();let e=ht(this.input.value);if(e===void 0)return;let n=pt(e);this.hsl.hue=n.hue,this.hsl.saturation=n.saturation,this.hsl.lightness=n.lightness,S(this)}function Zt(t){let e=_t.exec(t.key);if(e===null)return;t.preventDefault();let{lightness:n,saturation:i}=this.hsl;n+=e[1]?-1:e[4]?1:0,i+=e[2]?-1:e[3]?1:0,yt(this,i,n)}function ct(t){if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||t.button>0)return;t.stopPropagation(),ut.call(this,t);let e={callbacks:{onKeydown:jt.bind(this),onPointerEnd:Gt.bind(this),onPointerMove:ut.bind(this)},hsl:{hue:this.hsl.hue,saturation:this.hsl.saturation,lightness:this.hsl.lightness}};gt(e.callbacks,!0),B.set(this,e)}function bt(t){return`#${(t.blue|t.green<<8|t.red<<16|1<<24).toString(16).slice(1)}`}function pt(t){let{red:e,green:n,blue:i}=t;e/=255,n/=255,i/=255;let r=Math.min(e,n,i),o=Math.max(e,n,i),s=o-r,l=o-s/2,u=0,M=0;switch(s){case e:{u=(n-i)/s%6;break}case n:{u=(i-e)/s+2;break}case i:{u=(e-n)/s+2;break}default:break}return M=o===0||l===0||l===0?0:(o-l)/Math.min(l,1-l),u*=60,u<0&&(u+=360),{hue:Math.round(u),saturation:Math.round(M*100),lightness:Math.round(l*100)}}function gt(t,e){let n=e?document.addEventListener:document.removeEventListener;n("keydown",t.onKeydown,a(!0,!0)),n(f.end,t.onPointerEnd,a()),n(f.move,t.onPointerMove,a(!p)),te(e)}function te(t){document.body.style.userSelect=t?"none":null,document.body.style.webkitUserSelect=t?"none":null}function yt(t,e,n){t.hsl.saturation=e<0?0:e>100?100:e,t.hsl.lightness=n<0?0:n>100?100:n,S(t)}function wt(t,e){let n=B.get(t);n!==void 0&&(gt(n.callbacks,!1),e&&(t.hsl.hue=n.hsl.hue,t.hsl.lightness=n.hsl.lightness,t.hsl.saturation=n.hsl.saturation,S(t)),B.delete(t),t.wellHandle.focus())}function ee(t){return Ut.test(mt(t))}function S(t){let{hsl:e,hueInput:n,input:i}=t;n.value=e.hue,ne(t),ie(t),i.value=bt(ft(e)),i.dispatchEvent(new Event("change"))}function ne(t){let{hue:e,lightness:n,saturation:i}=t.hsl,r=`${e/360*100}%`,o=`hsl(${e} ${i}% ${n}%)`;for(let s of[t,t.hue,t.well])s.style.setProperty("--hue-handle",r),s.style.setProperty("--hue-value",e),s.style.setProperty("--value",o)}function ie(t){let{hsl:e,wellHandle:n}=t;n.style.top=`${100-e.lightness}%`,n.style.left=`${e.saturation}%`}var V=class extends HTMLElement{get value(){let e=ft(this.hsl);return{rgb:e,hex:bt(e),hsl:this.hsl}}constructor(){super();let e=this.querySelector(`[${c}-hue]`),n=e?.querySelector(`[${c}-hue-input]`);if(!(e instanceof HTMLElement))throw new TypeError(`<${c}> needs an element with the attribute '${c}-hue' to hold the hue input`);if(!(n instanceof HTMLInputElement))throw new TypeError(`<${c}> needs an <input>-element with the attribute '${c}-hue-input'`);let i=this.querySelector(`[${c}-input]`);if(!(i instanceof HTMLInputElement)||!/^(color|text)$/i.test(i.type))throw new TypeError(`<${c}> needs an <input>-element with the attribute '${c}-input'`);let r=this.querySelector(`[${c}-well]`),o=r?.querySelector(`[${c}-well-handle]`);if([r,o].some(u=>!(u instanceof HTMLElement)))throw new TypeError(`<${c}> needs two elements for the colour well: one wrapping element with the attribute '${c}-well', and one within it with the attribute '${c}-well-handle'`);this.hue=e,this.hueInput=n,this.input=i,this.well=r,this.wellHandle=o,i.pattern="#?([\\da-fA-F]{3}){1,2}",i.type="text";let s=dt(i.getAttribute("value")??this.getAttribute("value"),"000000"),l=ht(s);this.hsl=pt(l),Yt(e,n),Xt(r,o),i.addEventListener("keydown",Qt.bind(this),a(!1)),o.addEventListener("keydown",Zt.bind(this),a(!1)),o.addEventListener(f.begin,ct.bind(this),a()),r.addEventListener(f.begin,ct.bind(this),a()),n.addEventListener("input",Jt.bind(this),a()),S(this)}};customElements.define(c,V);function E(t,e,n){let i=typeof e=="string";if((n??!0)&&(i?t.matches(e):e(t)))return t;let r=t?.parentElement;for(;r!==null;){if(r===document.body)return;if(i?r.matches(e):e(r))break;r=r.parentElement}return r??void 0}function U(t){return typeof t=="number"?t:Number.parseInt(typeof t=="string"?t:String(t),10)}function vt(t){return getComputedStyle?.(t)?.direction==="rtl"?"rtl":"ltr"}function d(t){return(t??"").trim().length===0}var Et=/^(|true)$/i,re=[ae,de,xt,ce,he],se=['[contenteditable]:not([contenteditable="false"])',"[tabindex]:not(slot)","a[href]","audio[controls]","button","details","details > summary:first-of-type","iframe","input","select","textarea","video[controls]"].map(t=>`${t}:not([inert])`).join(",");function x(t){let e=Array.from(t.querySelectorAll(se)).map(i=>({element:i,tabIndex:kt(i)})).filter(i=>At(i)),n=[];for(let i of e)n[i.tabIndex]=[...n[i.tabIndex]??[],i.element];return n.flat()}function kt(t){return t.tabIndex>-1?t.tabIndex:/^(audio|details|video)$/i.test(t.tagName)||ue(t)?oe(t)?-1:0:-1}function oe(t){return!Number.isNaN(Number.parseInt(t.getAttribute("tabindex"),10))}function ae(t){return/^(button|input|select|textarea)$/i.test(t.element.tagName)&&le(t.element)?!0:(t.element.disabled??!1)||t.element.getAttribute("aria-disabled")==="true"}function le(t){let e=t.parentElement;for(;e!==null;){if(/^fieldset$/i.test(e.tagName)&&e.disabled){let n=Array.from(e.children);for(let i of n)if(/^legend$/i.test(i.tagName))return e.matches("fieldset[disabled] *")?!0:!i.contains(t);return!0}e=e.parentElement}return!1}function ue(t){return Et.test(t.getAttribute("contenteditable"))}function $t(t){return At({element:t,tabIndex:kt(t)})}function At(t){return!re.some(e=>e(t))}function ce(t){if(t.element.hidden||t.element instanceof HTMLInputElement&&t.element.type==="hidden")return!0;let e=getComputedStyle(t.element);if(e.display==="none"||e.visibility==="hidden")return!0;let{height:n,width:i}=t.element.getBoundingClientRect();return n===0&&i===0}function xt(t){return(t.element.inert??!1)||Et.test(t.element.getAttribute("inert"))||t.element.parentElement!==null&&xt({element:t.element.parentElement})}function de(t){return t.tabIndex<0}function he(t){return/^details$/i.test(t.element.tagName)&&Array.from(t.element.children).some(e=>/^summary$/i.test(e.tagName))}var Y=Math.round(16.666666666666668),Tt=requestAnimationFrame??function(t){return setTimeout?.(()=>{t(Date.now())},Y)};function Mt(t){t.state.active=!0,t.state.finished=!1;let e=t instanceof N,n=0,i;function r(o){if(!t.state.active)return;i??(i=o);let s=o-i,l=s-Y,u=s+Y;if(l<t.configuration.time&&t.configuration.time<u)if(t.state.active&&t.callbacks.default(e?n:void 0),n+=1,e&&n<t.configuration.count)i=void 0;else{t.state.finished=!0,t.stop();return}t.state.frame=Tt(r)}t.state.frame=Tt(r)}var Lt=class{get active(){return this.state.active}get finished(){return!this.active&&this.state.finished}constructor(t,e,n,i){let r=this instanceof N,o=r?"repeated":"waited";if(typeof t!="function")throw new TypeError(`A ${o} timer must have a callback function`);if(typeof e!="number"||e<0)throw new TypeError(`A ${o} timer must have a non-negative number as its time`);if(r&&(typeof n!="number"||n<2))throw new TypeError("A repeated timer must have a number above 1 as its repeat count");if(r&&i!==void 0&&typeof i!="function")throw new TypeError("A repeated timer's after-callback must be a function");this.configuration={count:n,time:e},this.callbacks={after:i,default:t},this.state={active:!1,finished:!1,frame:null}}restart(){return this.stop(),Mt(this),this}start(){return this.state.active||Mt(this),this}stop(){return this.state.active=!1,this.state.frame===void 0?this:((cancelAnimationFrame??clearTimeout)?.(this.state.frame),this.callbacks.after?.(this.finished),this.state.frame=void 0,this)}},N=class extends Lt{},fe=class extends Lt{constructor(t,e){super(t,e,1,null)}};function w(t,e){return new fe(t,e).start()}var g="palmer-focus-trap",K=new WeakMap;function me(t){K.has(t)||K.set(t,new X(t))}function be(t){K.get(t)!==void 0&&K.delete(t)}function pe(t,e,n){let i=x(e);if(n===e){w(()=>{(i[t.shiftKey?i.length-1:0]??e).focus()},0);return}let r=i.indexOf(n),o=e;if(r>-1){let s=r+(t.shiftKey?-1:1);s<0?s=i.length-1:s>=i.length&&(s=0),o=i[s]??e}w(()=>{o.focus()},0)}function ge(t){for(let e of t)e.type==="attributes"&&(e.target.getAttribute(g)===void 0?be(e.target):me(e.target))}function ye(t){if(t.key!=="Tab")return;let e=E(t.target,`[${g}]`);e!==void 0&&(t.preventDefault(),t.stopImmediatePropagation(),pe(t,e,t.target))}var X=class{},we=new MutationObserver(ge);we.observe(document,{attributeFilter:[g],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});w(()=>{let t=Array.from(document.querySelectorAll(`[${g}]`));for(let e of t)e.setAttribute(g,"")},0);document.addEventListener("keydown",ye,a(!1));var h="palmer-dialog",St=`${h}-close`,J=`${h}-open`,j=new WeakMap,Ht=new WeakMap;function G(t,e,n){e.dispatchEvent(new CustomEvent(t,{cancelable:!0,detail:{target:n}}))&&(e.hidden=!0,Ht.get(e)?.append(e),j.get(e)?.focus(),j.delete(e),e.dispatchEvent(new CustomEvent("close",{detail:{target:n}})))}function Ct(t){t.addEventListener("click",Ee,a())}function ve(t){t.key==="Escape"&&G("cancel",this,document.activeElement)}function Ee(){let t=document.querySelector(`#${this.getAttribute(J)}`);t instanceof q&&(j.set(t,this),It(t))}function It(t){t.dispatchEvent(new CustomEvent("show",{cancelable:!0}))&&(t.hidden=!1,document.body.append(t),(x(t)[0]??t).focus(),t.dispatchEvent(new CustomEvent("toggle",{detail:"open"})))}var q=class extends HTMLElement{get alert(){return this.getAttribute("role")==="alertdialog"}get open(){return this.parentElement===document.body&&!this.hidden}set open(e){typeof e!="boolean"||this.open===e||(e?It(this):G("cancel",this))}constructor(){super(),this.hidden=!0;let{id:e}=this;if(d(e))throw new TypeError(`<${h}> must have an ID`);if(d(this.getAttribute("aria-label"))&&d(this.getAttribute("aria-labelledby")))throw new TypeError(`<${h}> should be labelled by either the 'aria-label' or 'aria-labelledby'-attribute`);let n=this.getAttribute("role")==="alertdialog"||this.getAttribute("type")==="alert";if(n&&d(this.getAttribute("aria-describedby")))throw new TypeError(`<${h}> for alerts should be described by the 'aria-describedby'-attribute`);let i=Array.from(this.querySelectorAll(`[${St}]`));if(!i.some(s=>s instanceof HTMLButtonElement))throw new TypeError(`<${h}> must have a <button>-element with the attribute '${St}'`);let r=this.querySelector(`:scope > [${h}-content]`);if(!(r instanceof HTMLElement))throw new TypeError(`<${h}> must have an element with the attribute '${h}-content'`);let o=this.querySelector(`:scope > [${h}-overlay]`);if(!(o instanceof HTMLElement))throw new TypeError(`<${h}> must have an element with the attribute '${h}-overlay'`);Ht.set(this,this.parentElement),r.tabIndex=-1,o.setAttribute("aria-hidden",!0),this.setAttribute("role",n?"alertdialog":"dialog"),this.setAttribute("aria-modal",!0),this.setAttribute(g,""),this.addEventListener("keydown",ve.bind(this),a());for(let s of i){let l=s===o;n&&l||s.addEventListener("click",()=>G(l?"cancel":"beforeclose",this,s),a())}}hide(){this.open=!1}show(){this.open=!0}};customElements.define(h,q);var ke=new MutationObserver(t=>{for(let e of t)e.type==="attributes"&&e.target instanceof HTMLButtonElement&&Ct(e.target)});ke.observe(document,{attributeFilter:[J],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});setTimeout(()=>{let t=Array.from(document.querySelectorAll(`[${J}]`));for(let e of t)Ct(e)},0);var $="palmer-disclosure",Q=new WeakSet,$e=0;function Ae(t,e,n){Q.add(t),n?t.setAttribute("open",""):t.removeAttribute("open"),e.setAttribute("aria-expanded",n)}function k(t,e){if(t.open===e||Q.has(t)){Q.delete(t);return}let n=L(e);t.dispatchEvent(new CustomEvent("beforetoggle",{detail:n,cancelable:!0}))&&(Ae(t,t.button,e),t.content.hidden=!e,t.dispatchEvent(new CustomEvent("toggle",{detail:n})))}var D=class extends HTMLElement{get open(){let e=this.getAttribute("open");return!(e===null||e==="false")}set open(e){typeof e=="boolean"&&k(this,e)}constructor(){super();let e=this.querySelector(`[${$}-button]`),n=this.querySelector(`[${$}-content]`);if(!(e instanceof HTMLButtonElement))throw new TypeError(`<${$}> needs a <button>-element with the attribute '${$}-button'`);if(!(n instanceof HTMLElement))throw new TypeError(`<${$}> needs an element with the attribute '${$}-content'`);this.button=e,this.content=n,e.hidden=!1,n.hidden=!0;let{id:i}=n;d(i)&&(i=`palmer_disclosure_${++$e}`),e.setAttribute("aria-controls",i),e.setAttribute("aria-expanded",!1),n.id=i,e.addEventListener("click",r=>k(this,!this.open),a()),this.open&&(n.hidden=!1,k(this,!0))}attributeChangedCallback(e,n,i){e==="open"&&k(this,!(i===null||i==="false"))}hide(){k(this,!1)}show(){k(this,!0)}toggle(){k(this,!this.open)}};D.observedAttributes=["open"];customElements.define($,D);var Ot=["above","above-left","above-right","below","below-left","below-right","horizontal","horizontal-bottom","horizontal-top","left","left-bottom","left-top","right","right-bottom","right-top","vertical","vertical-left","vertical-right"],xe=/^(above|below|vertical)$/i,Te=/^(horizontal|left|right)$/i,Me=["bottom","height","left","right","top","width"],Kt=/^horizontal/i,qt=/^vertical/i;function Le(t){let{end:e,max:n,offset:i,preferMin:r,start:o}=t,s=e+i,l=o-i;return r?l>=0?l:s<=n?e:l:s<=n?e:l>=0?l:e}function Se(t,e,n){let{left:i,top:r}=n;return Kt.test(t)?t.replace("horizontal",e.right-1<i&&i<e.right+1?"right":"left"):qt.test(t)?t.replace("vertical",e.bottom-1<r&&r<e.bottom+1?"below":"above"):t}function He(t,e,n,i){let{anchor:r,floater:o}=n;if((t?xe:Te).test(e)){let s=(t?r.width:r.height)/2,l=(t?o.width:o.height)/2;return(t?r.left:r.top)+s-l}if((t?Kt:qt).test(e))return Le({preferMin:i,end:t?r.right:r.bottom,max:t?innerWidth:innerHeight,offset:t?o.width:o.height,start:t?r.left:r.top})}function Ce(t,e){if(t===null)return e;let n=t.trim().toLowerCase(),i=Ot.indexOf(n);return i>-1?Ot[i]??e:e}function Nt(t,e,n,i){let{anchor:r,floater:o}=n;if((t?/^right/i:/top$/i).test(e))return t?r.right:r.top;if((t?/^left/i:/bottom$/i).test(e))return(t?r.left:r.bottom)-(t?o.width:o.height);if((t?/right$/i:/^above/i).test(e))return(t?r.right:r.top)-(t?o.width:o.height);let s=He(t,e,n,i);return s!==void 0?s:t?r.left:r.bottom}function F(t){let{anchor:e,floater:n,parent:i}=t.elements,{attribute:r,defaultValue:o,preferAbove:s}=t.position,l=Ce((i??e).getAttribute(r)??"",o),u=vt(n)==="rtl",M;function Ft(){e.after(n)}function Wt(Rt){let C=e.getBoundingClientRect();if(Rt>10&&Me.every(rt=>M?.[rt]===C[rt]))return;M=C;let nt={anchor:C,floater:n.getBoundingClientRect()},P={left:Nt(!0,l,nt,u),top:Nt(!1,l,nt,s)},it=`matrix(1, 0, 0, 1, ${P.left}, ${P.top})`;n.style.transform!==it&&(n.setAttribute("position",Se(l,C,P)),n.style.position="fixed",n.style.inset="0 auto auto 0",n.style.transform=it)}return document.body.append(n),n.hidden=!1,new N(Wt,0,Number.POSITIVE_INFINITY,Ft).start()}var Ie=/^\s|enter$/i,m="palmer-popover",Dt=new WeakMap,Oe=0;function Ne(t,e){Ke(t,e),w(()=>{(e?x(t.content)?.[0]??t.content:t.button)?.focus()},0),t.dispatchEvent(new CustomEvent("toggle",{detail:L(e)}))}function Ke(t,e){let n=Dt.get(t);if(n===void 0)return;let i=e?"addEventListener":"removeEventListener";document[i](f.begin,n.pointer,a()),document[i]("keydown",n.keydown,a())}function T(t,e){let n=typeof e=="boolean"?!e:t.open;t.dispatchEvent(new CustomEvent("beforetoggle",{cancelable:!0,detail:L(n)}))&&(t.button.setAttribute("aria-expanded",!n),t.timer?.stop(),n?t.content.hidden=!0:t.timer=F({elements:{anchor:t.button,floater:t.content,parent:t},position:{attribute:"position",defaultValue:"vertical",preferAbove:!1}}),Ne(t,!n))}function qe(t){(!(t instanceof KeyboardEvent)||Ie.test(t.key))&&T(this,!1)}function De(t){this.open&&t instanceof KeyboardEvent&&t.key==="Escape"&&T(this,!1)}function Fe(t){this.open&&E(t.target,e=>[this.button,this.content].includes(e))===void 0&&T(this,!1)}function We(){T(this)}function Re(t){t.button.addEventListener("click",We.bind(t),a());let e=Array.from(t.querySelectorAll(`[${m}-close]`));for(let n of e)n.addEventListener("click",qe.bind(t),a())}var Z=class extends HTMLElement{get open(){return this.button.getAttribute("aria-expanded")==="true"}set open(e){typeof e=="boolean"&&e!==this.open&&T(this,open)}constructor(){if(super(),E(this,m,!1))throw new TypeError(`<${m}>-elements must not be nested within each other`);let e=this.querySelector(`[${m}-button]`),n=this.querySelector(`[${m}-content]`);if(!(e instanceof HTMLButtonElement))throw new TypeError(`<${m}> must have a <button>-element with the attribute '${m}-button`);if(!(n instanceof HTMLElement))throw new TypeError(`<${m}> must have an element with the attribute '${m}-content'`);this.button=e,this.content=n,this.timer=void 0,n.hidden=!0,d(this.id)&&(this.id=`palmer_popover_${++Oe}`),d(e.id)&&(e.id=`${this.id}_button`),d(n.id)&&(n.id=`${this.id}_content`),e.setAttribute("aria-controls",n.id),e.setAttribute("aria-expanded",!1),e.setAttribute("aria-haspopup","dialog"),n.setAttribute("role","dialog"),n.setAttribute("aria-modal",!1),n.setAttribute(g,""),Dt.set(this,{keydown:De.bind(this),pointer:Fe.bind(this)}),Re(this)}hide(){this.open=!1}show(){this.open=!0}toggle(){T(this)}};customElements.define(m,Z);var Pe=/^arrow(down|left|right|up)$/i,ze=/^arrow(left|up)$/i,_e=/^arrow(left|right)$/i,b="palmer-splitter",Be=/^(arrow(down|left|right|up)|end|escape|home)$/i,Ve=new Set(["horizontal","vertical"]),Ue=/^arrow(up|down)$/i,v=new WeakMap,Ye=0;function Xe(t){t.key==="Escape"&&tt(this,!1)}function je(t){tt(t,!0)}function Ge(){tt(this,!1)}function Je(t){p&&t.preventDefault();let e=I(t);if(e===void 0)return;let n=this.getBoundingClientRect(),i=this.type==="horizontal"?(e.x-n.left)/n.width:(e.y-n.top)/n.height;H(this,{separator:this.separator,value:i*100})}function Qe(t,e){if(!Be.test(e.key)||(t.type==="horizontal"?Ue:_e).test(e.key))return;let{values:n}=v.get(t);if(n===void 0)return;let i;Pe.test(e.key)?i=Math.round(t.value+(ze.test(e.key)?-1:1)):e.key==="Escape"?(i=n.initial??n.original,n.initial=void 0):i=e.key==="End"?n.maximum:n.minimum,H(t,{value:i,values:n,separator:t.separator})}function Ze(t,e){let{key:n,separator:i,setFlex:r}=e,o=e.values??v.get(t)?.values,s=U(e.value);o===void 0||Number.isNaN(s)||s===o[n]||n==="maximum"&&s<o.minimum||n==="minimum"&&s>o.maximum||(n==="maximum"&&s>100?s=100:n==="minimum"&&s<0&&(s=0),o[e.key]=s,i.setAttribute(n==="maximum"?"aria-valuemax":"aria-valuemin",s),r&&(n==="maximum"&&s<o.current||n==="minimum"&&s>o.current)&&H(t,{separator:i,value:s,values:o}))}function tt(t,e){let n=v.get(t);if(n===void 0)return;e&&(n.values.initial=Number(n.values.current));let i=e?"addEventListener":"removeEventListener";document[i]("keydown",n.callbacks.keydown,a()),document[i](f.end,n.callbacks.pointerEnd,a()),document[i](f.move,n.callbacks.pointerMove,a(!p)),n.dragging=e,t.handle.style.userSelect=e?"none":null,t.handle.style.webkitUserSelect=e?"none":null}function H(t,e){let{separator:n}=e,i=e.values??v.get(t)?.values,r=U(e.value);i===void 0||Number.isNaN(r)||r===i.current||(r<i.minimum?r=i.minimum:r>i.maximum&&(r=i.maximum),(e.setOriginal??!1)&&(i.original=r),n.setAttribute("aria-valuenow",r),t.primary.style.flex=`${r/100}`,t.secondary.style.flex=`${(100-r)/100}`,i.current=r,t.dispatchEvent(new CustomEvent("change",{detail:r})))}function tn(t){let{handle:e}=t;e.hidden=!1,e.setAttribute("aria-hidden",!0),e.addEventListener(f.begin,()=>je(t),a())}function en(t){let{separator:e}=t;e.hidden=!1,e.tabIndex=0,e.setAttribute("role","separator"),e.setAttribute("aria-controls",t.primary.id),e.setAttribute("aria-valuemax",100),e.setAttribute("aria-valuemin",0),e.setAttribute("aria-valuenow",50),d(t.getAttribute("value"))&&H(t,{separator:e,value:50}),e.addEventListener("keydown",n=>Qe(t,n),a())}var W=class extends HTMLElement{get max(){return v.get(this)?.values.maximum}set max(e){this.setAttribute("max",e)}get min(){return v.get(this)?.values.minimum}set min(e){this.setAttribute("min",e)}get type(){let e=this.getAttribute("type")??"horizontal";return Ve.has(e)?e:"horizontal"}set type(e){this.setAttribute("type",e)}get value(){return v.get(this)?.values.current}set value(e){this.setAttribute("value",e)}constructor(){super();let e=Array.from(this.querySelectorAll(`:scope > [${b}-panel]`));if(e.length!==2||e.some(u=>!(u instanceof HTMLElement)))throw new TypeError(`<${b}> must have two direct child elements with the attribute '${b}-panel'`);let n=this.querySelector(`:scope > [${b}-separator]`),i=n?.querySelector(`:scope > [${b}-separator-handle]`);if([n,i].some(u=>!(u instanceof HTMLElement)))throw new TypeError(`<${b}> must have a separator element with the attribute '${b}-separator', and it must have a child element with the attribute '${b}-separator-handle'`);let r=e[0],o=e[1],s=Array.from(this.children);if(!(s.indexOf(r)<s.indexOf(n)&&s.indexOf(n)<s.indexOf(o)))throw new TypeError(`<${b}> must have elements with the order of: panel, separator, panel`);let l={callbacks:{keydown:Xe.bind(this),pointerEnd:Ge.bind(this),pointerMove:Je.bind(this)},dragging:!1,values:{current:-1,maximum:100,minimum:0,original:50}};v.set(this,l),this.primary=r,this.secondary=o,this.handle=i,this.separator=n,d(r.id)&&(r.id=`palmer_splitter_primary_panel_${++Ye}`),en(this),tn(this)}attributeChangedCallback(e,n,i){switch(e){case"max":case"min":{Ze(this,{key:e==="max"?"maximum":"minimum",separator:this.separator,setFlex:!0,value:i});break}case"value":{H(this,{separator:this.separator,setOriginal:!0,value:i});break}default:break}}};W.observedAttributes=["max","min","value"];customElements.define(b,W);var A="palmer-tooltip",nn=`${A}-position`,R=new WeakMap;function rn(t){let e=t.getAttribute("aria-describedby")??t.getAttribute("aria-labelledby"),n=e===null?null:document.querySelector(`#${e}`);if(n===null)throw new TypeError(`A '${A}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby'-attribute.`);return n.hidden=!0,n.setAttribute("aria-hidden",!0),n.setAttribute("role","tooltip"),n.setAttribute(`${A}-content`,""),n}function sn(t){R.has(t)||R.set(t,new et(t))}function on(t){let e=R.get(t);e!==void 0&&(e.handleCallbacks(!1),R.delete(t))}function an(t){for(let e of t)e.type==="attributes"&&(e.target.getAttribute(A)===null?on(e.target):sn(e.target))}var et=class{constructor(e){this.anchor=e,this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),keydown:this.onKeyDown.bind(this),show:this.onShow.bind(this)},this.focusable=$t(e),this.floater=rn(e),this.timer=void 0,this.handleCallbacks(!0)}onClick(e){E(e.target,n=>[this.anchor,this.floater].includes(n))===void 0&&this.toggle(!1)}onHide(){this.toggle(!1)}onKeyDown(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.toggle(!1)}onShow(){this.toggle(!0)}toggle(e){let n=e?document.addEventListener:document.removeEventListener;n("click",this.callbacks.click,a()),n("keydown",this.callbacks.keydown,a()),e?(this.timer?.stop(),this.timer=F({elements:{anchor:this.anchor,floater:this.floater},position:{attribute:nn,defaultValue:"vertical",preferAbove:!0}})):(this.floater.hidden=!0,this.timer?.stop())}handleCallbacks(e){let{anchor:n,floater:i,focusable:r}=this,o=e?document.addEventListener:document.removeEventListener;for(let s of[n,i])o.call(s,"mouseenter",this.callbacks.show,a()),o.call(s,"mouseleave",this.callbacks.hide,a()),o.call(s,"touchstart",this.callbacks.show,a());r&&(o.call(n,"blur",this.callbacks.hide,a()),o.call(n,"focus",this.callbacks.show,a()))}},ln=new MutationObserver(an);ln.observe(document,{attributeFilter:[A],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});w(()=>{let t=Array.from(document.querySelectorAll(`[${A}]`));for(let e of t)e.setAttribute(A,"")},0);})();
