var R=Object.defineProperty;var O=(r,e,t)=>e in r?R(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var y=(r,e,t)=>(O(r,typeof e!="symbol"?e+"":e,t),t);var h={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},C=["[href]","[tabindex]","button","input","select","textarea"].map(r=>`${r}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function m(r){return requestAnimationFrame?.(r)??setTimeout?.(()=>{r(Date.now())},16)}function A(r,e){let t=r?.parentElement;for(;t!=null;){if(t===document.body)return;if(e(t))break;t=t.parentElement}return t??void 0}function P(r){let e=[],t=Array.from(r.querySelectorAll(C));for(let i of t){let n=window?.getComputedStyle?.(i);(n==null||n.display!=="none"&&n.visibility!=="hidden")&&e.push(i)}return e}function D(){return URL.createObjectURL(new Blob).replace(/^.*\/([\w-]+)$/,"$1").replace(/-/g,"_")}var d=class{static getChildren(e){return Array.from(e.querySelectorAll(":scope > delicious-details > details, :scope > details"))}static onKeydown(e){if(e.isComposing||e.key!=="ArrowDown"&&e.key!=="ArrowUp"||!(this instanceof H))return;let{target:t}=e;if(!(t instanceof HTMLElement))return;let i=u.list.children.get(this)??[],n=t.parentElement,s=i.indexOf(n);if(s===-1)return;let o=s+(e.key==="ArrowDown"?1:-1);o<0?o=i.length-1:o>=i.length&&(o=0),i[o]?.querySelector(":scope > summary")?.focus()}static onKeyup(e){if(e.key!=="Escape")return;let{containers:t}=u.details,i=A(document.activeElement,n=>t.has(n)&&(t.get(n)?.open??!0));i instanceof M&&d.onToggle.call(i,!1)}static onToggle(e){if(!(this instanceof M))return;let{buttons:t,containers:i}=u.details,n=i.get(this);n!=null&&(n.open=e??!n.open,n.open||t.get(this)?.focus())}static open(e,t){if(t==null)return;if(t.length>0&&!/^[\s\d,]+$/.test(t))throw new Error("The 'selected'-attribute of a 'delicious-details-list'-element must be a comma-separated string of numbers, e.g. '', '0' or '0,1,2'");let i=t.length>0?t.split(",").filter(n=>n.trim().length>0).map(n=>Number.parseInt(n,10)):[];d.update(e,i)}static update(e,t){if(typeof t>"u")return;let{children:i,observer:n,open:s}=u.list,o=t.filter((a,c,p)=>p.indexOf(a)===c).sort((a,c)=>a-c);if(e.multiple||(o=o.length>0&&o[0]!=null?o.length>1?[o[0]]:o:[]),o.every((a,c)=>e.open[c]===a))return;n.get(e)?.disconnect();let l=i.get(e)??[];for(let a of l)o.includes(l.indexOf(a))!==a.open&&(a.open=!a.open);s.set(e,o),m(()=>{o.length===0?e.removeAttribute("open"):e.setAttribute("open",o.join(",")),m(()=>n.get(e)?.observe(e,k.options))})}},k=class{static callback(e,t){if(t.length===0)return;let{children:i}=u.list,n=t[0],s=Array.from(n?.addedNodes??[]),o=Array.from(n?.removedNodes??[]);if(s.concat(o).some(v=>v.parentElement===e)){i.set(e,d.getChildren(e));return}if(n?.type!=="attributes"||!(n?.target instanceof HTMLDetailsElement))return;let l=n.target,c=(i.get(e)??[]).indexOf(l);if(c===-1)return;let p=[];e.multiple?p=l.open?e.open.concat([c]):e.open.filter(v=>v!==c):p=l.open?[c]:[],d.update(e,p)}};y(k,"options",{attributeFilter:["open"],attributes:!0,childList:!0,subtree:!0});var u=class{};y(u,"details",{buttons:new WeakMap,containers:new WeakMap}),y(u,"list",{children:new WeakMap,observer:new WeakMap,open:new WeakMap});var M=class extends HTMLElement{close(){d.onToggle.call(this,!1)}connectedCallback(){let e=this.querySelector(":scope > details"),t=e?.querySelector(":scope > summary");u.details.buttons.set(this,t),u.details.containers.set(this,e)}disconnectedCallback(){u.details.buttons.delete(this),u.details.containers.delete(this)}open(){d.onToggle.call(this,!0)}toggle(){d.onToggle.call(this)}},H=class extends HTMLElement{static get observedAttributes(){return["multiple","open"]}get multiple(){return this.getAttribute("multiple")!=null}set multiple(e){e?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get open(){return u.list.open.get(this)??[]}set open(e){d.update(this,e)}attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"multiple":d.open(this,this.getAttribute("open")??void 0);break;case"open":d.open(this,i);break;default:break}}connectedCallback(){let{children:e,observer:t,open:i}=u.list;e.set(this,d.getChildren(this)),i.set(this,[]),t.set(this,new MutationObserver(n=>{k.callback(this,n)})),t.get(this)?.observe(this,k.options),this.addEventListener("keydown",d.onKeydown.bind(this),h.passive),d.open(this,this.getAttribute("open")??void 0)}disconnectedCallback(){let{children:e,observer:t,open:i}=u.list;e.delete(this),t.get(this)?.disconnect(),t.delete(this),i.delete(this)}};addEventListener?.("keyup",d.onKeyup,h.passive);customElements?.define("delicious-details",M);customElements?.define("delicious-details-list",H);var g=class{static update(e,t,i,n){let{anchor:s,floater:o,parent:l}=e;function a(){if(n())return;let c=g.getType(l??s,t),p=i(c,{anchor:s.getBoundingClientRect(),floater:o.getBoundingClientRect(),parent:l?.getBoundingClientRect()});g.setPosition(o,p),m(a)}m(a)}static getType(e,t){let n=e.getAttribute("position")?.trim().toLowerCase();return n!=null&&t.all.includes(n)?n:t.default}static setPosition(e,t){let{left:i,top:n}=t.coordinate;e.setAttribute("position",t.type),e.style.inset="0 auto auto 0",e.style.position="fixed",e.style.transform=`translate3d(${i}px, ${n}px, 0)`,e.hidden&&m(()=>{e.hidden=!1})}};var W=["any"].concat(...["above","below"].map(r=>[r,`${r}-left`,`${r}-right`])),f=class{static getPosition(e,t){let i=f.getValue(e,["left","right"],t,!0),n=f.getValue(e,["below","above"],t,!1);return e!=="any"?{coordinate:{left:i,top:n},type:["above","below"].includes(e)?`??? ${e}-${t.anchor.left===i?"left":"right"}`:e}:{coordinate:{left:i,top:n},type:"???"}}static getValue(e,t,i,n){let{anchor:s,floater:o}=i,l=n?o.width:o.height,a=n?s.left:s.bottom,c=(n?s.right:s.top)-l;return t.some(v=>e.includes(v))?e.includes(t[0]??"_")?a:c:a+l<=(n?window.innerWidth:window.innerHeight)||c<0?a:c}static onClick(e){if(!(this instanceof w))return;let{anchor:t,floater:i}=b.getElements(this);t==null||i==null||t.getAttribute("aria-expanded")!=="true"||e.target!==t&&e.target!==i&&!(i?.contains(e.target)??!1)&&f.toggle.call(this,!1)}static onKeydown(e){if(!(this instanceof w)||!(e instanceof KeyboardEvent))return;let{anchor:t,floater:i}=b.getElements(this);if(t==null||i==null||t.getAttribute("aria-expanded")!=="true"||(e.key==="Escape"&&f.toggle.call(this,!1),e.key!=="Tab"))return;e.preventDefault();let n=P(i);if(document.activeElement===i){m(()=>{(n[e.shiftKey?n.length-1:0]??i).focus()});return}let s=n.indexOf(document.activeElement),o=i;if(s>-1){let l=s+(e.shiftKey?-1:1);l<0?l=n.length-1:l>=n.length&&(l=0),o=n[l]??i}m(()=>{o.focus()})}static toggle(e){if(!(this instanceof w))return;let{anchor:t,floater:i}=b.getElements(this);if(t==null||i==null)return;let n=typeof e=="boolean"?!e:t.getAttribute("aria-expanded")==="true",{click:s,keydown:o}=b.getCallbacks(this),l=n?"removeEventListener":"addEventListener";s!=null&&document[l]("click",s,h.passive),o!=null&&document[l]("keydown",o,h.active),n?i.parentElement?.removeChild(i):document.body.appendChild(i),t.setAttribute("aria-expanded",String(!n)),(n?t:P(i)[0]??i).focus(),g.update({anchor:t,floater:i,parent:this},{all:W,default:"below"},f.getPosition,()=>t.getAttribute("aria-expanded")!=="true")}},b=class{static getCallbacks(e){return{click:this.values.click.get(e),keydown:this.values.keydown.get(e)}}static getElements(e){return{anchor:this.values.anchors.get(e),floater:this.values.floaters.get(e)}}static remove(e){this.values.anchors.delete(e),this.values.click.delete(e),this.values.floaters.delete(e),this.values.keydown.delete(e)}static setCallbacks(e){this.values.click?.set(e,f.onClick.bind(e)),this.values.keydown?.set(e,f.onKeydown.bind(e))}static setElements(e,t,i){this.values.anchors?.set(e,t),this.values.floaters?.set(e,i)}};y(b,"values",{anchors:new WeakMap,click:new WeakMap,floaters:new WeakMap,keydown:new WeakMap});var w=class extends HTMLElement{get content(){return b.getElements(this).floater}close(){f.toggle.call(this,!1)}connectedCallback(){let e=this.querySelector(":scope > [polite-popover-button]"),t=this.querySelector(":scope > [polite-popover-content]");if(e==null)throw new Error("a");if(!(e instanceof HTMLButtonElement)&&e.getAttribute("role")!=="button")throw new Error("b");if(t==null)throw new Error("c");t.parentElement?.removeChild(t),t.hidden=!0,t.id||t.setAttribute("id",D()),e.setAttribute("aria-controls",t.id),e.setAttribute("aria-expanded","false"),t.setAttribute("tabindex","-1"),b.setElements(this,e,t),b.setCallbacks(this),e.addEventListener("click",f.toggle.bind(this),h.passive)}disconnectedCallback(){b.remove(this)}open(){f.toggle.call(this,!0)}toggle(){f.toggle.call(this)}};customElements?.define("polite-popover",w);var T="toasty-tooltip",x=new WeakMap,V=["above","below","horizontal","left","right","vertical"],E=class{static getPosition(e,t){let i=E.getValue(e,["horizontal","left","right"],t,!0),n=E.getValue(e,["vertical","above","below"],t,!1);return["horizontal","vertical"].includes(e)?{coordinate:{left:i,top:n},type:e==="horizontal"?i===t.anchor.right?"right":"left":n===t.anchor.bottom?"below":"above"}:{coordinate:{left:i,top:n},type:e}}static getValue(e,t,i,n){let{anchor:s,floater:o}=i,l=n?s.right:s.bottom,a=n?s.left:s.top,c=n?o.width:o.height,p=t.indexOf(e);if(p===-1)return a+(n?s.width:s.height)/2-c/2;let v=a-c;return p>0?p===1?v:l:l+c<=(n?window.innerWidth:window.innerHeight)||v<0?l:v}static observer(e){for(let t of e){if(t.type!=="attributes")continue;let i=t.target;i.getAttribute(T)==null?L.destroy(i):L.create(i)}}},L=class{constructor(e){this.anchor=e;this.focusable=e.matches(C),this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),key:this.onKey.bind(this),show:this.onShow.bind(this)},this.floater=this.createFloater(),this.handleCallbacks(!0)}floater;callbacks;focusable;static create(e){x.has(e)||x.set(e,new L(e))}static destroy(e){let t=x.get(e);t!=null&&(t.handleCallbacks(!1),x.delete(e))}onClick(){this.handleFloater(!1)}onHide(){this.handleFloater(!1)}onKey(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.handleFloater(!1)}onShow(){let{anchor:e,floater:t}=this;if(t.parentElement!=null)return;let i=this.getContent();i!=null&&(t.innerHTML=i.innerHTML,this.handleFloater(!0),g.update({anchor:e,floater:t},{all:V,default:"above"},E.getPosition,()=>t.parentElement==null))}createFloater(){let e=document.createElement("div");return e.setAttribute("aria-hidden","true"),e.setAttribute(`${T}-content`,""),e.hidden=!0,e}getContent(){let e=this.anchor.getAttribute("aria-describedby")??this.anchor.getAttribute("aria-labelledby");if(e!=null)return document.getElementById(e)??void 0}handleCallbacks(e){let{anchor:t,callbacks:i,focusable:n}=this,s=e?"addEventListener":"removeEventListener";t[s]("mouseenter",i.show,h.passive),t[s]("mouseleave",i.hide,h.passive),t[s]("touchstart",i.show,h.passive),n&&(t[s]("blur",i.hide,h.passive),t[s]("focus",i.show,h.passive))}handleFloater(e){let{callbacks:t,floater:i}=this,n=e?"addEventListener":"removeEventListener";document[n]("keydown",t.key,h.passive),document[n]("pointerdown",t.click,h.passive),e?document.body.appendChild(i):this.floater.parentElement?.removeChild(this.floater)}},K=new MutationObserver(E.observer);K.observe(document,{attributeFilter:[T],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});m(()=>{let r=Array.from(document.querySelectorAll(`[${T}]`));for(let e of r)e.setAttribute(T,"")});
