var G=Object.defineProperty;var U=(l,e,t)=>e in l?G(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var x=(l,e,t)=>(U(l,typeof e!="symbol"?e+"":e,t),t);var d={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},I=["[href]","[tabindex]","button","input","select","textarea"].map(l=>`${l}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function f(l){return globalThis.requestAnimationFrame?.(l)??globalThis.setTimeout?.(()=>{l(Date.now())},16)}function A(l,e){let t=typeof e=="string";if(t?l.matches(e):e(l))return l;let i=l?.parentElement;for(;i!=null;){if(i===document.body)return;if(t?i.matches(e):e(i))break;i=i.parentElement}return i??void 0}function L(l,e,t){let i=l.getAttribute(e);return i==null||i.trim().length===0?t:i}function V(l){let e=[],t=Array.from(l.querySelectorAll(I));for(let i of t){let s=globalThis.getComputedStyle?.(i);(s==null||s.display!=="none"&&s.visibility!=="hidden")&&e.push(i)}return e}function B(l){return l==null?!0:l.trim().length===0}function P(l,e){return l.replace(/\{\{(\w+)\}\}/g,(t,...i)=>i==null||i.length===0?t:String(e?.[i[0]]??t))}function p(l,e,t){t==null?l.removeAttribute(e):l.setAttribute(e,String(t))}function y(l,e,t){typeof t=="boolean"&&l?.setAttribute(e,String(t))}var c=class{static destroyList(e){let{children:t,observer:i,open:s}=h.list;t.delete(e),s.delete(e),i.get(e)?.disconnect(),i.delete(e)}static getChildren(e){return Array.from(e.querySelectorAll(":scope > delicious-details > details, :scope > details"))}static initializeList(e){let{children:t,observer:i,open:s}=h.list;t.set(e,c.getChildren(e)),s.set(e,[]),i.set(e,new MutationObserver(n=>{D.callback(e,n)})),i.get(e)?.observe(e,D.options),c.open(e,L(e,"open",""))}static onGlobalKeydown(e){if(e.key!=="Escape")return;let{containers:t}=h.details,i=A(document.activeElement,s=>t.has(s)&&(t.get(s)?.open??!0));i instanceof R&&c.onToggle.call(i,!1)}static onLocalKeydown(e){if(e.isComposing||e.key!=="ArrowDown"&&e.key!=="ArrowUp"||!(this instanceof q))return;let{target:t}=e;if(!(t instanceof HTMLElement))return;let i=h.list.children.get(this)??[],s=t.parentElement,n=i.indexOf(s);if(n===-1)return;let o=n+(e.key==="ArrowDown"?1:-1);o<0?o=i.length-1:o>=i.length&&(o=0),i[o]?.querySelector(":scope > summary")?.focus()}static onToggle(e){if(!(this instanceof R))return;let{buttons:t,containers:i}=h.details,s=i.get(this);s!=null&&(s.open=e??!s.open,s.open||t.get(this)?.focus())}static open(e,t){if(t==null){c.update(e,[]);return}if(t.length>0&&!/^[\s\d,]+$/.test(t))throw new Error("The 'selected'-attribute of a 'delicious-details-list'-element must be a comma-separated string of numbers, e.g. '', '0' or '0,1,2'");let i=t.length>0?t.split(",").filter(s=>s.trim().length>0).map(s=>Number.parseInt(s,10)):[];c.update(e,i)}static update(e,t){if(typeof t>"u")return;let{children:i,observer:s,open:n}=h.list,o=t.filter((a,u,g)=>g.indexOf(a)===u).sort((a,u)=>a-u);e.multiple||(o=o.length>0&&o[0]!=null?o.length>1?[o[0]]:o:[]);let r=e.open;if(o.length===r.length&&o.every((a,u)=>r[u]===a))return;s.get(e)?.disconnect();let v=i.get(e)??[];for(let a of v)o.includes(v.indexOf(a))!==a.open&&(a.open=!a.open);f(()=>{n.set(e,o),p(e,"open",o.length===0?null:o),e.dispatchEvent(new Event("toggle")),f(()=>s.get(e)?.observe(e,D.options))})}},D=class{static callback(e,t){if(t.length===0)return;let{children:i}=h.list,s=t[0],n=Array.from(s?.addedNodes??[]),o=Array.from(s?.removedNodes??[]);if(n.concat(o).some(g=>g.parentElement===e)){i.set(e,c.getChildren(e));return}if(s?.type!=="attributes"||!(s?.target instanceof HTMLDetailsElement))return;let r=s.target,a=(i.get(e)??[]).indexOf(r);if(a===-1)return;let u=[];e.multiple?u=r.open?e.open.concat([a]):e.open.filter(g=>g!==a):u=r.open?[a]:[],c.update(e,u)}};x(D,"options",{attributeFilter:["open"],attributes:!0,childList:!0,subtree:!0});var h=class{};x(h,"details",{buttons:new WeakMap,containers:new WeakMap}),x(h,"list",{children:new WeakMap,observer:new WeakMap,open:new WeakMap});var R=class extends HTMLElement{get open(){return h.details.containers.get(this)?.open??!1}set open(e){c.onToggle.call(this,e)}connectedCallback(){let e=this.querySelector(":scope > details"),t=e?.querySelector(":scope > summary");h.details.buttons.set(this,t),h.details.containers.set(this,e)}disconnectedCallback(){h.details.buttons.delete(this),h.details.containers.delete(this)}toggle(){c.onToggle.call(this)}},q=class extends HTMLElement{static get observedAttributes(){return["multiple","open"]}get multiple(){return this.getAttribute("multiple")!=null}set multiple(e){p(this,"multiple",e?"":null)}get open(){return h.list.open.get(this)??[]}set open(e){c.update(this,e)}constructor(){super(),this.addEventListener("keydown",c.onLocalKeydown.bind(this),d.passive)}attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"multiple":c.open(this,L(this,"open",""));break;case"open":c.open(this,i);break;default:break}}connectedCallback(){c.initializeList(this)}disconnectedCallback(){c.destroyList(this)}};globalThis.addEventListener("keydown",c.onGlobalKeydown,d.passive);globalThis.customElements.define("delicious-details",R);globalThis.customElements.define("delicious-details-list",q);var T="formal-focus-trap",F=new WeakMap,C=class{static observer(e){for(let t of e){if(t.type!=="attributes")continue;let i=t.target;i.getAttribute(T)==null?O.destroy(i):O.create(i)}}static onKeydown(e){if(e.key!=="Tab")return;let t=e.target,i=A(t,`[${T}]`);i!=null&&(e.preventDefault(),e.stopImmediatePropagation(),C.handle(e,i,t))}static handle(e,t,i){let s=V(t);if(i===t){f(()=>{(s[e.shiftKey?s.length-1:0]??t).focus()});return}let n=s.indexOf(i),o=t;if(n>-1){let r=n+(e.shiftKey?-1:1);r<0?r=s.length-1:r>=s.length&&(r=0),o=s[r]??t}f(()=>{o.focus()})}},O=class{tabIndex;constructor(e){this.tabIndex=e.tabIndex,p(e,"tabindex","-1")}static create(e){F.has(e)||F.set(e,new O(e))}static destroy(e){let t=F.get(e);t!=null&&(p(e,"tabindex",t.tabIndex),F.delete(e))}};(()=>{if(typeof globalThis._formalFocusTrap<"u")return;globalThis._formalFocusTrap=null,new MutationObserver(C.observer).observe(document,{attributeFilter:[T],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0}),f(()=>{let e=Array.from(document.querySelectorAll(`[${T}]`));for(let t of e)t.setAttribute(T,"")}),document.addEventListener("keydown",C.onKeydown,d.active)})();var k=class{static update(e,t,i){let{anchor:s,floater:n,parent:o}=e,{after:r,getPosition:v,validate:a}=i;function u(){if(!a())return;let g=k.getType(o??s,t),N=v(g,{anchor:s.getBoundingClientRect(),floater:n.getBoundingClientRect(),parent:o?.getBoundingClientRect()});k.setPosition(n,N),r?.(),f(u)}f(u)}static getType(e,t){let i=L(e,"position",t.default);return t.all.includes(i)?i:t.default}static setPosition(e,t){let{left:i,top:s}=t.coordinate;e.getAttribute("position")!==t.type&&e.setAttribute("position",t.type);let n=`matrix(1, 0, 0, 1, ${i}, ${s})`;e.style.transform!==n&&(e.style.inset="0 auto auto 0",e.style.position="fixed",e.style.transform=n,e.hidden&&f(()=>{e.hidden=!1}))}};var J=0,Q=["any"].concat(...["above","below"].map(l=>[l,`${l}-left`,`${l}-right`])),b=class{static getPosition(e,t){let i=b.getValue(e,["left","right"],t,!0),s=b.getValue(e,["below","above"],t,!1),n=t.anchor.left===i?"left":"right";if(e!=="any")return{coordinate:{left:i,top:s},type:["above","below"].includes(e)?`${e}-${n}`:e};let o=t.anchor.bottom===s?"below":"above";return{coordinate:{left:i,top:s},type:`${o}-${n}`}}static getValue(e,t,i,s){let{anchor:n,floater:o}=i,r=s?o.width:o.height,v=s?n.left:n.bottom,a=(s?n.right:n.top)-r;return t.some(g=>e.includes(g))?e.includes(t[0]??"_")?v:a:v+r<=(s?globalThis.innerWidth:globalThis.innerHeight)||a<0?v:a}static initialize(e,t,i){i.hidden=!0,B(i.id)&&p(i,"id",B(e.id)?`polite_popover_${J++}`:`${e.id}_content`),p(t,"aria-controls",i.id),y(t,"aria-expanded",!1),p(i,"role","dialog"),p(i,T,""),y(i,"aria-modal",!0),t.addEventListener("click",b.toggle.bind(e),d.passive)}static onClick(e){if(!(this instanceof S)||!this.open)return;let t=m.values.anchors.get(this),i=m.values.floaters.get(this);e.target!==t&&e.target!==i&&!(i?.contains(e.target)??!1)&&b.toggle.call(this,!1)}static onKeydown(e){this instanceof S&&this.open&&e instanceof KeyboardEvent&&e.key==="Escape"&&b.toggle.call(this,!1)}static toggle(e){if(!(this instanceof S))return;let t=m.values.anchors.get(this),i=m.values.floaters.get(this);t!=null&&i!=null&&b.handleToggle(this,t,i,e)}static handleCallbacks(e,t){let i=m.values.click.get(e),s=m.values.keydown.get(e),n=t?"addEventListener":"removeEventListener";i!=null&&document[n]("click",i,d.passive),s!=null&&document[n]("keydown",s,d.active)}static handleToggle(e,t,i,s){let n=typeof s=="boolean"?!s:e.open;if(b.handleCallbacks(e,!n),i.hidden=n,y(t,"aria-expanded",!n),e.dispatchEvent(new Event("toggle")),n){t.focus();return}let o=!1;k.update({anchor:t,floater:i,parent:e},{all:Q,default:"below"},{after(){o||(o=!0,f(()=>{(V(i)[0]??i).focus()}))},getPosition:b.getPosition,validate:()=>e.open})}},E=class{static add(e){let t=e.querySelector(":scope > [polite-popover-button]"),i=e.querySelector(":scope > [polite-popover-content]");t==null||i==null||(E.values.anchors?.set(e,t),E.values.floaters?.set(e,i),E.values.click?.set(e,b.onClick.bind(e)),E.values.keydown?.set(e,b.onKeydown.bind(e)))}static remove(e){let t=E.values.floaters.get(e);t!=null&&(t.hidden=!0,e.appendChild(t)),E.values.anchors.delete(e),E.values.floaters.delete(e),E.values.click.delete(e),E.values.keydown.delete(e)}},m=E;x(m,"values",{anchors:new WeakMap,click:new WeakMap,floaters:new WeakMap,keydown:new WeakMap});var S=class extends HTMLElement{get button(){return m.values.anchors.get(this)}get content(){return m.values.floaters.get(this)}get open(){return this.button?.getAttribute("aria-expanded")==="true"}set open(e){b.toggle.call(this,e)}constructor(){super();let e=this.querySelector(":scope > [polite-popover-button]"),t=this.querySelector(":scope > [polite-popover-content]");if(e==null||!(e instanceof HTMLButtonElement||e instanceof HTMLElement&&e.getAttribute("role")==="button"))throw new Error("<polite-popover> must have a <button>-element (or button-like element) with the attribute 'polite-popover-button'");if(t==null||!(t instanceof HTMLElement))throw new Error("<polite-popover> must have an element with the attribute 'polite-popover-content'");b.initialize(this,e,t)}connectedCallback(){m.add(this)}disconnectedCallback(){m.remove(this)}toggle(){b.toggle.call(this)}};globalThis.customElements.define("polite-popover",S);var K={full:"{{label}}{{indicator}}{{status}}",indicator:'<div class="swanky-switch__indicator" aria-hidden="true"><span class="swanky-switch__indicator__value"></span></div>',label:'<div id="{{id}}" class="swanky-switch__label">{{html}}</div>',status:{item:'<span class="swanky-switch__status__{{type}}">{{html}}</span>',wrapper:'<div class="swanky-switch__status" aria-hidden="true">{{off}}{{on}}</div>'}},w=class{static addListeners(e){e.addEventListener("click",w.onToggle.bind(e),d.passive),e.addEventListener("keydown",w.onKey.bind(e),d.passive)}static initialize(e,t,i){t.parentElement?.removeChild(t),i.parentElement?.removeChild(i),y(e,"aria-checked",i.checked||e.checked),y(e,"aria-disabled",i.disabled||e.disabled),y(e,"aria-readonly",i.readOnly||e.readOnly),e.setAttribute("aria-labelledby",`${i.id}_label`),e.setAttribute("id",i.id),e.setAttribute("name",i.name??i.id),e.setAttribute("role","switch"),e.setAttribute("tabindex","0"),e.setAttribute("value",i.value);let s=L(e,"swanky-switch-off","Off"),n=L(e,"swanky-switch-on","On");e.insertAdjacentHTML("afterbegin",w.render(i.id,t,s,n)),w.addListeners(e)}static onKey(e){(e.key===" "||e.key==="Enter")&&this instanceof W&&w.toggle(this)}static onToggle(){this instanceof W&&w.toggle(this)}static render(e,t,i,s){return P(K.full,{indicator:K.indicator,label:P(K.label,{html:t.innerHTML,id:`${e}_label`}),status:P(K.status.wrapper,{off:P(K.status.item,{html:i,type:"off"}),on:P(K.status.item,{html:s,type:"on"})})})}static toggle(e){e.disabled||e.readOnly||(e.checked=!e.checked,e.dispatchEvent(new Event("change")))}},W=class extends HTMLElement{get checked(){return this.getAttribute("aria-checked")==="true"}set checked(e){y(this,"aria-checked",e)}get disabled(){return this.getAttribute("aria-disabled")==="true"}set disabled(e){y(this,"aria-disabled",e)}get readOnly(){return this.getAttribute("aria-readonly")==="true"}set readOnly(e){y(this,"aria-readonly",e)}get value(){return this.checked?"on":"off"}constructor(){if(super(),this.querySelector(".swanky-switch__label")!=null){w.addListeners(this);return}let e=this.querySelector("[swanky-switch-input]"),t=this.querySelector("[swanky-switch-label]");if(typeof e>"u"||!(e instanceof HTMLInputElement)||e.type!=="checkbox")throw new Error("<swanky-switch> must have an <input>-element with type 'checkbox' and the attribute 'swanky-switch-input'");if(typeof t>"u"||!(t instanceof HTMLElement))throw new Error("<swanky-switch> must have a <label>-element with the attribute 'swanky-switch-label'");w.initialize(this,t,e)}};globalThis.customElements.define("swanky-switch",W);var $="toasty-tooltip",j=`${$}-content`,z=new WeakMap,X=["above","below","horizontal","left","right","vertical"],H=class{static getPosition(e,t){let i=H.getValue(e,["horizontal","left","right"],t,!0),s=H.getValue(e,["vertical","above","below"],t,!1);return["horizontal","vertical"].includes(e)?{coordinate:{left:i,top:s},type:e==="horizontal"?i===t.anchor.right?"right":"left":s===t.anchor.bottom?"below":"above"}:{coordinate:{left:i,top:s},type:e}}static getValue(e,t,i,s){let{anchor:n,floater:o}=i,r=s?n.right:n.bottom,v=s?n.left:n.top,a=s?o.width:o.height,u=t.indexOf(e);if(u===-1)return v+(s?n.width:n.height)/2-a/2;let g=v-a;return u>0?u===1?g:r:r+a<=(s?globalThis.innerWidth:globalThis.innerHeight)||g<0?r:g}static observer(e){for(let t of e){if(t.type!=="attributes")continue;let i=t.target;i.getAttribute($)==null?M.destroy(i):M.create(i)}}},M=class{constructor(e){this.anchor=e;this.floater=M.getFloater(e),this.focusable=e.matches(I),this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),key:this.onKey.bind(this),show:this.onShow.bind(this)},this.handleCallbacks(!0)}floater;callbacks;focusable;static create(e){z.has(e)||z.set(e,new M(e))}static destroy(e){let t=z.get(e);typeof t>"u"||(t.handleCallbacks(!1),z.delete(e))}static getFloater(e){let t=e.getAttribute("aria-describedby")??e.getAttribute("aria-labelledby"),i=t==null?null:document.getElementById(t);if(i==null)throw new Error(`A '${$}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby' attribute.`);return i.hidden=!0,p(i,j,""),p(i,"role","tooltip"),y(i,"aria-hidden",!0),i}onClick(e){A(e.target,`[${j}]`)!==this.floater&&this.handleFloater(!1)}onHide(){this.handleFloater(!1)}onKey(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.handleFloater(!1)}onShow(){let{anchor:e,floater:t}=this;this.handleFloater(!0),k.update({anchor:e,floater:t},{all:X,default:"above"},{getPosition:H.getPosition,validate:()=>!t.hidden})}handleCallbacks(e){let{anchor:t,callbacks:i,floater:s,focusable:n}=this,o=e?"addEventListener":"removeEventListener";for(let r of[t,s])r[o]("mouseenter",i.show,d.passive),r[o]("mouseleave",i.hide,d.passive),r[o]("touchstart",i.show,d.passive);n&&(t[o]("blur",i.hide,d.passive),t[o]("focus",i.show,d.passive))}handleFloater(e){let{callbacks:t,floater:i}=this,s=e?"addEventListener":"removeEventListener";document[s]("keydown",t.key,d.passive),document[s]("pointerdown",t.click,d.passive),i.hidden=!e}},Y=new MutationObserver(H.observer);Y.observe(document,{attributeFilter:[$],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});f(()=>{let l=Array.from(document.querySelectorAll(`[${$}]`));for(let e of l)e.setAttribute($,"")});
