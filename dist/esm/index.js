var B=Object.defineProperty;var I=(o,e,t)=>e in o?B(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var M=(o,e,t)=>(I(o,typeof e!="symbol"?e+"":e,t),t);var c={active:{capture:!1,passive:!1},passive:{capture:!1,passive:!0}},$=["[href]","[tabindex]","button","input","select","textarea"].map(o=>`${o}:not([disabled]):not([hidden]):not([tabindex="-1"])`).join(",");function g(o){return globalThis.requestAnimationFrame?.(o)??globalThis.setTimeout?.(()=>{o(Date.now())},16)}function R(o,e){if(e(o))return o;let t=o?.parentElement;for(;t!=null;){if(t===document.body)return;if(e(t))break;t=t.parentElement}return t??void 0}function L(o,e,t){let i=o.getAttribute(e);return i==null||i.trim().length===0?t:i}function V(o){let e=[],t=Array.from(o.querySelectorAll($));for(let i of t){let s=globalThis.getComputedStyle?.(i);(s==null||s.display!=="none"&&s.visibility!=="hidden")&&e.push(i)}return e}function q(o){return o==null?!0:o.trim().length===0}function x(o,e){return o.replace(/\{\{(\w+)\}\}/g,(t,...i)=>i==null||i.length===0?t:String(e?.[i[0]]??t))}function w(o,e,t){t==null?o.removeAttribute(e):o.setAttribute(e,String(t))}function m(o,e,t){typeof t=="boolean"&&o?.setAttribute(e,String(t))}var d=class{static destroyList(e){let{children:t,observer:i,open:s}=f.list;t.delete(e),s.delete(e),i.get(e)?.disconnect(),i.delete(e)}static getChildren(e){return Array.from(e.querySelectorAll(":scope > delicious-details > details, :scope > details"))}static initializeList(e){let{children:t,observer:i,open:s}=f.list;t.set(e,d.getChildren(e)),s.set(e,[]),i.set(e,new MutationObserver(l=>{A.callback(e,l)})),i.get(e)?.observe(e,A.options),d.open(e,L(e,"open",""))}static onGlobalKeydown(e){if(e.key!=="Escape")return;let{containers:t}=f.details,i=R(document.activeElement,s=>t.has(s)&&(t.get(s)?.open??!0));i instanceof O&&d.onToggle.call(i,!1)}static onLocalKeydown(e){if(e.isComposing||e.key!=="ArrowDown"&&e.key!=="ArrowUp"||!(this instanceof W))return;let{target:t}=e;if(!(t instanceof HTMLElement))return;let i=f.list.children.get(this)??[],s=t.parentElement,l=i.indexOf(s);if(l===-1)return;let n=l+(e.key==="ArrowDown"?1:-1);n<0?n=i.length-1:n>=i.length&&(n=0),i[n]?.querySelector(":scope > summary")?.focus()}static onToggle(e){if(!(this instanceof O))return;let{buttons:t,containers:i}=f.details,s=i.get(this);s!=null&&(s.open=e??!s.open,s.open||t.get(this)?.focus())}static open(e,t){if(t==null){d.update(e,[]);return}if(t.length>0&&!/^[\s\d,]+$/.test(t))throw new Error("The 'selected'-attribute of a 'delicious-details-list'-element must be a comma-separated string of numbers, e.g. '', '0' or '0,1,2'");let i=t.length>0?t.split(",").filter(s=>s.trim().length>0).map(s=>Number.parseInt(s,10)):[];d.update(e,i)}static update(e,t){if(typeof t>"u")return;let{children:i,observer:s,open:l}=f.list,n=t.filter((a,h,v)=>v.indexOf(a)===h).sort((a,h)=>a-h);e.multiple||(n=n.length>0&&n[0]!=null?n.length>1?[n[0]]:n:[]);let r=e.open;if(n.length===r.length&&n.every((a,h)=>r[h]===a))return;s.get(e)?.disconnect();let u=i.get(e)??[];for(let a of u)n.includes(u.indexOf(a))!==a.open&&(a.open=!a.open);g(()=>{l.set(e,n),w(e,"open",n.length===0?null:n),e.dispatchEvent(new Event("toggle")),g(()=>s.get(e)?.observe(e,A.options))})}},A=class{static callback(e,t){if(t.length===0)return;let{children:i}=f.list,s=t[0],l=Array.from(s?.addedNodes??[]),n=Array.from(s?.removedNodes??[]);if(l.concat(n).some(v=>v.parentElement===e)){i.set(e,d.getChildren(e));return}if(s?.type!=="attributes"||!(s?.target instanceof HTMLDetailsElement))return;let r=s.target,a=(i.get(e)??[]).indexOf(r);if(a===-1)return;let h=[];e.multiple?h=r.open?e.open.concat([a]):e.open.filter(v=>v!==a):h=r.open?[a]:[],d.update(e,h)}};M(A,"options",{attributeFilter:["open"],attributes:!0,childList:!0,subtree:!0});var f=class{};M(f,"details",{buttons:new WeakMap,containers:new WeakMap}),M(f,"list",{children:new WeakMap,observer:new WeakMap,open:new WeakMap});var O=class extends HTMLElement{get open(){return f.details.containers.get(this)?.open??!1}set open(e){d.onToggle.call(this,e)}connectedCallback(){let e=this.querySelector(":scope > details"),t=e?.querySelector(":scope > summary");f.details.buttons.set(this,t),f.details.containers.set(this,e)}disconnectedCallback(){f.details.buttons.delete(this),f.details.containers.delete(this)}toggle(){d.onToggle.call(this)}},W=class extends HTMLElement{static get observedAttributes(){return["multiple","open"]}get multiple(){return this.getAttribute("multiple")!=null}set multiple(e){w(this,"multiple",e?"":null)}get open(){return f.list.open.get(this)??[]}set open(e){d.update(this,e)}constructor(){super(),this.addEventListener("keydown",d.onLocalKeydown.bind(this),c.passive)}attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"multiple":d.open(this,L(this,"open",""));break;case"open":d.open(this,i);break;default:break}}connectedCallback(){d.initializeList(this)}disconnectedCallback(){d.destroyList(this)}};globalThis.addEventListener("keydown",d.onGlobalKeydown,c.passive);globalThis.customElements.define("delicious-details",O);globalThis.customElements.define("delicious-details-list",W);var k=class{static update(e,t,i){let{anchor:s,floater:l,parent:n}=e,{after:r,getPosition:u,validate:a}=i;function h(){if(!a())return;let v=k.getType(n??s,t),z=u(v,{anchor:s.getBoundingClientRect(),floater:l.getBoundingClientRect(),parent:n?.getBoundingClientRect()});k.setPosition(l,z),r?.(),g(h)}g(h)}static getType(e,t){let i=L(e,"position",t.default);return t.all.includes(i)?i:t.default}static setPosition(e,t){let{left:i,top:s}=t.coordinate;e.getAttribute("position")!==t.type&&e.setAttribute("position",t.type);let l=`matrix(1, 0, 0, 1, ${i}, ${s})`;e.style.transform!==l&&(e.style.inset="0 auto auto 0",e.style.position="fixed",e.style.transform=l,e.hidden&&g(()=>{e.hidden=!1}))}};var N=0,j=["any"].concat(...["above","below"].map(o=>[o,`${o}-left`,`${o}-right`])),p=class{static getPosition(e,t){let i=p.getValue(e,["left","right"],t,!0),s=p.getValue(e,["below","above"],t,!1),l=t.anchor.left===i?"left":"right";if(e!=="any")return{coordinate:{left:i,top:s},type:["above","below"].includes(e)?`${e}-${l}`:e};let n=t.anchor.bottom===s?"below":"above";return{coordinate:{left:i,top:s},type:`${n}-${l}`}}static getValue(e,t,i,s){let{anchor:l,floater:n}=i,r=s?n.width:n.height,u=s?l.left:l.bottom,a=(s?l.right:l.top)-r;return t.some(v=>e.includes(v))?e.includes(t[0]??"_")?u:a:u+r<=(s?globalThis.innerWidth:globalThis.innerHeight)||a<0?u:a}static initialize(e,t,i){i.hidden=!0,q(i.id)&&i.setAttribute("id",q(e.id)?`polite_popover_${N++}`:`${e.id}_content`),w(t,"aria-controls",i.id),m(t,"aria-expanded",!1),w(i,"role","dialog"),w(i,"tabindex","-1"),m(i,"aria-modal",!0),t.addEventListener("click",p.toggle.bind(e),c.passive)}static onClick(e){if(!(this instanceof P)||!this.open)return;let t=b.values.anchors.get(this),i=b.values.floaters.get(this);e.target!==t&&e.target!==i&&!(i?.contains(e.target)??!1)&&p.toggle.call(this,!1)}static onKeydown(e){if(!(this instanceof P)||!this.open||!(e instanceof KeyboardEvent))return;e.key==="Escape"&&p.toggle.call(this,!1);let t=b.values.floaters.get(this);if(e.key!=="Tab"||t==null)return;e.preventDefault();let i=V(t);if(document.activeElement===t){g(()=>{(i[e.shiftKey?i.length-1:0]??t).focus()});return}let s=i.indexOf(document.activeElement),l=t;if(s>-1){let n=s+(e.shiftKey?-1:1);n<0?n=i.length-1:n>=i.length&&(n=0),l=i[n]??t}g(()=>{l.focus()})}static toggle(e){if(!(this instanceof P))return;let t=b.values.anchors.get(this),i=b.values.floaters.get(this);if(t==null||i==null)return;let s=typeof e=="boolean"?!e:this.open,l=b.values.click.get(this),n=b.values.keydown.get(this),r=s?"removeEventListener":"addEventListener";if(l!=null&&document[r]("click",l,c.passive),n!=null&&document[r]("keydown",n,c.active),i.hidden=s,m(t,"aria-expanded",!s),this.dispatchEvent(new Event("toggle")),s){t.focus();return}let u=!1;k.update({anchor:t,floater:i,parent:this},{all:j,default:"below"},{after(){u||(u=!0,g(()=>{(V(i)[0]??i).focus()}))},getPosition:p.getPosition,validate:()=>this.open})}},y=class{static add(e){let t=e.querySelector(":scope > [polite-popover-button]"),i=e.querySelector(":scope > [polite-popover-content]");t==null||i==null||(y.values.anchors?.set(e,t),y.values.floaters?.set(e,i),y.values.click?.set(e,p.onClick.bind(e)),y.values.keydown?.set(e,p.onKeydown.bind(e)))}static remove(e){let t=y.values.floaters.get(e);t!=null&&(t.hidden=!0,e.appendChild(t)),y.values.anchors.delete(e),y.values.floaters.delete(e),y.values.click.delete(e),y.values.keydown.delete(e)}},b=y;M(b,"values",{anchors:new WeakMap,click:new WeakMap,floaters:new WeakMap,keydown:new WeakMap});var P=class extends HTMLElement{get button(){return b.values.anchors.get(this)}get content(){return b.values.floaters.get(this)}get open(){return this.button?.getAttribute("aria-expanded")==="true"}set open(e){p.toggle.call(this,e)}constructor(){super();let e=this.querySelector(":scope > [polite-popover-button]"),t=this.querySelector(":scope > [polite-popover-content]");if(e==null||!(e instanceof HTMLButtonElement||e instanceof HTMLElement&&e.getAttribute("role")==="button"))throw new Error("<polite-popover> must have a <button>-element (or button-like element) with the attribute 'polite-popover-button'");if(t==null||!(t instanceof HTMLElement))throw new Error("<polite-popover> must have an element with the attribute 'polite-popover-content'");p.initialize(this,e,t)}connectedCallback(){b.add(this)}disconnectedCallback(){b.remove(this)}toggle(){p.toggle.call(this)}};globalThis.customElements.define("polite-popover",P);var D={full:"{{label}}{{indicator}}{{status}}",indicator:'<div class="swanky-switch__indicator" aria-hidden="true"><span class="swanky-switch__indicator__value"></span></div>',label:'<div id="{{id}}" class="swanky-switch__label">{{html}}</div>',status:{item:'<span class="swanky-switch__status__{{type}}">{{html}}</span>',wrapper:'<div class="swanky-switch__status" aria-hidden="true">{{off}}{{on}}</div>'}},E=class{static addListeners(e){e.addEventListener("click",E.onToggle.bind(e),c.passive),e.addEventListener("keydown",E.onKey.bind(e),c.passive)}static initialize(e,t,i){t.parentElement?.removeChild(t),i.parentElement?.removeChild(i),m(e,"aria-checked",i.checked||e.checked),m(e,"aria-disabled",i.disabled||e.disabled),m(e,"aria-readonly",i.readOnly||e.readOnly),e.setAttribute("aria-labelledby",`${i.id}_label`),e.setAttribute("id",i.id),e.setAttribute("name",i.name??i.id),e.setAttribute("role","switch"),e.setAttribute("tabindex","0"),e.setAttribute("value",i.value);let s=L(e,"swanky-switch-off","Off"),l=L(e,"swanky-switch-on","On");e.insertAdjacentHTML("afterbegin",E.render(i.id,t,s,l)),E.addListeners(e)}static onKey(e){(e.key===" "||e.key==="Enter")&&this instanceof S&&E.toggle(this)}static onToggle(){this instanceof S&&E.toggle(this)}static render(e,t,i,s){return x(D.full,{indicator:D.indicator,label:x(D.label,{html:t.innerHTML,id:`${e}_label`}),status:x(D.status.wrapper,{off:x(D.status.item,{html:i,type:"off"}),on:x(D.status.item,{html:s,type:"on"})})})}static toggle(e){e.disabled||e.readOnly||(e.checked=!e.checked,e.dispatchEvent(new Event("change")))}},S=class extends HTMLElement{get checked(){return this.getAttribute("aria-checked")==="true"}set checked(e){m(this,"aria-checked",e)}get disabled(){return this.getAttribute("aria-disabled")==="true"}set disabled(e){m(this,"aria-disabled",e)}get readOnly(){return this.getAttribute("aria-readonly")==="true"}set readOnly(e){m(this,"aria-readonly",e)}get value(){return this.checked?"on":"off"}constructor(){if(super(),this.querySelector(".swanky-switch__label")!=null){E.addListeners(this);return}let e=this.querySelector("[swanky-switch-input]"),t=this.querySelector("[swanky-switch-label]");if(typeof e>"u"||!(e instanceof HTMLInputElement)||e.type!=="checkbox")throw new Error("<swanky-switch> must have an <input>-element with type 'checkbox' and the attribute 'swanky-switch-input'");if(typeof t>"u"||!(t instanceof HTMLElement))throw new Error("<swanky-switch> must have a <label>-element with the attribute 'swanky-switch-label'");E.initialize(this,t,e)}};globalThis.customElements.define("swanky-switch",S);var C="toasty-tooltip",F=`${C}-content`,K=new WeakMap,G=["above","below","horizontal","left","right","vertical"],T=class{static getPosition(e,t){let i=T.getValue(e,["horizontal","left","right"],t,!0),s=T.getValue(e,["vertical","above","below"],t,!1);return["horizontal","vertical"].includes(e)?{coordinate:{left:i,top:s},type:e==="horizontal"?i===t.anchor.right?"right":"left":s===t.anchor.bottom?"below":"above"}:{coordinate:{left:i,top:s},type:e}}static getValue(e,t,i,s){let{anchor:l,floater:n}=i,r=s?l.right:l.bottom,u=s?l.left:l.top,a=s?n.width:n.height,h=t.indexOf(e);if(h===-1)return u+(s?l.width:l.height)/2-a/2;let v=u-a;return h>0?h===1?v:r:r+a<=(s?globalThis.innerWidth:globalThis.innerHeight)||v<0?r:v}static observer(e){for(let t of e){if(t.type!=="attributes")continue;let i=t.target;i.getAttribute(C)==null?H.destroy(i):H.create(i)}}},H=class{constructor(e){this.anchor=e;this.floater=H.getFloater(e),this.focusable=e.matches($),this.callbacks={click:this.onClick.bind(this),hide:this.onHide.bind(this),key:this.onKey.bind(this),show:this.onShow.bind(this)},this.handleCallbacks(!0)}floater;callbacks;focusable;static create(e){K.has(e)||K.set(e,new H(e))}static destroy(e){let t=K.get(e);typeof t>"u"||(t.handleCallbacks(!1),K.delete(e))}static getFloater(e){let t=e.getAttribute("aria-describedby")??e.getAttribute("aria-labelledby"),i=t==null?null:document.getElementById(t);if(i==null)throw new Error(`A '${C}'-attributed element must have a valid id reference in either the 'aria-describedby' or 'aria-labelledby' attribute.`);return i.hidden=!0,w(i,F,""),w(i,"role","tooltip"),m(i,"aria-hidden",!0),i}onClick(e){R(e.target,i=>i.hasAttribute(F))!==this.floater&&this.handleFloater(!1)}onHide(){this.handleFloater(!1)}onKey(e){e instanceof KeyboardEvent&&e.key==="Escape"&&this.handleFloater(!1)}onShow(){let{anchor:e,floater:t}=this;this.handleFloater(!0),k.update({anchor:e,floater:t},{all:G,default:"above"},{getPosition:T.getPosition,validate:()=>!t.hidden})}handleCallbacks(e){let{anchor:t,callbacks:i,floater:s,focusable:l}=this,n=e?"addEventListener":"removeEventListener";for(let r of[t,s])r[n]("mouseenter",i.show,c.passive),r[n]("mouseleave",i.hide,c.passive),r[n]("touchstart",i.show,c.passive);l&&(t[n]("blur",i.hide,c.passive),t[n]("focus",i.show,c.passive))}handleFloater(e){let{callbacks:t,floater:i}=this,s=e?"addEventListener":"removeEventListener";document[s]("keydown",t.key,c.passive),document[s]("pointerdown",t.click,c.passive),i.hidden=!e}},U=new MutationObserver(T.observer);U.observe(document,{attributeFilter:[C],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0});g(()=>{let o=Array.from(document.querySelectorAll(`[${C}]`));for(let e of o)e.setAttribute(C,"")});
